{"version":3,"sources":["./src/vendor/jquery.jeditable.mini.js","./src/app/modules/augmenting/dynamic-scripts/backlogs.js","./src/vendor/jquery.flot/excanvas.js","./src/vendor/jquery.colorcontrast.js","./src/vendor/jquery.cookie.js","./src/vendor/jquery.flot/jquery.flot.js"],"names":["$","fn","editable","target","options","settings","extend","defaults","plugin","types","type","submit","buttons","content","element","reset","callback","onedit","onsubmit","onreset","onerror","tooltip","this","attr","autowidth","width","autoheight","height","each","self","savedwidth","savedheight","data","event","trim","html","placeholder","bind","e","editing","apply","preventDefault","stopPropagation","removeAttr","toLowerCase","replace","revert","form","cssclass","style","css","input_content","input","loadurl","t","setTimeout","disabled","loadtext","loaddata","id","isFunction","ajax","loadtype","url","async","success","result","window","clearTimeout","name","append","focus","select","keydown","keyCode","onblur","blur","val","str","innerHTML","submitdata","method","indicator","ajaxoptions","dataType","status","error","xhr","unbind","removeData","original","string","match","click","cancel","text","textarea","rows","cols","String","constructor","eval","json","key","hasOwnProperty","option","children","addInputType","jQuery","document","createElement","getContext","m","Math","mr","round","ms","sin","mc","cos","abs","sqrt","Z","context_","CanvasRenderingContext2D_","slice","Array","prototype","encodeHtmlAttribute","s","addNamespacesAndStylesheet","doc","namespaces","add","styleSheets","ss","createStyleSheet","owningElement","cssText","G_vmlCanvasManager_","init","opt_doc","test","navigator","userAgent","opera","attachEvent","f","obj","var_args","a","call","arguments","concat","init_","els","getElementsByTagName","i","length","initElement","el","ownerDocument","onPropertyChange","onResize","attrs","attributes","specified","nodeValue","clientWidth","clientHeight","srcElement","propertyName","clearRect","firstChild","decToHex","j","toString","matrixMultiply","m1","m2","x","y","sum","z","copyState","o1","o2","fillStyle","lineCap","lineJoin","lineWidth","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","globalAlpha","font","textAlign","textBaseline","arcScaleX_","arcScaleY_","lineScale_","colorData","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","black","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","grey","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","getRgbHslContent","styleString","start","indexOf","end","parts","substring","split","substr","alpha","Number","percent","parseFloat","clamp","v","min","max","hueToRgb","h","processStyle","charAt","n","floor","r","g","b","l","q","p","hslToRgb","color","DEFAULT_STYLE","fontStyleCache","surfaceElement","m_","mStack_","aStack_","currentPath_","canvas","overflow","position","appendChild","element_","contextPrototype","bezierCurveTo","cp1","cp2","push","cp1x","cp1y","cp2x","cp2y","currentX_","currentY_","appendStroke","ctx","lineStr","opacity","processLineCap","appendFill","arcScaleX","arcScaleY","CanvasGradient_","angle","shift","expansion","type_","x0","x0_","y0","y0_","x1","x1_","y1","y1_","p0","getCoords_","p1","dx","dy","atan2","PI","dimension","r0_","r1_","stops","colors_","sort","cs1","cs2","offset","color1","color2","opacity1","opacity2","colors","stop","join","CanvasPattern_","deltaLeft","deltaTop","src_","setM","updateLineScale","isFinite","matrixIsFinite","det","aType","image","repetition","img","nodeType","tagName","throwException","readyState","assertImageIsValid","repetition_","src","width_","height_","DOMException_","code","message","textMeasureEl_","removeNode","beginPath","moveTo","aX","aY","lineTo","aCP1x","aCP1y","aCP2x","aCP2y","quadraticCurveTo","aCPx","aCPy","cp","arc","aRadius","aStartAngle","aEndAngle","aClockwise","arcType","xStart","yStart","xEnd","yEnd","pStart","pEnd","radius","rect","aWidth","aHeight","closePath","strokeRect","oldPath","stroke","fillRect","fill","createLinearGradient","aX0","aY0","aX1","aY1","gradient","createRadialGradient","aR0","aR1","drawImage","dw","dh","sx","sy","sw","sh","oldRuntimeWidth","runtimeStyle","oldRuntimeHeight","w","Error","d","vmlStr","W","H","filter","c2","c3","c4","insertAdjacentHTML","aFill","chunkSize","save","o","restore","pop","translate","rotate","aRot","c","scale","transform","m11","m12","m21","m22","setTransform","drawText_","maxWidth","delta","left","right","fontStyle","computedStyle","canvasFontSize","currentStyle","fontSize","size","getComputedStyle","ex","variant","fontVariant","weight","fontWeight","family","fontFamily","processFontStyle","fontStyleString","elementStyle","direction","skewM","toFixed","skewOffset","fillText","strokeText","measureText","lastChild","createTextNode","offsetWidth","clip","arcTo","createPattern","addColorStop","aOffset","aColor","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","HIERARCHY_REQUEST_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","NOT_FOUND_ERR","NOT_SUPPORTED_ERR","INUSE_ATTRIBUTE_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","VALIDATION_ERR","TYPE_MISMATCH_ERR","G_vmlCanvasManager","CanvasRenderingContext2D","CanvasGradient","CanvasPattern","DOMException","methods","colorcontrast","bgColor","removeClass","addClass","bgImage","fetchImageColor","Image","context","getImageData","calculateYIQ","_t","parseInt","cookie","value","cookieValue","cookies","decodeURIComponent","expires","date","toUTCString","Date","setTime","getTime","path","domain","secure","encodeURIComponent","B","make","F","E","C","D","G","J","I","normalize","K","clone","extract","parent","nodeName","get","parse","exec","A","aqua","blue","fuchsia","green","lime","maroon","navy","olive","purple","red","silver","white","yellow","Plot","data_","options_","plugins","series","legend","show","noColumns","labelFormatter","labelBoxBorderColor","container","margin","backgroundColor","backgroundOpacity","xaxis","mode","tickColor","inverseTransform","autoscaleMargin","ticks","tickFormatter","labelWidth","labelHeight","reserveSpace","tickLength","alignTicksWithAxis","tickDecimals","tickSize","minTickSize","monthNames","timeformat","twelveHourClock","yaxis","xaxes","yaxes","points","fillColor","symbol","lines","steps","bars","barWidth","align","horizontal","shadowSize","grid","aboveData","borderColor","labelMargin","axisMargin","borderWidth","minBorderMargin","markings","markingsColor","markingsLineWidth","clickable","hoverable","autoHighlight","mouseActiveRadius","hooks","overlay","eventHolder","octx","plotOffset","top","bottom","canvasWidth","canvasHeight","plotWidth","plotHeight","processOptions","processRawData","processDatapoints","drawSeries","draw","bindEvents","drawOverlay","shutdown","plot","executeHooks","hook","args","setData","res","parseData","neededColors","usedColors","assignedColors","sc","variation","sign","ceil","colori","getOrCreateAxis","axisNumber","fillInSeriesOptions","k","ps","topSentry","POSITIVE_INFINITY","bottomSentry","NEGATIVE_INFINITY","fakeInfinity","MAX_VALUE","updateAxis","axis","datamin","datamax","allAxes","_","used","datapoints","format","number","required","defaultValue","pointsize","insertSteps","nullify","isNaN","Infinity","xmin","ymin","xmax","ymax","processData","coord","grep","canvasToAxisCoords","pos","c2p","undefined","axes","makeCanvas","skipPositioning","cls","className","appendTo","getCanvasDimensions","resizeCanvas","cctx","allocateAxisBoxFirstPhase","lw","lh","axismargin","padding","all","samePosition","inArray","sameDirection","innermost","box","setupGrid","opts","widen","setRange","allocatedAxes","noTicks","generator","unit","formatter","magn","norm","timeUnitSize","spec","minSize","pow","log","year","LN10","step","setUTCSeconds","floorInBase","getUTCSeconds","setUTCMinutes","getUTCMinutes","setUTCHours","getUTCHours","setUTCMonth","getUTCMonth","setUTCFullYear","getUTCFullYear","setUTCMilliseconds","minute","hour","day","setUTCDate","prev","carry","NaN","formatDate","span","suffix","fmt","month","maxDec","dec","otherAxis","niceTicks","extraDec","ts","tickGenerator","setupTickGeneration","oticks","label","setTicks","snapRangeToTicks","dummyDiv","labels","makeDummyDiv","remove","find","measureTickLabels","minMargin","identity","it","p2c","setTransformationHelpers","allocateAxisBoxSecondPhase","tick","insertAxisLabels","fragments","rowStarted","lf","table","div","prependTo","insertLegend","getColorOrGradient","drawGrid","extractRange","ranges","from","to","tmp","getAxes","xrange","yrange","bw","xoff","yoff","plotLine","xoffset","yoffset","axisx","axisy","prevx","prevy","x2","y2","plotLineArea","areaOpen","ypos","segmentStart","segmentEnd","x1old","x2old","getFillStyle","drawSeriesLines","plotBars","barLeft","barRight","fillStyleCallback","drawBar","drawSeriesBars","plotPoints","shadow","drawSeriesPoints","drawLeft","drawRight","drawTop","drawBottom","filloptions","seriesColor","getPlaceholder","getCanvas","getPlotOffset","getData","getXAxes","getYAxes","getOptions","highlight","unhighlight","triggerRedrawOverlay","pointOffset","point","redrawTimeout","onMouseMove","onMouseLeave","onClick","resize","initPlugins","x2axis","y2axis","coloredAreas","coloredAreasColor","parseOptions","reused","existingCanvas","existingOverlay","not","setupCanvases","mousemove","mouseleave","highlights","triggerClickHoverEvent","eventname","seriesFilter","canvasX","pageX","canvasY","pageY","item","mouseX","mouseY","maxDistance","smallestDistance","mx","my","maxx","maxy","dist","datapoint","dataIndex","seriesIndex","findNearbyItem","auto","trigger","hi","drawBarHighlight","drawPointHighlight","indexOfHighlight","splice","pointRadius","defaultColor","co","brightness","base","version","leftPad","escape","padNext","hours","isAM","search","getUTCDate"],"mappings":"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","file":"6.79ea84e2c44cfe6b6fd9.js","sourcesContent":["\n(function($){$.fn.editable=function(target,options){if('disable'==target){$(this).data('disabled.editable',true);return;}\nif('enable'==target){$(this).data('disabled.editable',false);return;}\nif('destroy'==target){$(this).unbind($(this).data('event.editable')).removeData('disabled.editable').removeData('event.editable');return;}\nvar settings=$.extend({},$.fn.editable.defaults,{target:target},options);var plugin=$.editable.types[settings.type].plugin||function(){};var submit=$.editable.types[settings.type].submit||function(){};var buttons=$.editable.types[settings.type].buttons||$.editable.types['defaults'].buttons;var content=$.editable.types[settings.type].content||$.editable.types['defaults'].content;var element=$.editable.types[settings.type].element||$.editable.types['defaults'].element;var reset=$.editable.types[settings.type].reset||$.editable.types['defaults'].reset;var callback=settings.callback||function(){};var onedit=settings.onedit||function(){};var onsubmit=settings.onsubmit||function(){};var onreset=settings.onreset||function(){};var onerror=settings.onerror||reset;if(settings.tooltip){$(this).attr('title',settings.tooltip);}\nsettings.autowidth='auto'==settings.width;settings.autoheight='auto'==settings.height;return this.each(function(){var self=this;var savedwidth=$(self).width();var savedheight=$(self).height();$(this).data('event.editable',settings.event);if(!$.trim($(this).html())){$(this).html(settings.placeholder);}\n$(this).bind(settings.event,function(e){if(true===$(this).data('disabled.editable')){return;}\nif(self.editing){return;}\nif(false===onedit.apply(this,[settings,self])){return;}\ne.preventDefault();e.stopPropagation();if(settings.tooltip){$(self).removeAttr('title');}\nif(0==$(self).width()){settings.width=savedwidth;settings.height=savedheight;}else{if(settings.width!='none'){settings.width=settings.autowidth?$(self).width():settings.width;}\nif(settings.height!='none'){settings.height=settings.autoheight?$(self).height():settings.height;}}\nif($(this).html().toLowerCase().replace(/(;|\")/g,'')==settings.placeholder.toLowerCase().replace(/(;|\")/g,'')){$(this).html('');}\nself.editing=true;self.revert=$(self).html();$(self).html('');var form=$('<form />');if(settings.cssclass){if('inherit'==settings.cssclass){form.attr('class',$(self).attr('class'));}else{form.attr('class',settings.cssclass);}}\nif(settings.style){if('inherit'==settings.style){form.attr('style',$(self).attr('style'));form.css('display',$(self).css('display'));}else{form.attr('style',settings.style);}}\nvar input=element.apply(form,[settings,self]);var input_content;if(settings.loadurl){var t=setTimeout(function(){input.disabled=true;content.apply(form,[settings.loadtext,settings,self]);},100);var loaddata={};loaddata[settings.id]=self.id;if($.isFunction(settings.loaddata)){$.extend(loaddata,settings.loaddata.apply(self,[self.revert,settings]));}else{$.extend(loaddata,settings.loaddata);}\n$.ajax({type:settings.loadtype,url:settings.loadurl,data:loaddata,async:false,success:function(result){window.clearTimeout(t);input_content=result;input.disabled=false;}});}else if(settings.data){input_content=settings.data;if($.isFunction(settings.data)){input_content=settings.data.apply(self,[self.revert,settings]);}}else{input_content=self.revert;}\ncontent.apply(form,[input_content,settings,self]);input.attr('name',settings.name);buttons.apply(form,[settings,self]);$(self).append(form);plugin.apply(form,[settings,self]);$(':input:visible:enabled:first',form).focus();if(settings.select){input.select();}\ninput.keydown(function(e){if(e.keyCode==27){e.preventDefault();reset.apply(form,[settings,self]);}});var t;if('cancel'==settings.onblur){input.blur(function(e){t=setTimeout(function(){reset.apply(form,[settings,self]);},500);});}else if('submit'==settings.onblur){input.blur(function(e){t=setTimeout(function(){form.submit();},200);});}else if($.isFunction(settings.onblur)){input.blur(function(e){settings.onblur.apply(self,[input.val(),settings]);});}else{input.blur(function(e){});}\nform.submit(function(e){if(t){clearTimeout(t);}\ne.preventDefault();if(false!==onsubmit.apply(form,[settings,self])){if(false!==submit.apply(form,[settings,self])){if($.isFunction(settings.target)){var str=settings.target.apply(self,[input.val(),settings]);$(self).html(str);self.editing=false;callback.apply(self,[self.innerHTML,settings]);if(!$.trim($(self).html())){$(self).html(settings.placeholder);}}else{var submitdata={};submitdata[settings.name]=input.val();submitdata[settings.id]=self.id;if($.isFunction(settings.submitdata)){$.extend(submitdata,settings.submitdata.apply(self,[self.revert,settings]));}else{$.extend(submitdata,settings.submitdata);}\nif('PUT'==settings.method){submitdata['_method']='put';}\n$(self).html(settings.indicator);var ajaxoptions={type:'POST',data:submitdata,dataType:'html',url:settings.target,success:function(result,status){if(ajaxoptions.dataType=='html'){$(self).html(result);}\nself.editing=false;callback.apply(self,[result,settings]);if(!$.trim($(self).html())){$(self).html(settings.placeholder);}},error:function(xhr,status,error){onerror.apply(form,[settings,self,xhr]);}};$.extend(ajaxoptions,settings.ajaxoptions);$.ajax(ajaxoptions);}}}\n$(self).attr('title',settings.tooltip);return false;});});this.reset=function(form){if(this.editing){if(false!==onreset.apply(form,[settings,self])){$(self).html(self.revert);self.editing=false;if(!$.trim($(self).html())){$(self).html(settings.placeholder);}\nif(settings.tooltip){$(self).attr('title',settings.tooltip);}}}};});};$.editable={types:{defaults:{element:function(settings,original){var input=$('<input type=\"hidden\"></input>');$(this).append(input);return(input);},content:function(string,settings,original){$(':input:first',this).val(string);},reset:function(settings,original){original.reset(this);},buttons:function(settings,original){var form=this;if(settings.submit){if(settings.submit.match(/>$/)){var submit=$(settings.submit).click(function(){if(submit.attr(\"type\")!=\"submit\"){form.submit();}});}else{var submit=$('<button type=\"submit\" />');submit.html(settings.submit);}\n$(this).append(submit);}\nif(settings.cancel){if(settings.cancel.match(/>$/)){var cancel=$(settings.cancel);}else{var cancel=$('<button type=\"cancel\" />');cancel.html(settings.cancel);}\n$(this).append(cancel);$(cancel).click(function(event){if($.isFunction($.editable.types[settings.type].reset)){var reset=$.editable.types[settings.type].reset;}else{var reset=$.editable.types['defaults'].reset;}\nreset.apply(form,[settings,original]);return false;});}}},text:{element:function(settings,original){var input=$('<input />');if(settings.width!='none'){input.width(settings.width);}\nif(settings.height!='none'){input.height(settings.height);}\ninput.attr('autocomplete','off');$(this).append(input);return(input);}},textarea:{element:function(settings,original){var textarea=$('<textarea />');if(settings.rows){textarea.attr('rows',settings.rows);}else if(settings.height!=\"none\"){textarea.height(settings.height);}\nif(settings.cols){textarea.attr('cols',settings.cols);}else if(settings.width!=\"none\"){textarea.width(settings.width);}\n$(this).append(textarea);return(textarea);}},select:{element:function(settings,original){var select=$('<select />');$(this).append(select);return(select);},content:function(data,settings,original){if(String==data.constructor){eval('var json = '+data);}else{var json=data;}\nfor(var key in json){if(!json.hasOwnProperty(key)){continue;}\nif('selected'==key){continue;}\nvar option=$('<option />').val(key).append(json[key]);$('select',this).append(option);}\n$('select',this).children().each(function(){if($(this).val()==json['selected']||$(this).text()==$.trim(original.revert)){$(this).attr('selected','selected');}});}}},addInputType:function(name,input){$.editable.types[name]=input;}};$.fn.editable.defaults={name:'value',id:'id',type:'text',width:'auto',height:'auto',event:'click.editable',onblur:'cancel',loadtype:'GET',loadtext:'Loading...',placeholder:'Click to edit',loaddata:{},submitdata:{},ajaxoptions:{}};})(jQuery);","//-- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2020 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2017 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See docs/COPYRIGHT.rdoc for more details.\n//++\n\nrequire('core-vendor/jquery.flot/jquery.flot');\nrequire('core-vendor/jquery.flot/excanvas');\nrequire('core-vendor/jquery.jeditable.mini');\nrequire('core-vendor/jquery.cookie');\nrequire('core-vendor/jquery.colorcontrast');\n\nrequire('./backlogs/common');\nrequire('./backlogs/master_backlog');\nrequire('./backlogs/backlog');\nrequire('./backlogs/burndown');\nrequire('./backlogs/model');\nrequire('./backlogs/editable_inplace');\nrequire('./backlogs/sprint');\nrequire('./backlogs/work_package');\nrequire('./backlogs/story');\nrequire('./backlogs/task');\nrequire('./backlogs/impediment');\nrequire('./backlogs/taskboard');\nrequire('./backlogs/show_main');\n","// Copyright 2006 Google Inc.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n\n// Known Issues:\n//\n// * Patterns only support repeat.\n// * Radial gradient are not implemented. The VML version of these look very\n//   different from the canvas one.\n// * Clipping paths are not implemented.\n// * Coordsize. The width and height attribute have higher priority than the\n//   width and height style values which isn't correct.\n// * Painting mode isn't implemented.\n// * Canvas width/height should is using content-box by default. IE in\n//   Quirks mode will draw the canvas using border-box. Either change your\n//   doctype to HTML5\n//   (http://www.whatwg.org/specs/web-apps/current-work/#the-doctype)\n//   or use Box Sizing Behavior from WebFX\n//   (http://webfx.eae.net/dhtml/boxsizing/boxsizing.html)\n// * Non uniform scaling does not correctly scale strokes.\n// * Filling very large shapes (above 5000 points) is buggy.\n// * Optimize. There is always room for speed improvements.\n\n// Only add this code if we do not already have a canvas implementation\nif (!document.createElement('canvas').getContext) {\n\n(function() {\n\n  // alias some functions to make (compiled) code shorter\n  var m = Math;\n  var mr = m.round;\n  var ms = m.sin;\n  var mc = m.cos;\n  var abs = m.abs;\n  var sqrt = m.sqrt;\n\n  // this is used for sub pixel precision\n  var Z = 10;\n  var Z2 = Z / 2;\n\n  /**\n   * This funtion is assigned to the <canvas> elements as element.getContext().\n   * @this {HTMLElement}\n   * @return {CanvasRenderingContext2D_}\n   */\n  function getContext() {\n    return this.context_ ||\n        (this.context_ = new CanvasRenderingContext2D_(this));\n  }\n\n  var slice = Array.prototype.slice;\n\n  /**\n   * Binds a function to an object. The returned function will always use the\n   * passed in {@code obj} as {@code this}.\n   *\n   * Example:\n   *\n   *   g = bind(f, obj, a, b)\n   *   g(c, d) // will do f.call(obj, a, b, c, d)\n   *\n   * @param {Function} f The function to bind the object to\n   * @param {Object} obj The object that should act as this when the function\n   *     is called\n   * @param {*} var_args Rest arguments that will be used as the initial\n   *     arguments when the function is called\n   * @return {Function} A new function that has bound this\n   */\n  function bind(f, obj, var_args) {\n    var a = slice.call(arguments, 2);\n    return function() {\n      return f.apply(obj, a.concat(slice.call(arguments)));\n    };\n  }\n\n  function encodeHtmlAttribute(s) {\n    return String(s).replace(/&/g, '&amp;').replace(/\"/g, '&quot;');\n  }\n\n  function addNamespacesAndStylesheet(doc) {\n    // create xmlns\n    if (!doc.namespaces['g_vml_']) {\n      doc.namespaces.add('g_vml_', 'urn:schemas-microsoft-com:vml',\n                         '#default#VML');\n\n    }\n    if (!doc.namespaces['g_o_']) {\n      doc.namespaces.add('g_o_', 'urn:schemas-microsoft-com:office:office',\n                         '#default#VML');\n    }\n\n    // Setup default CSS.  Only add one style sheet per document\n    if (!doc.styleSheets['ex_canvas_']) {\n      var ss = doc.createStyleSheet();\n      ss.owningElement.id = 'ex_canvas_';\n      ss.cssText = 'canvas{display:inline-block;overflow:hidden;' +\n          // default size is 300x150 in Gecko and Opera\n          'text-align:left;width:300px;height:150px}';\n    }\n  }\n\n  // Add namespaces and stylesheet at startup.\n  addNamespacesAndStylesheet(document);\n\n  var G_vmlCanvasManager_ = {\n    init: function(opt_doc) {\n      if (/MSIE/.test(navigator.userAgent) && !window.opera) {\n        var doc = opt_doc || document;\n        // Create a dummy element so that IE will allow canvas elements to be\n        // recognized.\n        doc.createElement('canvas');\n        doc.attachEvent('onreadystatechange', bind(this.init_, this, doc));\n      }\n    },\n\n    init_: function(doc) {\n      // find all canvas elements\n      var els = doc.getElementsByTagName('canvas');\n      for (var i = 0; i < els.length; i++) {\n        this.initElement(els[i]);\n      }\n    },\n\n    /**\n     * Public initializes a canvas element so that it can be used as canvas\n     * element from now on. This is called automatically before the page is\n     * loaded but if you are creating elements using createElement you need to\n     * make sure this is called on the element.\n     * @param {HTMLElement} el The canvas element to initialize.\n     * @return {HTMLElement} the element that was created.\n     */\n    initElement: function(el) {\n      if (!el.getContext) {\n        el.getContext = getContext;\n\n        // Add namespaces and stylesheet to document of the element.\n        addNamespacesAndStylesheet(el.ownerDocument);\n\n        // Remove fallback content. There is no way to hide text nodes so we\n        // just remove all childNodes. We could hide all elements and remove\n        // text nodes but who really cares about the fallback content.\n        el.innerHTML = '';\n\n        // do not use inline function because that will leak memory\n        el.attachEvent('onpropertychange', onPropertyChange);\n        el.attachEvent('onresize', onResize);\n\n        var attrs = el.attributes;\n        if (attrs.width && attrs.width.specified) {\n          // TODO: use runtimeStyle and coordsize\n          // el.getContext().setWidth_(attrs.width.nodeValue);\n          el.style.width = attrs.width.nodeValue + 'px';\n        } else {\n          el.width = el.clientWidth;\n        }\n        if (attrs.height && attrs.height.specified) {\n          // TODO: use runtimeStyle and coordsize\n          // el.getContext().setHeight_(attrs.height.nodeValue);\n          el.style.height = attrs.height.nodeValue + 'px';\n        } else {\n          el.height = el.clientHeight;\n        }\n        //el.getContext().setCoordsize_()\n      }\n      return el;\n    }\n  };\n\n  function onPropertyChange(e) {\n    var el = e.srcElement;\n\n    switch (e.propertyName) {\n      case 'width':\n        el.getContext().clearRect();\n        el.style.width = el.attributes.width.nodeValue + 'px';\n        // In IE8 this does not trigger onresize.\n        el.firstChild.style.width =  el.clientWidth + 'px';\n        break;\n      case 'height':\n        el.getContext().clearRect();\n        el.style.height = el.attributes.height.nodeValue + 'px';\n        el.firstChild.style.height = el.clientHeight + 'px';\n        break;\n    }\n  }\n\n  function onResize(e) {\n    var el = e.srcElement;\n    if (el.firstChild) {\n      el.firstChild.style.width =  el.clientWidth + 'px';\n      el.firstChild.style.height = el.clientHeight + 'px';\n    }\n  }\n\n  G_vmlCanvasManager_.init();\n\n  // precompute \"00\" to \"FF\"\n  var decToHex = [];\n  for (var i = 0; i < 16; i++) {\n    for (var j = 0; j < 16; j++) {\n      decToHex[i * 16 + j] = i.toString(16) + j.toString(16);\n    }\n  }\n\n  function createMatrixIdentity() {\n    return [\n      [1, 0, 0],\n      [0, 1, 0],\n      [0, 0, 1]\n    ];\n  }\n\n  function matrixMultiply(m1, m2) {\n    var result = createMatrixIdentity();\n\n    for (var x = 0; x < 3; x++) {\n      for (var y = 0; y < 3; y++) {\n        var sum = 0;\n\n        for (var z = 0; z < 3; z++) {\n          sum += m1[x][z] * m2[z][y];\n        }\n\n        result[x][y] = sum;\n      }\n    }\n    return result;\n  }\n\n  function copyState(o1, o2) {\n    o2.fillStyle     = o1.fillStyle;\n    o2.lineCap       = o1.lineCap;\n    o2.lineJoin      = o1.lineJoin;\n    o2.lineWidth     = o1.lineWidth;\n    o2.miterLimit    = o1.miterLimit;\n    o2.shadowBlur    = o1.shadowBlur;\n    o2.shadowColor   = o1.shadowColor;\n    o2.shadowOffsetX = o1.shadowOffsetX;\n    o2.shadowOffsetY = o1.shadowOffsetY;\n    o2.strokeStyle   = o1.strokeStyle;\n    o2.globalAlpha   = o1.globalAlpha;\n    o2.font          = o1.font;\n    o2.textAlign     = o1.textAlign;\n    o2.textBaseline  = o1.textBaseline;\n    o2.arcScaleX_    = o1.arcScaleX_;\n    o2.arcScaleY_    = o1.arcScaleY_;\n    o2.lineScale_    = o1.lineScale_;\n  }\n\n  var colorData = {\n    aliceblue: '#F0F8FF',\n    antiquewhite: '#FAEBD7',\n    aquamarine: '#7FFFD4',\n    azure: '#F0FFFF',\n    beige: '#F5F5DC',\n    bisque: '#FFE4C4',\n    black: '#000000',\n    blanchedalmond: '#FFEBCD',\n    blueviolet: '#8A2BE2',\n    brown: '#A52A2A',\n    burlywood: '#DEB887',\n    cadetblue: '#5F9EA0',\n    chartreuse: '#7FFF00',\n    chocolate: '#D2691E',\n    coral: '#FF7F50',\n    cornflowerblue: '#6495ED',\n    cornsilk: '#FFF8DC',\n    crimson: '#DC143C',\n    cyan: '#00FFFF',\n    darkblue: '#00008B',\n    darkcyan: '#008B8B',\n    darkgoldenrod: '#B8860B',\n    darkgray: '#A9A9A9',\n    darkgreen: '#006400',\n    darkgrey: '#A9A9A9',\n    darkkhaki: '#BDB76B',\n    darkmagenta: '#8B008B',\n    darkolivegreen: '#556B2F',\n    darkorange: '#FF8C00',\n    darkorchid: '#9932CC',\n    darkred: '#8B0000',\n    darksalmon: '#E9967A',\n    darkseagreen: '#8FBC8F',\n    darkslateblue: '#483D8B',\n    darkslategray: '#2F4F4F',\n    darkslategrey: '#2F4F4F',\n    darkturquoise: '#00CED1',\n    darkviolet: '#9400D3',\n    deeppink: '#FF1493',\n    deepskyblue: '#00BFFF',\n    dimgray: '#696969',\n    dimgrey: '#696969',\n    dodgerblue: '#1E90FF',\n    firebrick: '#B22222',\n    floralwhite: '#FFFAF0',\n    forestgreen: '#228B22',\n    gainsboro: '#DCDCDC',\n    ghostwhite: '#F8F8FF',\n    gold: '#FFD700',\n    goldenrod: '#DAA520',\n    grey: '#808080',\n    greenyellow: '#ADFF2F',\n    honeydew: '#F0FFF0',\n    hotpink: '#FF69B4',\n    indianred: '#CD5C5C',\n    indigo: '#4B0082',\n    ivory: '#FFFFF0',\n    khaki: '#F0E68C',\n    lavender: '#E6E6FA',\n    lavenderblush: '#FFF0F5',\n    lawngreen: '#7CFC00',\n    lemonchiffon: '#FFFACD',\n    lightblue: '#ADD8E6',\n    lightcoral: '#F08080',\n    lightcyan: '#E0FFFF',\n    lightgoldenrodyellow: '#FAFAD2',\n    lightgreen: '#90EE90',\n    lightgrey: '#D3D3D3',\n    lightpink: '#FFB6C1',\n    lightsalmon: '#FFA07A',\n    lightseagreen: '#20B2AA',\n    lightskyblue: '#87CEFA',\n    lightslategray: '#778899',\n    lightslategrey: '#778899',\n    lightsteelblue: '#B0C4DE',\n    lightyellow: '#FFFFE0',\n    limegreen: '#32CD32',\n    linen: '#FAF0E6',\n    magenta: '#FF00FF',\n    mediumaquamarine: '#66CDAA',\n    mediumblue: '#0000CD',\n    mediumorchid: '#BA55D3',\n    mediumpurple: '#9370DB',\n    mediumseagreen: '#3CB371',\n    mediumslateblue: '#7B68EE',\n    mediumspringgreen: '#00FA9A',\n    mediumturquoise: '#48D1CC',\n    mediumvioletred: '#C71585',\n    midnightblue: '#191970',\n    mintcream: '#F5FFFA',\n    mistyrose: '#FFE4E1',\n    moccasin: '#FFE4B5',\n    navajowhite: '#FFDEAD',\n    oldlace: '#FDF5E6',\n    olivedrab: '#6B8E23',\n    orange: '#FFA500',\n    orangered: '#FF4500',\n    orchid: '#DA70D6',\n    palegoldenrod: '#EEE8AA',\n    palegreen: '#98FB98',\n    paleturquoise: '#AFEEEE',\n    palevioletred: '#DB7093',\n    papayawhip: '#FFEFD5',\n    peachpuff: '#FFDAB9',\n    peru: '#CD853F',\n    pink: '#FFC0CB',\n    plum: '#DDA0DD',\n    powderblue: '#B0E0E6',\n    rosybrown: '#BC8F8F',\n    royalblue: '#4169E1',\n    saddlebrown: '#8B4513',\n    salmon: '#FA8072',\n    sandybrown: '#F4A460',\n    seagreen: '#2E8B57',\n    seashell: '#FFF5EE',\n    sienna: '#A0522D',\n    skyblue: '#87CEEB',\n    slateblue: '#6A5ACD',\n    slategray: '#708090',\n    slategrey: '#708090',\n    snow: '#FFFAFA',\n    springgreen: '#00FF7F',\n    steelblue: '#4682B4',\n    tan: '#D2B48C',\n    thistle: '#D8BFD8',\n    tomato: '#FF6347',\n    turquoise: '#40E0D0',\n    violet: '#EE82EE',\n    wheat: '#F5DEB3',\n    whitesmoke: '#F5F5F5',\n    yellowgreen: '#9ACD32'\n  };\n\n\n  function getRgbHslContent(styleString) {\n    var start = styleString.indexOf('(', 3);\n    var end = styleString.indexOf(')', start + 1);\n    var parts = styleString.substring(start + 1, end).split(',');\n    // add alpha if needed\n    if (parts.length == 4 && styleString.substr(3, 1) == 'a') {\n      alpha = Number(parts[3]);\n    } else {\n      parts[3] = 1;\n    }\n    return parts;\n  }\n\n  function percent(s) {\n    return parseFloat(s) / 100;\n  }\n\n  function clamp(v, min, max) {\n    return Math.min(max, Math.max(min, v));\n  }\n\n  function hslToRgb(parts){\n    var r, g, b;\n    h = parseFloat(parts[0]) / 360 % 360;\n    if (h < 0)\n      h++;\n    s = clamp(percent(parts[1]), 0, 1);\n    l = clamp(percent(parts[2]), 0, 1);\n    if (s == 0) {\n      r = g = b = l; // achromatic\n    } else {\n      var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      var p = 2 * l - q;\n      r = hueToRgb(p, q, h + 1 / 3);\n      g = hueToRgb(p, q, h);\n      b = hueToRgb(p, q, h - 1 / 3);\n    }\n\n    return '#' + decToHex[Math.floor(r * 255)] +\n        decToHex[Math.floor(g * 255)] +\n        decToHex[Math.floor(b * 255)];\n  }\n\n  function hueToRgb(m1, m2, h) {\n    if (h < 0)\n      h++;\n    if (h > 1)\n      h--;\n\n    if (6 * h < 1)\n      return m1 + (m2 - m1) * 6 * h;\n    else if (2 * h < 1)\n      return m2;\n    else if (3 * h < 2)\n      return m1 + (m2 - m1) * (2 / 3 - h) * 6;\n    else\n      return m1;\n  }\n\n  function processStyle(styleString) {\n    var str, alpha = 1;\n\n    styleString = String(styleString);\n    if (styleString.charAt(0) == '#') {\n      str = styleString;\n    } else if (/^rgb/.test(styleString)) {\n      var parts = getRgbHslContent(styleString);\n      var str = '#', n;\n      for (var i = 0; i < 3; i++) {\n        if (parts[i].indexOf('%') != -1) {\n          n = Math.floor(percent(parts[i]) * 255);\n        } else {\n          n = Number(parts[i]);\n        }\n        str += decToHex[clamp(n, 0, 255)];\n      }\n      alpha = parts[3];\n    } else if (/^hsl/.test(styleString)) {\n      var parts = getRgbHslContent(styleString);\n      str = hslToRgb(parts);\n      alpha = parts[3];\n    } else {\n      str = colorData[styleString] || styleString;\n    }\n    return {color: str, alpha: alpha};\n  }\n\n  var DEFAULT_STYLE = {\n    style: 'normal',\n    variant: 'normal',\n    weight: 'normal',\n    size: 10,\n    family: 'sans-serif'\n  };\n\n  // Internal text style cache\n  var fontStyleCache = {};\n\n  function processFontStyle(styleString) {\n    if (fontStyleCache[styleString]) {\n      return fontStyleCache[styleString];\n    }\n\n    var el = document.createElement('div');\n    var style = el.style;\n    try {\n      style.font = styleString;\n    } catch (ex) {\n      // Ignore failures to set to invalid font.\n    }\n\n    return fontStyleCache[styleString] = {\n      style: style.fontStyle || DEFAULT_STYLE.style,\n      variant: style.fontVariant || DEFAULT_STYLE.variant,\n      weight: style.fontWeight || DEFAULT_STYLE.weight,\n      size: style.fontSize || DEFAULT_STYLE.size,\n      family: style.fontFamily || DEFAULT_STYLE.family\n    };\n  }\n\n  function getComputedStyle(style, element) {\n    var computedStyle = {};\n\n    for (var p in style) {\n      computedStyle[p] = style[p];\n    }\n\n    // Compute the size\n    var canvasFontSize = parseFloat(element.currentStyle.fontSize),\n        fontSize = parseFloat(style.size);\n\n    if (typeof style.size == 'number') {\n      computedStyle.size = style.size;\n    } else if (style.size.indexOf('px') != -1) {\n      computedStyle.size = fontSize;\n    } else if (style.size.indexOf('em') != -1) {\n      computedStyle.size = canvasFontSize * fontSize;\n    } else if(style.size.indexOf('%') != -1) {\n      computedStyle.size = (canvasFontSize / 100) * fontSize;\n    } else if (style.size.indexOf('pt') != -1) {\n      computedStyle.size = fontSize / .75;\n    } else {\n      computedStyle.size = canvasFontSize;\n    }\n\n    // Different scaling between normal text and VML text. This was found using\n    // trial and error to get the same size as non VML text.\n    computedStyle.size *= 0.981;\n\n    return computedStyle;\n  }\n\n  function buildStyle(style) {\n    return style.style + ' ' + style.variant + ' ' + style.weight + ' ' +\n        style.size + 'px ' + style.family;\n  }\n\n  function processLineCap(lineCap) {\n    switch (lineCap) {\n      case 'butt':\n        return 'flat';\n      case 'round':\n        return 'round';\n      case 'square':\n      default:\n        return 'square';\n    }\n  }\n\n  /**\n   * This class implements CanvasRenderingContext2D interface as described by\n   * the WHATWG.\n   * @param {HTMLElement} surfaceElement The element that the 2D context should\n   * be associated with\n   */\n  function CanvasRenderingContext2D_(surfaceElement) {\n    this.m_ = createMatrixIdentity();\n\n    this.mStack_ = [];\n    this.aStack_ = [];\n    this.currentPath_ = [];\n\n    // Canvas context properties\n    this.strokeStyle = '#000';\n    this.fillStyle = '#000';\n\n    this.lineWidth = 1;\n    this.lineJoin = 'miter';\n    this.lineCap = 'butt';\n    this.miterLimit = Z * 1;\n    this.globalAlpha = 1;\n    this.font = '10px sans-serif';\n    this.textAlign = 'left';\n    this.textBaseline = 'alphabetic';\n    this.canvas = surfaceElement;\n\n    var el = surfaceElement.ownerDocument.createElement('div');\n    el.style.width =  surfaceElement.clientWidth + 'px';\n    el.style.height = surfaceElement.clientHeight + 'px';\n    el.style.overflow = 'hidden';\n    el.style.position = 'absolute';\n    surfaceElement.appendChild(el);\n\n    this.element_ = el;\n    this.arcScaleX_ = 1;\n    this.arcScaleY_ = 1;\n    this.lineScale_ = 1;\n  }\n\n  var contextPrototype = CanvasRenderingContext2D_.prototype;\n  contextPrototype.clearRect = function() {\n    if (this.textMeasureEl_) {\n      this.textMeasureEl_.removeNode(true);\n      this.textMeasureEl_ = null;\n    }\n    this.element_.innerHTML = '';\n  };\n\n  contextPrototype.beginPath = function() {\n    // TODO: Branch current matrix so that save/restore has no effect\n    //       as per safari docs.\n    this.currentPath_ = [];\n  };\n\n  contextPrototype.moveTo = function(aX, aY) {\n    var p = this.getCoords_(aX, aY);\n    this.currentPath_.push({type: 'moveTo', x: p.x, y: p.y});\n    this.currentX_ = p.x;\n    this.currentY_ = p.y;\n  };\n\n  contextPrototype.lineTo = function(aX, aY) {\n    var p = this.getCoords_(aX, aY);\n    this.currentPath_.push({type: 'lineTo', x: p.x, y: p.y});\n\n    this.currentX_ = p.x;\n    this.currentY_ = p.y;\n  };\n\n  contextPrototype.bezierCurveTo = function(aCP1x, aCP1y,\n                                            aCP2x, aCP2y,\n                                            aX, aY) {\n    var p = this.getCoords_(aX, aY);\n    var cp1 = this.getCoords_(aCP1x, aCP1y);\n    var cp2 = this.getCoords_(aCP2x, aCP2y);\n    bezierCurveTo(this, cp1, cp2, p);\n  };\n\n  // Helper function that takes the already fixed cordinates.\n  function bezierCurveTo(self, cp1, cp2, p) {\n    self.currentPath_.push({\n      type: 'bezierCurveTo',\n      cp1x: cp1.x,\n      cp1y: cp1.y,\n      cp2x: cp2.x,\n      cp2y: cp2.y,\n      x: p.x,\n      y: p.y\n    });\n    self.currentX_ = p.x;\n    self.currentY_ = p.y;\n  }\n\n  contextPrototype.quadraticCurveTo = function(aCPx, aCPy, aX, aY) {\n    // the following is lifted almost directly from\n    // http://developer.mozilla.org/en/docs/Canvas_tutorial:Drawing_shapes\n\n    var cp = this.getCoords_(aCPx, aCPy);\n    var p = this.getCoords_(aX, aY);\n\n    var cp1 = {\n      x: this.currentX_ + 2.0 / 3.0 * (cp.x - this.currentX_),\n      y: this.currentY_ + 2.0 / 3.0 * (cp.y - this.currentY_)\n    };\n    var cp2 = {\n      x: cp1.x + (p.x - this.currentX_) / 3.0,\n      y: cp1.y + (p.y - this.currentY_) / 3.0\n    };\n\n    bezierCurveTo(this, cp1, cp2, p);\n  };\n\n  contextPrototype.arc = function(aX, aY, aRadius,\n                                  aStartAngle, aEndAngle, aClockwise) {\n    aRadius *= Z;\n    var arcType = aClockwise ? 'at' : 'wa';\n\n    var xStart = aX + mc(aStartAngle) * aRadius - Z2;\n    var yStart = aY + ms(aStartAngle) * aRadius - Z2;\n\n    var xEnd = aX + mc(aEndAngle) * aRadius - Z2;\n    var yEnd = aY + ms(aEndAngle) * aRadius - Z2;\n\n    // IE won't render arches drawn counter clockwise if xStart == xEnd.\n    if (xStart == xEnd && !aClockwise) {\n      xStart += 0.125; // Offset xStart by 1/80 of a pixel. Use something\n                       // that can be represented in binary\n    }\n\n    var p = this.getCoords_(aX, aY);\n    var pStart = this.getCoords_(xStart, yStart);\n    var pEnd = this.getCoords_(xEnd, yEnd);\n\n    this.currentPath_.push({type: arcType,\n                           x: p.x,\n                           y: p.y,\n                           radius: aRadius,\n                           xStart: pStart.x,\n                           yStart: pStart.y,\n                           xEnd: pEnd.x,\n                           yEnd: pEnd.y});\n\n  };\n\n  contextPrototype.rect = function(aX, aY, aWidth, aHeight) {\n    this.moveTo(aX, aY);\n    this.lineTo(aX + aWidth, aY);\n    this.lineTo(aX + aWidth, aY + aHeight);\n    this.lineTo(aX, aY + aHeight);\n    this.closePath();\n  };\n\n  contextPrototype.strokeRect = function(aX, aY, aWidth, aHeight) {\n    var oldPath = this.currentPath_;\n    this.beginPath();\n\n    this.moveTo(aX, aY);\n    this.lineTo(aX + aWidth, aY);\n    this.lineTo(aX + aWidth, aY + aHeight);\n    this.lineTo(aX, aY + aHeight);\n    this.closePath();\n    this.stroke();\n\n    this.currentPath_ = oldPath;\n  };\n\n  contextPrototype.fillRect = function(aX, aY, aWidth, aHeight) {\n    var oldPath = this.currentPath_;\n    this.beginPath();\n\n    this.moveTo(aX, aY);\n    this.lineTo(aX + aWidth, aY);\n    this.lineTo(aX + aWidth, aY + aHeight);\n    this.lineTo(aX, aY + aHeight);\n    this.closePath();\n    this.fill();\n\n    this.currentPath_ = oldPath;\n  };\n\n  contextPrototype.createLinearGradient = function(aX0, aY0, aX1, aY1) {\n    var gradient = new CanvasGradient_('gradient');\n    gradient.x0_ = aX0;\n    gradient.y0_ = aY0;\n    gradient.x1_ = aX1;\n    gradient.y1_ = aY1;\n    return gradient;\n  };\n\n  contextPrototype.createRadialGradient = function(aX0, aY0, aR0,\n                                                   aX1, aY1, aR1) {\n    var gradient = new CanvasGradient_('gradientradial');\n    gradient.x0_ = aX0;\n    gradient.y0_ = aY0;\n    gradient.r0_ = aR0;\n    gradient.x1_ = aX1;\n    gradient.y1_ = aY1;\n    gradient.r1_ = aR1;\n    return gradient;\n  };\n\n  contextPrototype.drawImage = function(image, var_args) {\n    var dx, dy, dw, dh, sx, sy, sw, sh;\n\n    // to find the original width we overide the width and height\n    var oldRuntimeWidth = image.runtimeStyle.width;\n    var oldRuntimeHeight = image.runtimeStyle.height;\n    image.runtimeStyle.width = 'auto';\n    image.runtimeStyle.height = 'auto';\n\n    // get the original size\n    var w = image.width;\n    var h = image.height;\n\n    // and remove overides\n    image.runtimeStyle.width = oldRuntimeWidth;\n    image.runtimeStyle.height = oldRuntimeHeight;\n\n    if (arguments.length == 3) {\n      dx = arguments[1];\n      dy = arguments[2];\n      sx = sy = 0;\n      sw = dw = w;\n      sh = dh = h;\n    } else if (arguments.length == 5) {\n      dx = arguments[1];\n      dy = arguments[2];\n      dw = arguments[3];\n      dh = arguments[4];\n      sx = sy = 0;\n      sw = w;\n      sh = h;\n    } else if (arguments.length == 9) {\n      sx = arguments[1];\n      sy = arguments[2];\n      sw = arguments[3];\n      sh = arguments[4];\n      dx = arguments[5];\n      dy = arguments[6];\n      dw = arguments[7];\n      dh = arguments[8];\n    } else {\n      throw Error('Invalid number of arguments');\n    }\n\n    var d = this.getCoords_(dx, dy);\n\n    var w2 = sw / 2;\n    var h2 = sh / 2;\n\n    var vmlStr = [];\n\n    var W = 10;\n    var H = 10;\n\n    // For some reason that I've now forgotten, using divs didn't work\n    vmlStr.push(' <g_vml_:group',\n                ' coordsize=\"', Z * W, ',', Z * H, '\"',\n                ' coordorigin=\"0,0\"' ,\n                ' style=\"width:', W, 'px;height:', H, 'px;position:absolute;');\n\n    // If filters are necessary (rotation exists), create them\n    // filters are bog-slow, so only create them if abbsolutely necessary\n    // The following check doesn't account for skews (which don't exist\n    // in the canvas spec (yet) anyway.\n\n    if (this.m_[0][0] != 1 || this.m_[0][1] ||\n        this.m_[1][1] != 1 || this.m_[1][0]) {\n      var filter = [];\n\n      // Note the 12/21 reversal\n      filter.push('M11=', this.m_[0][0], ',',\n                  'M12=', this.m_[1][0], ',',\n                  'M21=', this.m_[0][1], ',',\n                  'M22=', this.m_[1][1], ',',\n                  'Dx=', mr(d.x / Z), ',',\n                  'Dy=', mr(d.y / Z), '');\n\n      // Bounding box calculation (need to minimize displayed area so that\n      // filters don't waste time on unused pixels.\n      var max = d;\n      var c2 = this.getCoords_(dx + dw, dy);\n      var c3 = this.getCoords_(dx, dy + dh);\n      var c4 = this.getCoords_(dx + dw, dy + dh);\n\n      max.x = m.max(max.x, c2.x, c3.x, c4.x);\n      max.y = m.max(max.y, c2.y, c3.y, c4.y);\n\n      vmlStr.push('padding:0 ', mr(max.x / Z), 'px ', mr(max.y / Z),\n                  'px 0;filter:progid:DXImageTransform.Microsoft.Matrix(',\n                  filter.join(''), \", sizingmethod='clip');\");\n\n    } else {\n      vmlStr.push('top:', mr(d.y / Z), 'px;left:', mr(d.x / Z), 'px;');\n    }\n\n    vmlStr.push(' \">' ,\n                '<g_vml_:image src=\"', image.src, '\"',\n                ' style=\"width:', Z * dw, 'px;',\n                ' height:', Z * dh, 'px\"',\n                ' cropleft=\"', sx / w, '\"',\n                ' croptop=\"', sy / h, '\"',\n                ' cropright=\"', (w - sx - sw) / w, '\"',\n                ' cropbottom=\"', (h - sy - sh) / h, '\"',\n                ' />',\n                '</g_vml_:group>');\n\n    this.element_.insertAdjacentHTML('BeforeEnd', vmlStr.join(''));\n  };\n\n  contextPrototype.stroke = function(aFill) {\n    var W = 10;\n    var H = 10;\n    // Divide the shape into chunks if it's too long because IE has a limit\n    // somewhere for how long a VML shape can be. This simple division does\n    // not work with fills, only strokes, unfortunately.\n    var chunkSize = 5000;\n\n    var min = {x: null, y: null};\n    var max = {x: null, y: null};\n\n    for (var j = 0; j < this.currentPath_.length; j += chunkSize) {\n      var lineStr = [];\n      var lineOpen = false;\n\n      lineStr.push('<g_vml_:shape',\n                   ' filled=\"', !!aFill, '\"',\n                   ' style=\"position:absolute;width:', W, 'px;height:', H, 'px;\"',\n                   ' coordorigin=\"0,0\"',\n                   ' coordsize=\"', Z * W, ',', Z * H, '\"',\n                   ' stroked=\"', !aFill, '\"',\n                   ' path=\"');\n\n      var newSeq = false;\n\n      for (var i = j; i < Math.min(j + chunkSize, this.currentPath_.length); i++) {\n        if (i % chunkSize == 0 && i > 0) { // move into position for next chunk\n          lineStr.push(' m ', mr(this.currentPath_[i-1].x), ',', mr(this.currentPath_[i-1].y));\n        }\n\n        var p = this.currentPath_[i];\n        var c;\n\n        switch (p.type) {\n          case 'moveTo':\n            c = p;\n            lineStr.push(' m ', mr(p.x), ',', mr(p.y));\n            break;\n          case 'lineTo':\n            lineStr.push(' l ', mr(p.x), ',', mr(p.y));\n            break;\n          case 'close':\n            lineStr.push(' x ');\n            p = null;\n            break;\n          case 'bezierCurveTo':\n            lineStr.push(' c ',\n                         mr(p.cp1x), ',', mr(p.cp1y), ',',\n                         mr(p.cp2x), ',', mr(p.cp2y), ',',\n                         mr(p.x), ',', mr(p.y));\n            break;\n          case 'at':\n          case 'wa':\n            lineStr.push(' ', p.type, ' ',\n                         mr(p.x - this.arcScaleX_ * p.radius), ',',\n                         mr(p.y - this.arcScaleY_ * p.radius), ' ',\n                         mr(p.x + this.arcScaleX_ * p.radius), ',',\n                         mr(p.y + this.arcScaleY_ * p.radius), ' ',\n                         mr(p.xStart), ',', mr(p.yStart), ' ',\n                         mr(p.xEnd), ',', mr(p.yEnd));\n            break;\n        }\n  \n  \n        // TODO: Following is broken for curves due to\n        //       move to proper paths.\n  \n        // Figure out dimensions so we can do gradient fills\n        // properly\n        if (p) {\n          if (min.x == null || p.x < min.x) {\n            min.x = p.x;\n          }\n          if (max.x == null || p.x > max.x) {\n            max.x = p.x;\n          }\n          if (min.y == null || p.y < min.y) {\n            min.y = p.y;\n          }\n          if (max.y == null || p.y > max.y) {\n            max.y = p.y;\n          }\n        }\n      }\n      lineStr.push(' \">');\n  \n      if (!aFill) {\n        appendStroke(this, lineStr);\n      } else {\n        appendFill(this, lineStr, min, max);\n      }\n  \n      lineStr.push('</g_vml_:shape>');\n  \n      this.element_.insertAdjacentHTML('beforeEnd', lineStr.join(''));\n    }\n  };\n\n  function appendStroke(ctx, lineStr) {\n    var a = processStyle(ctx.strokeStyle);\n    var color = a.color;\n    var opacity = a.alpha * ctx.globalAlpha;\n    var lineWidth = ctx.lineScale_ * ctx.lineWidth;\n\n    // VML cannot correctly render a line if the width is less than 1px.\n    // In that case, we dilute the color to make the line look thinner.\n    if (lineWidth < 1) {\n      opacity *= lineWidth;\n    }\n\n    lineStr.push(\n      '<g_vml_:stroke',\n      ' opacity=\"', opacity, '\"',\n      ' joinstyle=\"', ctx.lineJoin, '\"',\n      ' miterlimit=\"', ctx.miterLimit, '\"',\n      ' endcap=\"', processLineCap(ctx.lineCap), '\"',\n      ' weight=\"', lineWidth, 'px\"',\n      ' color=\"', color, '\" />'\n    );\n  }\n\n  function appendFill(ctx, lineStr, min, max) {\n    var fillStyle = ctx.fillStyle;\n    var arcScaleX = ctx.arcScaleX_;\n    var arcScaleY = ctx.arcScaleY_;\n    var width = max.x - min.x;\n    var height = max.y - min.y;\n    if (fillStyle instanceof CanvasGradient_) {\n      // TODO: Gradients transformed with the transformation matrix.\n      var angle = 0;\n      var focus = {x: 0, y: 0};\n\n      // additional offset\n      var shift = 0;\n      // scale factor for offset\n      var expansion = 1;\n\n      if (fillStyle.type_ == 'gradient') {\n        var x0 = fillStyle.x0_ / arcScaleX;\n        var y0 = fillStyle.y0_ / arcScaleY;\n        var x1 = fillStyle.x1_ / arcScaleX;\n        var y1 = fillStyle.y1_ / arcScaleY;\n        var p0 = ctx.getCoords_(x0, y0);\n        var p1 = ctx.getCoords_(x1, y1);\n        var dx = p1.x - p0.x;\n        var dy = p1.y - p0.y;\n        angle = Math.atan2(dx, dy) * 180 / Math.PI;\n\n        // The angle should be a non-negative number.\n        if (angle < 0) {\n          angle += 360;\n        }\n\n        // Very small angles produce an unexpected result because they are\n        // converted to a scientific notation string.\n        if (angle < 1e-6) {\n          angle = 0;\n        }\n      } else {\n        var p0 = ctx.getCoords_(fillStyle.x0_, fillStyle.y0_);\n        focus = {\n          x: (p0.x - min.x) / width,\n          y: (p0.y - min.y) / height\n        };\n\n        width  /= arcScaleX * Z;\n        height /= arcScaleY * Z;\n        var dimension = m.max(width, height);\n        shift = 2 * fillStyle.r0_ / dimension;\n        expansion = 2 * fillStyle.r1_ / dimension - shift;\n      }\n\n      // We need to sort the color stops in ascending order by offset,\n      // otherwise IE won't interpret it correctly.\n      var stops = fillStyle.colors_;\n      stops.sort(function(cs1, cs2) {\n        return cs1.offset - cs2.offset;\n      });\n\n      var length = stops.length;\n      var color1 = stops[0].color;\n      var color2 = stops[length - 1].color;\n      var opacity1 = stops[0].alpha * ctx.globalAlpha;\n      var opacity2 = stops[length - 1].alpha * ctx.globalAlpha;\n\n      var colors = [];\n      for (var i = 0; i < length; i++) {\n        var stop = stops[i];\n        colors.push(stop.offset * expansion + shift + ' ' + stop.color);\n      }\n\n      // When colors attribute is used, the meanings of opacity and o:opacity2\n      // are reversed.\n      lineStr.push('<g_vml_:fill type=\"', fillStyle.type_, '\"',\n                   ' method=\"none\" focus=\"100%\"',\n                   ' color=\"', color1, '\"',\n                   ' color2=\"', color2, '\"',\n                   ' colors=\"', colors.join(','), '\"',\n                   ' opacity=\"', opacity2, '\"',\n                   ' g_o_:opacity2=\"', opacity1, '\"',\n                   ' angle=\"', angle, '\"',\n                   ' focusposition=\"', focus.x, ',', focus.y, '\" />');\n    } else if (fillStyle instanceof CanvasPattern_) {\n      if (width && height) {\n        var deltaLeft = -min.x;\n        var deltaTop = -min.y;\n        lineStr.push('<g_vml_:fill',\n                     ' position=\"',\n                     deltaLeft / width * arcScaleX * arcScaleX, ',',\n                     deltaTop / height * arcScaleY * arcScaleY, '\"',\n                     ' type=\"tile\"',\n                     // TODO: Figure out the correct size to fit the scale.\n                     //' size=\"', w, 'px ', h, 'px\"',\n                     ' src=\"', fillStyle.src_, '\" />');\n       }\n    } else {\n      var a = processStyle(ctx.fillStyle);\n      var color = a.color;\n      var opacity = a.alpha * ctx.globalAlpha;\n      lineStr.push('<g_vml_:fill color=\"', color, '\" opacity=\"', opacity,\n                   '\" />');\n    }\n  }\n\n  contextPrototype.fill = function() {\n    this.stroke(true);\n  };\n\n  contextPrototype.closePath = function() {\n    this.currentPath_.push({type: 'close'});\n  };\n\n  /**\n   * @private\n   */\n  contextPrototype.getCoords_ = function(aX, aY) {\n    var m = this.m_;\n    return {\n      x: Z * (aX * m[0][0] + aY * m[1][0] + m[2][0]) - Z2,\n      y: Z * (aX * m[0][1] + aY * m[1][1] + m[2][1]) - Z2\n    };\n  };\n\n  contextPrototype.save = function() {\n    var o = {};\n    copyState(this, o);\n    this.aStack_.push(o);\n    this.mStack_.push(this.m_);\n    this.m_ = matrixMultiply(createMatrixIdentity(), this.m_);\n  };\n\n  contextPrototype.restore = function() {\n    if (this.aStack_.length) {\n      copyState(this.aStack_.pop(), this);\n      this.m_ = this.mStack_.pop();\n    }\n  };\n\n  function matrixIsFinite(m) {\n    return isFinite(m[0][0]) && isFinite(m[0][1]) &&\n        isFinite(m[1][0]) && isFinite(m[1][1]) &&\n        isFinite(m[2][0]) && isFinite(m[2][1]);\n  }\n\n  function setM(ctx, m, updateLineScale) {\n    if (!matrixIsFinite(m)) {\n      return;\n    }\n    ctx.m_ = m;\n\n    if (updateLineScale) {\n      // Get the line scale.\n      // Determinant of this.m_ means how much the area is enlarged by the\n      // transformation. So its square root can be used as a scale factor\n      // for width.\n      var det = m[0][0] * m[1][1] - m[0][1] * m[1][0];\n      ctx.lineScale_ = sqrt(abs(det));\n    }\n  }\n\n  contextPrototype.translate = function(aX, aY) {\n    var m1 = [\n      [1,  0,  0],\n      [0,  1,  0],\n      [aX, aY, 1]\n    ];\n\n    setM(this, matrixMultiply(m1, this.m_), false);\n  };\n\n  contextPrototype.rotate = function(aRot) {\n    var c = mc(aRot);\n    var s = ms(aRot);\n\n    var m1 = [\n      [c,  s, 0],\n      [-s, c, 0],\n      [0,  0, 1]\n    ];\n\n    setM(this, matrixMultiply(m1, this.m_), false);\n  };\n\n  contextPrototype.scale = function(aX, aY) {\n    this.arcScaleX_ *= aX;\n    this.arcScaleY_ *= aY;\n    var m1 = [\n      [aX, 0,  0],\n      [0,  aY, 0],\n      [0,  0,  1]\n    ];\n\n    setM(this, matrixMultiply(m1, this.m_), true);\n  };\n\n  contextPrototype.transform = function(m11, m12, m21, m22, dx, dy) {\n    var m1 = [\n      [m11, m12, 0],\n      [m21, m22, 0],\n      [dx,  dy,  1]\n    ];\n\n    setM(this, matrixMultiply(m1, this.m_), true);\n  };\n\n  contextPrototype.setTransform = function(m11, m12, m21, m22, dx, dy) {\n    var m = [\n      [m11, m12, 0],\n      [m21, m22, 0],\n      [dx,  dy,  1]\n    ];\n\n    setM(this, m, true);\n  };\n\n  /**\n   * The text drawing function.\n   * The maxWidth argument isn't taken in account, since no browser supports\n   * it yet.\n   */\n  contextPrototype.drawText_ = function(text, x, y, maxWidth, stroke) {\n    var m = this.m_,\n        delta = 1000,\n        left = 0,\n        right = delta,\n        offset = {x: 0, y: 0},\n        lineStr = [];\n\n    var fontStyle = getComputedStyle(processFontStyle(this.font),\n                                     this.element_);\n\n    var fontStyleString = buildStyle(fontStyle);\n\n    var elementStyle = this.element_.currentStyle;\n    var textAlign = this.textAlign.toLowerCase();\n    switch (textAlign) {\n      case 'left':\n      case 'center':\n      case 'right':\n        break;\n      case 'end':\n        textAlign = elementStyle.direction == 'ltr' ? 'right' : 'left';\n        break;\n      case 'start':\n        textAlign = elementStyle.direction == 'rtl' ? 'right' : 'left';\n        break;\n      default:\n        textAlign = 'left';\n    }\n\n    // 1.75 is an arbitrary number, as there is no info about the text baseline\n    switch (this.textBaseline) {\n      case 'hanging':\n      case 'top':\n        offset.y = fontStyle.size / 1.75;\n        break;\n      case 'middle':\n        break;\n      default:\n      case null:\n      case 'alphabetic':\n      case 'ideographic':\n      case 'bottom':\n        offset.y = -fontStyle.size / 2.25;\n        break;\n    }\n\n    switch(textAlign) {\n      case 'right':\n        left = delta;\n        right = 0.05;\n        break;\n      case 'center':\n        left = right = delta / 2;\n        break;\n    }\n\n    var d = this.getCoords_(x + offset.x, y + offset.y);\n\n    lineStr.push('<g_vml_:line from=\"', -left ,' 0\" to=\"', right ,' 0.05\" ',\n                 ' coordsize=\"100 100\" coordorigin=\"0 0\"',\n                 ' filled=\"', !stroke, '\" stroked=\"', !!stroke,\n                 '\" style=\"position:absolute;width:1px;height:1px;\">');\n\n    if (stroke) {\n      appendStroke(this, lineStr);\n    } else {\n      // TODO: Fix the min and max params.\n      appendFill(this, lineStr, {x: -left, y: 0},\n                 {x: right, y: fontStyle.size});\n    }\n\n    var skewM = m[0][0].toFixed(3) + ',' + m[1][0].toFixed(3) + ',' +\n                m[0][1].toFixed(3) + ',' + m[1][1].toFixed(3) + ',0,0';\n\n    var skewOffset = mr(d.x / Z) + ',' + mr(d.y / Z);\n\n    lineStr.push('<g_vml_:skew on=\"t\" matrix=\"', skewM ,'\" ',\n                 ' offset=\"', skewOffset, '\" origin=\"', left ,' 0\" />',\n                 '<g_vml_:path textpathok=\"true\" />',\n                 '<g_vml_:textpath on=\"true\" string=\"',\n                 encodeHtmlAttribute(text),\n                 '\" style=\"v-text-align:', textAlign,\n                 ';font:', encodeHtmlAttribute(fontStyleString),\n                 '\" /></g_vml_:line>');\n\n    this.element_.insertAdjacentHTML('beforeEnd', lineStr.join(''));\n  };\n\n  contextPrototype.fillText = function(text, x, y, maxWidth) {\n    this.drawText_(text, x, y, maxWidth, false);\n  };\n\n  contextPrototype.strokeText = function(text, x, y, maxWidth) {\n    this.drawText_(text, x, y, maxWidth, true);\n  };\n\n  contextPrototype.measureText = function(text) {\n    if (!this.textMeasureEl_) {\n      var s = '<span style=\"position:absolute;' +\n          'top:-20000px;left:0;padding:0;margin:0;border:none;' +\n          'white-space:pre;\"></span>';\n      this.element_.insertAdjacentHTML('beforeEnd', s);\n      this.textMeasureEl_ = this.element_.lastChild;\n    }\n    var doc = this.element_.ownerDocument;\n    this.textMeasureEl_.innerHTML = '';\n    this.textMeasureEl_.style.font = this.font;\n    // Don't use innerHTML or innerText because they allow markup/whitespace.\n    this.textMeasureEl_.appendChild(doc.createTextNode(text));\n    return {width: this.textMeasureEl_.offsetWidth};\n  };\n\n  /******** STUBS ********/\n  contextPrototype.clip = function() {\n    // TODO: Implement\n  };\n\n  contextPrototype.arcTo = function() {\n    // TODO: Implement\n  };\n\n  contextPrototype.createPattern = function(image, repetition) {\n    return new CanvasPattern_(image, repetition);\n  };\n\n  // Gradient / Pattern Stubs\n  function CanvasGradient_(aType) {\n    this.type_ = aType;\n    this.x0_ = 0;\n    this.y0_ = 0;\n    this.r0_ = 0;\n    this.x1_ = 0;\n    this.y1_ = 0;\n    this.r1_ = 0;\n    this.colors_ = [];\n  }\n\n  CanvasGradient_.prototype.addColorStop = function(aOffset, aColor) {\n    aColor = processStyle(aColor);\n    this.colors_.push({offset: aOffset,\n                       color: aColor.color,\n                       alpha: aColor.alpha});\n  };\n\n  function CanvasPattern_(image, repetition) {\n    assertImageIsValid(image);\n    switch (repetition) {\n      case 'repeat':\n      case null:\n      case '':\n        this.repetition_ = 'repeat';\n        break\n      case 'repeat-x':\n      case 'repeat-y':\n      case 'no-repeat':\n        this.repetition_ = repetition;\n        break;\n      default:\n        throwException('SYNTAX_ERR');\n    }\n\n    this.src_ = image.src;\n    this.width_ = image.width;\n    this.height_ = image.height;\n  }\n\n  function throwException(s) {\n    throw new DOMException_(s);\n  }\n\n  function assertImageIsValid(img) {\n    if (!img || img.nodeType != 1 || img.tagName != 'IMG') {\n      throwException('TYPE_MISMATCH_ERR');\n    }\n    if (img.readyState != 'complete') {\n      throwException('INVALID_STATE_ERR');\n    }\n  }\n\n  function DOMException_(s) {\n    this.code = this[s];\n    this.message = s +': DOM Exception ' + this.code;\n  }\n  var p = DOMException_.prototype = new Error;\n  p.INDEX_SIZE_ERR = 1;\n  p.DOMSTRING_SIZE_ERR = 2;\n  p.HIERARCHY_REQUEST_ERR = 3;\n  p.WRONG_DOCUMENT_ERR = 4;\n  p.INVALID_CHARACTER_ERR = 5;\n  p.NO_DATA_ALLOWED_ERR = 6;\n  p.NO_MODIFICATION_ALLOWED_ERR = 7;\n  p.NOT_FOUND_ERR = 8;\n  p.NOT_SUPPORTED_ERR = 9;\n  p.INUSE_ATTRIBUTE_ERR = 10;\n  p.INVALID_STATE_ERR = 11;\n  p.SYNTAX_ERR = 12;\n  p.INVALID_MODIFICATION_ERR = 13;\n  p.NAMESPACE_ERR = 14;\n  p.INVALID_ACCESS_ERR = 15;\n  p.VALIDATION_ERR = 16;\n  p.TYPE_MISMATCH_ERR = 17;\n\n  // set up externs\n  G_vmlCanvasManager = G_vmlCanvasManager_;\n  CanvasRenderingContext2D = CanvasRenderingContext2D_;\n  CanvasGradient = CanvasGradient_;\n  CanvasPattern = CanvasPattern_;\n  DOMException = DOMException_;\n})();\n\n} // if\n","/**\n * jQuery color contrast\n * @Author: \t\tJochen Vandendriessche <jochen@builtbyrobot.com>\n * @Author URI: \thttp://builtbyrobot.com\n **/\n\nfunction debug(o){\n\tvar _r = '';\n\tfor (var k in o){\n\t\t_r += 'o[' + k + '] => ' + o[k] + '\\n';\n\t}\n\twindow.alert(_r);\n}\n\n(function($){\n\n\tvar methods = {\n\t\t/*\n\t\t\tFunction: init\n\n\t\t\tInitialises the color contrast\n\n\t\t\tParameters:\n\t\t\t\tjQuery object - {object}\n\n\t\t\tExample\n\t\t\t\t> // initialise new color contrast calculator\n\t\t\t\t> $('body').colorcontrast();\n\t\t  \n\t\t*/\n\t\tinit : function() {\n\t\t\t// check if we have a background image, if not, use the backgroundcolor\n\t\t\tif ($(this).css('background-image') == 'none') {\n\t\t\t\t$(this).colorcontrast('bgColor');\n\t\t\t}else{\n\t\t\t\t$(this).colorcontrast('bgImage');\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tbgColor : function() {\n\t\t\tvar t = $(this);\n\t\t\tt.removeClass('dark light');\n\t\t\tt.addClass($(this).colorcontrast('calculateYIQ', t.css('background-color')));\n\t\t},\n\t\tbgImage : function() {\n\t\t\tvar t = $(this);\n\t\t\tt.removeClass('dark light');\n\t\t\tt.addClass($(this).colorcontrast('calculateYIQ', t.colorcontrast('fetchImageColor')));\n\t\t},\n\t\tfetchImageColor : function(){\n\t\t\tvar img = new Image();\n\t\t\tvar src = $(this).css('background-image').replace('url(', '').replace(/'/, '').replace(')', '');\n\t\t\timg.src = src;\n\t\t\tvar can = document.createElement('canvas');\t\n\t\t\tvar context = can.getContext('2d');\n\t\t\tcontext.drawImage(img, 0, 0);\n\t\t\tdata = context.getImageData(0, 0, 1, 1).data;\n\t\t\treturn 'rgb(' + data[0] + ',' + data[1] + ',' + data[2] + ')';\n\t\t},\n\t\tcalculateYIQ : function(color){\n\t\t\tvar r = 0, g = 0, b = 0, a = 1, yiq = 0;\n\t\t\tif (/rgba/.test(color)){\n\t\t\t\tcolor = color.replace('rgba(', '').replace(')', '').split(/,/);\n\t\t\t\tr = color[0];\n\t\t\t\tg = color[1];\n\t\t\t\tb = color[2];\n\t\t\t\ta = color[3];\n\t\t\t}else if (/rgb/.test(color)){\n\t\t\t\tcolor = color.replace('rgb(', '').replace(')', '').split(/,/);\n\t\t\t\tr = color[0];\n\t\t\t\tg = color[1];\n\t\t\t\tb = color[2];\n\t\t\t}else if(/#/.test(color)){\n\t\t\t\tcolor = color.replace('#', '');\n\t\t\t\tif (color.length == 3){\n\t\t\t\t\tvar _t = '';\n\t\t\t\t\t_t += color[0] + color[0];\n\t\t\t\t\t_t += color[1] + color[1];\n\t\t\t\t\t_t += color[2] + color[2];\n\t\t\t\t\tcolor = _t;\n\t\t\t\t}\n\t\t\t\tr = parseInt(color.substr(0,2),16);\n\t\t\t\tg = parseInt(color.substr(2,2),16);\n\t\t\t\tb = parseInt(color.substr(4,2),16);\n\t\t\t}\n\t\t\tyiq = ((r*299)+(g*587)+(b*114))/1000;\n\t\t\treturn (yiq >= 128) ? 'light' : 'dark';\n\t\t}\n\t};\n\t$.fn.colorcontrast = function(method){\n\t\t\n\t\tif ( methods[method] ) {\n\t\t      return methods[ method ].apply( this, Array.prototype.slice.call( arguments, 1 ));\n\t\t    } else if ( typeof method === 'object' || ! method ) {\n\t\t      return methods.init.apply( this, arguments );\n\t\t    } else {\n\t\t      $.error( 'Method ' +  method + ' does not exist on jQuery color contrast' );\n\t\t}\n\t\t\n\t}\n\t\n})(jQuery);\n","/**\n * Cookie plugin\n *\n * Copyright (c) 2006 Klaus Hartl (stilbuero.de)\n * Dual licensed under the MIT and GPL licenses:\n * http://www.opensource.org/licenses/mit-license.php\n * http://www.gnu.org/licenses/gpl.html\n *\n */\n\n/**\n * Create a cookie with the given name and value and other optional parameters.\n *\n * @example $.cookie('the_cookie', 'the_value');\n * @desc Set the value of a cookie.\n * @example $.cookie('the_cookie', 'the_value', { expires: 7, path: '/', domain: 'jquery.com', secure: true });\n * @desc Create a cookie with all available options.\n * @example $.cookie('the_cookie', 'the_value');\n * @desc Create a session cookie.\n * @example $.cookie('the_cookie', null);\n * @desc Delete a cookie by passing null as value. Keep in mind that you have to use the same path and domain\n *       used when the cookie was set.\n *\n * @param String name The name of the cookie.\n * @param String value The value of the cookie.\n * @param Object options An object literal containing key/value pairs to provide optional cookie attributes.\n * @option Number|Date expires Either an integer specifying the expiration date from now on in days or a Date object.\n *                             If a negative value is specified (e.g. a date in the past), the cookie will be deleted.\n *                             If set to null or omitted, the cookie will be a session cookie and will not be retained\n *                             when the the browser exits.\n * @option String path The value of the path atribute of the cookie (default: path of page that created the cookie).\n * @option String domain The value of the domain attribute of the cookie (default: domain of page that created the cookie).\n * @option Boolean secure If true, the secure attribute of the cookie will be set and the cookie transmission will\n *                        require a secure protocol (like HTTPS).\n * @type undefined\n *\n * @name $.cookie\n * @cat Plugins/Cookie\n * @author Klaus Hartl/klaus.hartl@stilbuero.de\n */\n\n/**\n * Get the value of a cookie with the given name.\n *\n * @example $.cookie('the_cookie');\n * @desc Get the value of a cookie.\n *\n * @param String name The name of the cookie.\n * @return The value of the cookie.\n * @type String\n *\n * @name $.cookie\n * @cat Plugins/Cookie\n * @author Klaus Hartl/klaus.hartl@stilbuero.de\n */\njQuery.cookie = function(name, value, options) {\n    if (typeof value != 'undefined') { // name and value given, set cookie\n        options = options || {};\n        if (value === null) {\n            value = '';\n            options.expires = -1;\n        }\n        var expires = '';\n        if (options.expires && (typeof options.expires == 'number' || options.expires.toUTCString)) {\n            var date;\n            if (typeof options.expires == 'number') {\n                date = new Date();\n                date.setTime(date.getTime() + (options.expires * 24 * 60 * 60 * 1000));\n            } else {\n                date = options.expires;\n            }\n            expires = '; expires=' + date.toUTCString(); // use expires attribute, max-age is not supported by IE\n        }\n        // CAUTION: Needed to parenthesize options.path and options.domain\n        // in the following expressions, otherwise they evaluate to undefined\n        // in the packed version for some reason...\n        var path = options.path ? '; path=' + (options.path) : '';\n        var domain = options.domain ? '; domain=' + (options.domain) : '';\n        var secure = options.secure ? '; secure' : '';\n        document.cookie = [name, '=', encodeURIComponent(value), expires, path, domain, secure].join('');\n    } else { // only name given, get cookie\n        var cookieValue = null;\n        if (document.cookie && document.cookie != '') {\n            var cookies = document.cookie.split(';');\n            for (var i = 0; i < cookies.length; i++) {\n                var cookie = jQuery.trim(cookies[i]);\n                // Does this cookie string begin with the name we want?\n                if (cookie.substring(0, name.length + 1) == (name + '=')) {\n                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                    break;\n                }\n            }\n        }\n        return cookieValue;\n    }\n};","/*! Javascript plotting library for jQuery, v. 0.7.\n *\n * Released under the MIT license by IOLA, December 2007.\n *\n */\n\n// first an inline dependency, jquery.colorhelpers.js, we inline it here\n// for convenience\n\n/* Plugin for jQuery for working with colors.\n * \n * Version 1.1.\n * \n * Inspiration from jQuery color animation plugin by John Resig.\n *\n * Released under the MIT license by Ole Laursen, October 2009.\n *\n * Examples:\n *\n *   $.color.parse(\"#fff\").scale('rgb', 0.25).add('a', -0.5).toString()\n *   var c = $.color.extract($(\"#mydiv\"), 'background-color');\n *   console.log(c.r, c.g, c.b, c.a);\n *   $.color.make(100, 50, 25, 0.4).toString() // returns \"rgba(100,50,25,0.4)\"\n *\n * Note that .scale() and .add() return the same modified object\n * instead of making a new one.\n *\n * V. 1.1: Fix error handling so e.g. parsing an empty string does\n * produce a color rather than just crashing.\n */ \n(function(B){B.color={};B.color.make=function(F,E,C,D){var G={};G.r=F||0;G.g=E||0;G.b=C||0;G.a=D!=null?D:1;G.add=function(J,I){for(var H=0;H<J.length;++H){G[J.charAt(H)]+=I}return G.normalize()};G.scale=function(J,I){for(var H=0;H<J.length;++H){G[J.charAt(H)]*=I}return G.normalize()};G.toString=function(){if(G.a>=1){return\"rgb(\"+[G.r,G.g,G.b].join(\",\")+\")\"}else{return\"rgba(\"+[G.r,G.g,G.b,G.a].join(\",\")+\")\"}};G.normalize=function(){function H(J,K,I){return K<J?J:(K>I?I:K)}G.r=H(0,parseInt(G.r),255);G.g=H(0,parseInt(G.g),255);G.b=H(0,parseInt(G.b),255);G.a=H(0,G.a,1);return G};G.clone=function(){return B.color.make(G.r,G.b,G.g,G.a)};return G.normalize()};B.color.extract=function(D,C){var E;do{E=D.css(C).toLowerCase();if(E!=\"\"&&E!=\"transparent\"){break}D=D.parent()}while(!B.nodeName(D.get(0),\"body\"));if(E==\"rgba(0, 0, 0, 0)\"){E=\"transparent\"}return B.color.parse(E)};B.color.parse=function(F){var E,C=B.color.make;if(E=/rgb\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*\\)/.exec(F)){return C(parseInt(E[1],10),parseInt(E[2],10),parseInt(E[3],10))}if(E=/rgba\\(\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]{1,3})\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\s*\\)/.exec(F)){return C(parseInt(E[1],10),parseInt(E[2],10),parseInt(E[3],10),parseFloat(E[4]))}if(E=/rgb\\(\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*\\)/.exec(F)){return C(parseFloat(E[1])*2.55,parseFloat(E[2])*2.55,parseFloat(E[3])*2.55)}if(E=/rgba\\(\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\%\\s*,\\s*([0-9]+(?:\\.[0-9]+)?)\\s*\\)/.exec(F)){return C(parseFloat(E[1])*2.55,parseFloat(E[2])*2.55,parseFloat(E[3])*2.55,parseFloat(E[4]))}if(E=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(F)){return C(parseInt(E[1],16),parseInt(E[2],16),parseInt(E[3],16))}if(E=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(F)){return C(parseInt(E[1]+E[1],16),parseInt(E[2]+E[2],16),parseInt(E[3]+E[3],16))}var D=B.trim(F).toLowerCase();if(D==\"transparent\"){return C(255,255,255,0)}else{E=A[D]||[0,0,0];return C(E[0],E[1],E[2])}};var A={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);\n\n// the actual Flot code\n(function($) {\n    function Plot(placeholder, data_, options_, plugins) {\n        // data is on the form:\n        //   [ series1, series2 ... ]\n        // where series is either just the data as [ [x1, y1], [x2, y2], ... ]\n        // or { data: [ [x1, y1], [x2, y2], ... ], label: \"some label\", ... }\n        \n        var series = [],\n            options = {\n                // the color theme used for graphs\n                colors: [\"#edc240\", \"#afd8f8\", \"#cb4b4b\", \"#4da74d\", \"#9440ed\"],\n                legend: {\n                    show: true,\n                    noColumns: 1, // number of colums in legend table\n                    labelFormatter: null, // fn: string -> string\n                    labelBoxBorderColor: \"#ccc\", // border color for the little label boxes\n                    container: null, // container (as jQuery object) to put legend in, null means default on top of graph\n                    position: \"ne\", // position of default legend container within plot\n                    margin: 5, // distance from grid edge to default legend container within plot\n                    backgroundColor: null, // null means auto-detect\n                    backgroundOpacity: 0.85 // set to 0 to avoid background\n                },\n                xaxis: {\n                    show: null, // null = auto-detect, true = always, false = never\n                    position: \"bottom\", // or \"top\"\n                    mode: null, // null or \"time\"\n                    color: null, // base color, labels, ticks\n                    tickColor: null, // possibly different color of ticks, e.g. \"rgba(0,0,0,0.15)\"\n                    transform: null, // null or f: number -> number to transform axis\n                    inverseTransform: null, // if transform is set, this should be the inverse function\n                    min: null, // min. value to show, null means set automatically\n                    max: null, // max. value to show, null means set automatically\n                    autoscaleMargin: null, // margin in % to add if auto-setting min/max\n                    ticks: null, // either [1, 3] or [[1, \"a\"], 3] or (fn: axis info -> ticks) or app. number of ticks for auto-ticks\n                    tickFormatter: null, // fn: number -> string\n                    labelWidth: null, // size of tick labels in pixels\n                    labelHeight: null,\n                    reserveSpace: null, // whether to reserve space even if axis isn't shown\n                    tickLength: null, // size in pixels of ticks, or \"full\" for whole line\n                    alignTicksWithAxis: null, // axis number or null for no sync\n                    \n                    // mode specific options\n                    tickDecimals: null, // no. of decimals, null means auto\n                    tickSize: null, // number or [number, \"unit\"]\n                    minTickSize: null, // number or [number, \"unit\"]\n                    monthNames: null, // list of names of months\n                    timeformat: null, // format string to use\n                    twelveHourClock: false // 12 or 24 time in time mode\n                },\n                yaxis: {\n                    autoscaleMargin: 0.02,\n                    position: \"left\" // or \"right\"\n                },\n                xaxes: [],\n                yaxes: [],\n                series: {\n                    points: {\n                        show: false,\n                        radius: 3,\n                        lineWidth: 2, // in pixels\n                        fill: true,\n                        fillColor: \"#ffffff\",\n                        symbol: \"circle\" // or callback\n                    },\n                    lines: {\n                        // we don't put in show: false so we can see\n                        // whether lines were actively disabled \n                        lineWidth: 2, // in pixels\n                        fill: false,\n                        fillColor: null,\n                        steps: false\n                    },\n                    bars: {\n                        show: false,\n                        lineWidth: 2, // in pixels\n                        barWidth: 1, // in units of the x axis\n                        fill: true,\n                        fillColor: null,\n                        align: \"left\", // or \"center\" \n                        horizontal: false\n                    },\n                    shadowSize: 3\n                },\n                grid: {\n                    show: true,\n                    aboveData: false,\n                    color: \"#545454\", // primary color used for outline and labels\n                    backgroundColor: null, // null for transparent, else color\n                    borderColor: null, // set if different from the grid color\n                    tickColor: null, // color for the ticks, e.g. \"rgba(0,0,0,0.15)\"\n                    labelMargin: 5, // in pixels\n                    axisMargin: 8, // in pixels\n                    borderWidth: 2, // in pixels\n                    minBorderMargin: null, // in pixels, null means taken from points radius\n                    markings: null, // array of ranges or fn: axes -> array of ranges\n                    markingsColor: \"#f4f4f4\",\n                    markingsLineWidth: 2,\n                    // interactive stuff\n                    clickable: false,\n                    hoverable: false,\n                    autoHighlight: true, // highlight in case mouse is near\n                    mouseActiveRadius: 10 // how far the mouse can be away to activate an item\n                },\n                hooks: {}\n            },\n        canvas = null,      // the canvas for the plot itself\n        overlay = null,     // canvas for interactive stuff on top of plot\n        eventHolder = null, // jQuery object that events should be bound to\n        ctx = null, octx = null,\n        xaxes = [], yaxes = [],\n        plotOffset = { left: 0, right: 0, top: 0, bottom: 0},\n        canvasWidth = 0, canvasHeight = 0,\n        plotWidth = 0, plotHeight = 0,\n        hooks = {\n            processOptions: [],\n            processRawData: [],\n            processDatapoints: [],\n            drawSeries: [],\n            draw: [],\n            bindEvents: [],\n            drawOverlay: [],\n            shutdown: []\n        },\n        plot = this;\n\n        // public functions\n        plot.setData = setData;\n        plot.setupGrid = setupGrid;\n        plot.draw = draw;\n        plot.getPlaceholder = function() { return placeholder; };\n        plot.getCanvas = function() { return canvas; };\n        plot.getPlotOffset = function() { return plotOffset; };\n        plot.width = function () { return plotWidth; };\n        plot.height = function () { return plotHeight; };\n        plot.offset = function () {\n            var o = eventHolder.offset();\n            o.left += plotOffset.left;\n            o.top += plotOffset.top;\n            return o;\n        };\n        plot.getData = function () { return series; };\n        plot.getAxes = function () {\n            var res = {}, i;\n            $.each(xaxes.concat(yaxes), function (_, axis) {\n                if (axis)\n                    res[axis.direction + (axis.n != 1 ? axis.n : \"\") + \"axis\"] = axis;\n            });\n            return res;\n        };\n        plot.getXAxes = function () { return xaxes; };\n        plot.getYAxes = function () { return yaxes; };\n        plot.c2p = canvasToAxisCoords;\n        plot.p2c = axisToCanvasCoords;\n        plot.getOptions = function () { return options; };\n        plot.highlight = highlight;\n        plot.unhighlight = unhighlight;\n        plot.triggerRedrawOverlay = triggerRedrawOverlay;\n        plot.pointOffset = function(point) {\n            return {\n                left: parseInt(xaxes[axisNumber(point, \"x\") - 1].p2c(+point.x) + plotOffset.left),\n                top: parseInt(yaxes[axisNumber(point, \"y\") - 1].p2c(+point.y) + plotOffset.top)\n            };\n        };\n        plot.shutdown = shutdown;\n        plot.resize = function () {\n            getCanvasDimensions();\n            resizeCanvas(canvas);\n            resizeCanvas(overlay);\n        };\n\n        // public attributes\n        plot.hooks = hooks;\n        \n        // initialize\n        initPlugins(plot);\n        parseOptions(options_);\n        setupCanvases();\n        setData(data_);\n        setupGrid();\n        draw();\n        bindEvents();\n\n\n        function executeHooks(hook, args) {\n            args = [plot].concat(args);\n            for (var i = 0; i < hook.length; ++i)\n                hook[i].apply(this, args);\n        }\n\n        function initPlugins() {\n            for (var i = 0; i < plugins.length; ++i) {\n                var p = plugins[i];\n                p.init(plot);\n                if (p.options)\n                    $.extend(true, options, p.options);\n            }\n        }\n        \n        function parseOptions(opts) {\n            var i;\n            \n            $.extend(true, options, opts);\n            \n            if (options.xaxis.color == null)\n                options.xaxis.color = options.grid.color;\n            if (options.yaxis.color == null)\n                options.yaxis.color = options.grid.color;\n            \n            if (options.xaxis.tickColor == null) // backwards-compatibility\n                options.xaxis.tickColor = options.grid.tickColor;\n            if (options.yaxis.tickColor == null) // backwards-compatibility\n                options.yaxis.tickColor = options.grid.tickColor;\n\n            if (options.grid.borderColor == null)\n                options.grid.borderColor = options.grid.color;\n            if (options.grid.tickColor == null)\n                options.grid.tickColor = $.color.parse(options.grid.color).scale('a', 0.22).toString();\n            \n            // fill in defaults in axes, copy at least always the\n            // first as the rest of the code assumes it'll be there\n            for (i = 0; i < Math.max(1, options.xaxes.length); ++i)\n                options.xaxes[i] = $.extend(true, {}, options.xaxis, options.xaxes[i]);\n            for (i = 0; i < Math.max(1, options.yaxes.length); ++i)\n                options.yaxes[i] = $.extend(true, {}, options.yaxis, options.yaxes[i]);\n\n            // backwards compatibility, to be removed in future\n            if (options.xaxis.noTicks && options.xaxis.ticks == null)\n                options.xaxis.ticks = options.xaxis.noTicks;\n            if (options.yaxis.noTicks && options.yaxis.ticks == null)\n                options.yaxis.ticks = options.yaxis.noTicks;\n            if (options.x2axis) {\n                options.xaxes[1] = $.extend(true, {}, options.xaxis, options.x2axis);\n                options.xaxes[1].position = \"top\";\n            }\n            if (options.y2axis) {\n                options.yaxes[1] = $.extend(true, {}, options.yaxis, options.y2axis);\n                options.yaxes[1].position = \"right\";\n            }\n            if (options.grid.coloredAreas)\n                options.grid.markings = options.grid.coloredAreas;\n            if (options.grid.coloredAreasColor)\n                options.grid.markingsColor = options.grid.coloredAreasColor;\n            if (options.lines)\n                $.extend(true, options.series.lines, options.lines);\n            if (options.points)\n                $.extend(true, options.series.points, options.points);\n            if (options.bars)\n                $.extend(true, options.series.bars, options.bars);\n            if (options.shadowSize != null)\n                options.series.shadowSize = options.shadowSize;\n\n            // save options on axes for future reference\n            for (i = 0; i < options.xaxes.length; ++i)\n                getOrCreateAxis(xaxes, i + 1).options = options.xaxes[i];\n            for (i = 0; i < options.yaxes.length; ++i)\n                getOrCreateAxis(yaxes, i + 1).options = options.yaxes[i];\n\n            // add hooks from options\n            for (var n in hooks)\n                if (options.hooks[n] && options.hooks[n].length)\n                    hooks[n] = hooks[n].concat(options.hooks[n]);\n\n            executeHooks(hooks.processOptions, [options]);\n        }\n\n        function setData(d) {\n            series = parseData(d);\n            fillInSeriesOptions();\n            processData();\n        }\n        \n        function parseData(d) {\n            var res = [];\n            for (var i = 0; i < d.length; ++i) {\n                var s = $.extend(true, {}, options.series);\n\n                if (d[i].data != null) {\n                    s.data = d[i].data; // move the data instead of deep-copy\n                    delete d[i].data;\n\n                    $.extend(true, s, d[i]);\n\n                    d[i].data = s.data;\n                }\n                else\n                    s.data = d[i];\n                res.push(s);\n            }\n\n            return res;\n        }\n        \n        function axisNumber(obj, coord) {\n            var a = obj[coord + \"axis\"];\n            if (typeof a == \"object\") // if we got a real axis, extract number\n                a = a.n;\n            if (typeof a != \"number\")\n                a = 1; // default to first axis\n            return a;\n        }\n\n        function allAxes() {\n            // return flat array without annoying null entries\n            return $.grep(xaxes.concat(yaxes), function (a) { return a; });\n        }\n        \n        function canvasToAxisCoords(pos) {\n            // return an object with x/y corresponding to all used axes \n            var res = {}, i, axis;\n            for (i = 0; i < xaxes.length; ++i) {\n                axis = xaxes[i];\n                if (axis && axis.used)\n                    res[\"x\" + axis.n] = axis.c2p(pos.left);\n            }\n\n            for (i = 0; i < yaxes.length; ++i) {\n                axis = yaxes[i];\n                if (axis && axis.used)\n                    res[\"y\" + axis.n] = axis.c2p(pos.top);\n            }\n            \n            if (res.x1 !== undefined)\n                res.x = res.x1;\n            if (res.y1 !== undefined)\n                res.y = res.y1;\n\n            return res;\n        }\n        \n        function axisToCanvasCoords(pos) {\n            // get canvas coords from the first pair of x/y found in pos\n            var res = {}, i, axis, key;\n\n            for (i = 0; i < xaxes.length; ++i) {\n                axis = xaxes[i];\n                if (axis && axis.used) {\n                    key = \"x\" + axis.n;\n                    if (pos[key] == null && axis.n == 1)\n                        key = \"x\";\n\n                    if (pos[key] != null) {\n                        res.left = axis.p2c(pos[key]);\n                        break;\n                    }\n                }\n            }\n            \n            for (i = 0; i < yaxes.length; ++i) {\n                axis = yaxes[i];\n                if (axis && axis.used) {\n                    key = \"y\" + axis.n;\n                    if (pos[key] == null && axis.n == 1)\n                        key = \"y\";\n\n                    if (pos[key] != null) {\n                        res.top = axis.p2c(pos[key]);\n                        break;\n                    }\n                }\n            }\n            \n            return res;\n        }\n        \n        function getOrCreateAxis(axes, number) {\n            if (!axes[number - 1])\n                axes[number - 1] = {\n                    n: number, // save the number for future reference\n                    direction: axes == xaxes ? \"x\" : \"y\",\n                    options: $.extend(true, {}, axes == xaxes ? options.xaxis : options.yaxis)\n                };\n                \n            return axes[number - 1];\n        }\n\n        function fillInSeriesOptions() {\n            var i;\n            \n            // collect what we already got of colors\n            var neededColors = series.length,\n                usedColors = [],\n                assignedColors = [];\n            for (i = 0; i < series.length; ++i) {\n                var sc = series[i].color;\n                if (sc != null) {\n                    --neededColors;\n                    if (typeof sc == \"number\")\n                        assignedColors.push(sc);\n                    else\n                        usedColors.push($.color.parse(series[i].color));\n                }\n            }\n            \n            // we might need to generate more colors if higher indices\n            // are assigned\n            for (i = 0; i < assignedColors.length; ++i) {\n                neededColors = Math.max(neededColors, assignedColors[i] + 1);\n            }\n\n            // produce colors as needed\n            var colors = [], variation = 0;\n            i = 0;\n            while (colors.length < neededColors) {\n                var c;\n                if (options.colors.length == i) // check degenerate case\n                    c = $.color.make(100, 100, 100);\n                else\n                    c = $.color.parse(options.colors[i]);\n\n                // vary color if needed\n                var sign = variation % 2 == 1 ? -1 : 1;\n                c.scale('rgb', 1 + sign * Math.ceil(variation / 2) * 0.2)\n\n                // FIXME: if we're getting to close to something else,\n                // we should probably skip this one\n                colors.push(c);\n                \n                ++i;\n                if (i >= options.colors.length) {\n                    i = 0;\n                    ++variation;\n                }\n            }\n\n            // fill in the options\n            var colori = 0, s;\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                \n                // assign colors\n                if (s.color == null) {\n                    s.color = colors[colori].toString();\n                    ++colori;\n                }\n                else if (typeof s.color == \"number\")\n                    s.color = colors[s.color].toString();\n\n                // turn on lines automatically in case nothing is set\n                if (s.lines.show == null) {\n                    var v, show = true;\n                    for (v in s)\n                        if (s[v] && s[v].show) {\n                            show = false;\n                            break;\n                        }\n                    if (show)\n                        s.lines.show = true;\n                }\n\n                // setup axes\n                s.xaxis = getOrCreateAxis(xaxes, axisNumber(s, \"x\"));\n                s.yaxis = getOrCreateAxis(yaxes, axisNumber(s, \"y\"));\n            }\n        }\n        \n        function processData() {\n            var topSentry = Number.POSITIVE_INFINITY,\n                bottomSentry = Number.NEGATIVE_INFINITY,\n                fakeInfinity = Number.MAX_VALUE,\n                i, j, k, m, length,\n                s, points, ps, x, y, axis, val, f, p;\n\n            function updateAxis(axis, min, max) {\n                if (min < axis.datamin && min != -fakeInfinity)\n                    axis.datamin = min;\n                if (max > axis.datamax && max != fakeInfinity)\n                    axis.datamax = max;\n            }\n\n            $.each(allAxes(), function (_, axis) {\n                // init axis\n                axis.datamin = topSentry;\n                axis.datamax = bottomSentry;\n                axis.used = false;\n            });\n            \n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                s.datapoints = { points: [] };\n                \n                executeHooks(hooks.processRawData, [ s, s.data, s.datapoints ]);\n            }\n            \n            // first pass: clean and copy data\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n\n                var data = s.data, format = s.datapoints.format;\n\n                if (!format) {\n                    format = [];\n                    // find out how to copy\n                    format.push({ x: true, number: true, required: true });\n                    format.push({ y: true, number: true, required: true });\n\n                    if (s.bars.show || (s.lines.show && s.lines.fill)) {\n                        format.push({ y: true, number: true, required: false, defaultValue: 0 });\n                        if (s.bars.horizontal) {\n                            delete format[format.length - 1].y;\n                            format[format.length - 1].x = true;\n                        }\n                    }\n                    \n                    s.datapoints.format = format;\n                }\n\n                if (s.datapoints.pointsize != null)\n                    continue; // already filled in\n\n                s.datapoints.pointsize = format.length;\n                \n                ps = s.datapoints.pointsize;\n                points = s.datapoints.points;\n\n                insertSteps = s.lines.show && s.lines.steps;\n                s.xaxis.used = s.yaxis.used = true;\n                \n                for (j = k = 0; j < data.length; ++j, k += ps) {\n                    p = data[j];\n\n                    var nullify = p == null;\n                    if (!nullify) {\n                        for (m = 0; m < ps; ++m) {\n                            val = p[m];\n                            f = format[m];\n\n                            if (f) {\n                                if (f.number && val != null) {\n                                    val = +val; // convert to number\n                                    if (isNaN(val))\n                                        val = null;\n                                    else if (val == Infinity)\n                                        val = fakeInfinity;\n                                    else if (val == -Infinity)\n                                        val = -fakeInfinity;\n                                }\n\n                                if (val == null) {\n                                    if (f.required)\n                                        nullify = true;\n                                    \n                                    if (f.defaultValue != null)\n                                        val = f.defaultValue;\n                                }\n                            }\n                            \n                            points[k + m] = val;\n                        }\n                    }\n                    \n                    if (nullify) {\n                        for (m = 0; m < ps; ++m) {\n                            val = points[k + m];\n                            if (val != null) {\n                                f = format[m];\n                                // extract min/max info\n                                if (f.x)\n                                    updateAxis(s.xaxis, val, val);\n                                if (f.y)\n                                    updateAxis(s.yaxis, val, val);\n                            }\n                            points[k + m] = null;\n                        }\n                    }\n                    else {\n                        // a little bit of line specific stuff that\n                        // perhaps shouldn't be here, but lacking\n                        // better means...\n                        if (insertSteps && k > 0\n                            && points[k - ps] != null\n                            && points[k - ps] != points[k]\n                            && points[k - ps + 1] != points[k + 1]) {\n                            // copy the point to make room for a middle point\n                            for (m = 0; m < ps; ++m)\n                                points[k + ps + m] = points[k + m];\n\n                            // middle point has same y\n                            points[k + 1] = points[k - ps + 1];\n\n                            // we've added a point, better reflect that\n                            k += ps;\n                        }\n                    }\n                }\n            }\n\n            // give the hooks a chance to run\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                \n                executeHooks(hooks.processDatapoints, [ s, s.datapoints]);\n            }\n\n            // second pass: find datamax/datamin for auto-scaling\n            for (i = 0; i < series.length; ++i) {\n                s = series[i];\n                points = s.datapoints.points,\n                ps = s.datapoints.pointsize;\n\n                var xmin = topSentry, ymin = topSentry,\n                    xmax = bottomSentry, ymax = bottomSentry;\n                \n                for (j = 0; j < points.length; j += ps) {\n                    if (points[j] == null)\n                        continue;\n\n                    for (m = 0; m < ps; ++m) {\n                        val = points[j + m];\n                        f = format[m];\n                        if (!f || val == fakeInfinity || val == -fakeInfinity)\n                            continue;\n                        \n                        if (f.x) {\n                            if (val < xmin)\n                                xmin = val;\n                            if (val > xmax)\n                                xmax = val;\n                        }\n                        if (f.y) {\n                            if (val < ymin)\n                                ymin = val;\n                            if (val > ymax)\n                                ymax = val;\n                        }\n                    }\n                }\n                \n                if (s.bars.show) {\n                    // make sure we got room for the bar on the dancing floor\n                    var delta = s.bars.align == \"left\" ? 0 : -s.bars.barWidth/2;\n                    if (s.bars.horizontal) {\n                        ymin += delta;\n                        ymax += delta + s.bars.barWidth;\n                    }\n                    else {\n                        xmin += delta;\n                        xmax += delta + s.bars.barWidth;\n                    }\n                }\n                \n                updateAxis(s.xaxis, xmin, xmax);\n                updateAxis(s.yaxis, ymin, ymax);\n            }\n\n            $.each(allAxes(), function (_, axis) {\n                if (axis.datamin == topSentry)\n                    axis.datamin = null;\n                if (axis.datamax == bottomSentry)\n                    axis.datamax = null;\n            });\n        }\n\n        function makeCanvas(skipPositioning, cls) {\n            var c = document.createElement('canvas');\n            c.className = cls;\n            c.width = canvasWidth;\n            c.height = canvasHeight;\n                    \n            if (!skipPositioning)\n                $(c).css({ position: 'absolute', left: 0, top: 0 });\n                \n            $(c).appendTo(placeholder);\n                \n            if (!c.getContext) // excanvas hack\n                c = window.G_vmlCanvasManager.initElement(c);\n\n            // used for resetting in case we get replotted\n            c.getContext(\"2d\").save();\n            \n            return c;\n        }\n\n        function getCanvasDimensions() {\n            canvasWidth = placeholder.width();\n            canvasHeight = placeholder.height();\n            \n            if (canvasWidth <= 0 || canvasHeight <= 0)\n                throw \"Invalid dimensions for plot, width = \" + canvasWidth + \", height = \" + canvasHeight;\n        }\n\n        function resizeCanvas(c) {\n            // resizing should reset the state (excanvas seems to be\n            // buggy though)\n            if (c.width != canvasWidth)\n                c.width = canvasWidth;\n\n            if (c.height != canvasHeight)\n                c.height = canvasHeight;\n\n            // so try to get back to the initial state (even if it's\n            // gone now, this should be safe according to the spec)\n            var cctx = c.getContext(\"2d\");\n            cctx.restore();\n\n            // and save again\n            cctx.save();\n        }\n        \n        function setupCanvases() {\n            var reused,\n                existingCanvas = placeholder.children(\"canvas.base\"),\n                existingOverlay = placeholder.children(\"canvas.overlay\");\n\n            if (existingCanvas.length == 0 || existingOverlay == 0) {\n                // init everything\n                \n                placeholder.html(\"\"); // make sure placeholder is clear\n            \n                placeholder.css({ padding: 0 }); // padding messes up the positioning\n                \n                if (placeholder.css(\"position\") == 'static')\n                    placeholder.css(\"position\", \"relative\"); // for positioning labels and overlay\n\n                getCanvasDimensions();\n                \n                canvas = makeCanvas(true, \"base\");\n                overlay = makeCanvas(false, \"overlay\"); // overlay canvas for interactive features\n\n                reused = false;\n            }\n            else {\n                // reuse existing elements\n\n                canvas = existingCanvas.get(0);\n                overlay = existingOverlay.get(0);\n\n                reused = true;\n            }\n\n            ctx = canvas.getContext(\"2d\");\n            octx = overlay.getContext(\"2d\");\n\n            // we include the canvas in the event holder too, because IE 7\n            // sometimes has trouble with the stacking order\n            eventHolder = $([overlay, canvas]);\n\n            if (reused) {\n                // run shutdown in the old plot object\n                placeholder.data(\"plot\").shutdown();\n\n                // reset reused canvases\n                plot.resize();\n                \n                // make sure overlay pixels are cleared (canvas is cleared when we redraw)\n                octx.clearRect(0, 0, canvasWidth, canvasHeight);\n                \n                // then whack any remaining obvious garbage left\n                eventHolder.unbind();\n                placeholder.children().not([canvas, overlay]).remove();\n            }\n\n            // save in case we get replotted\n            placeholder.data(\"plot\", plot);\n        }\n\n        function bindEvents() {\n            // bind events\n            if (options.grid.hoverable) {\n                eventHolder.mousemove(onMouseMove);\n                eventHolder.mouseleave(onMouseLeave);\n            }\n\n            if (options.grid.clickable)\n                eventHolder.click(onClick);\n\n            executeHooks(hooks.bindEvents, [eventHolder]);\n        }\n\n        function shutdown() {\n            if (redrawTimeout)\n                clearTimeout(redrawTimeout);\n            \n            eventHolder.unbind(\"mousemove\", onMouseMove);\n            eventHolder.unbind(\"mouseleave\", onMouseLeave);\n            eventHolder.unbind(\"click\", onClick);\n            \n            executeHooks(hooks.shutdown, [eventHolder]);\n        }\n\n        function setTransformationHelpers(axis) {\n            // set helper functions on the axis, assumes plot area\n            // has been computed already\n            \n            function identity(x) { return x; }\n            \n            var s, m, t = axis.options.transform || identity,\n                it = axis.options.inverseTransform;\n            \n            // precompute how much the axis is scaling a point\n            // in canvas space\n            if (axis.direction == \"x\") {\n                s = axis.scale = plotWidth / Math.abs(t(axis.max) - t(axis.min));\n                m = Math.min(t(axis.max), t(axis.min));\n            }\n            else {\n                s = axis.scale = plotHeight / Math.abs(t(axis.max) - t(axis.min));\n                s = -s;\n                m = Math.max(t(axis.max), t(axis.min));\n            }\n\n            // data point to canvas coordinate\n            if (t == identity) // slight optimization\n                axis.p2c = function (p) { return (p - m) * s; };\n            else\n                axis.p2c = function (p) { return (t(p) - m) * s; };\n            // canvas coordinate to data point\n            if (!it)\n                axis.c2p = function (c) { return m + c / s; };\n            else\n                axis.c2p = function (c) { return it(m + c / s); };\n        }\n\n        function measureTickLabels(axis) {\n            var opts = axis.options, i, ticks = axis.ticks || [], labels = [],\n                l, w = opts.labelWidth, h = opts.labelHeight, dummyDiv;\n\n            function makeDummyDiv(labels, width) {\n                return $('<div style=\"position:absolute;top:-10000px;' + width + 'font-size:smaller\">' +\n                         '<div class=\"' + axis.direction + 'Axis ' + axis.direction + axis.n + 'Axis\">'\n                         + labels.join(\"\") + '</div></div>')\n                    .appendTo(placeholder);\n            }\n            \n            if (axis.direction == \"x\") {\n                // to avoid measuring the widths of the labels (it's slow), we\n                // construct fixed-size boxes and put the labels inside\n                // them, we don't need the exact figures and the\n                // fixed-size box content is easy to center\n                if (w == null)\n                    w = Math.floor(canvasWidth / (ticks.length > 0 ? ticks.length : 1));\n\n                // measure x label heights\n                if (h == null) {\n                    labels = [];\n                    for (i = 0; i < ticks.length; ++i) {\n                        l = ticks[i].label;\n                        if (l)\n                            labels.push('<div class=\"tickLabel\" style=\"float:left;width:' + w + 'px\">' + l + '</div>');\n                    }\n\n                    if (labels.length > 0) {\n                        // stick them all in the same div and measure\n                        // collective height\n                        labels.push('<div style=\"clear:left\"></div>');\n                        dummyDiv = makeDummyDiv(labels, \"width:10000px;\");\n                        h = dummyDiv.height();\n                        dummyDiv.remove();\n                    }\n                }\n            }\n            else if (w == null || h == null) {\n                // calculate y label dimensions\n                for (i = 0; i < ticks.length; ++i) {\n                    l = ticks[i].label;\n                    if (l)\n                        labels.push('<div class=\"tickLabel\">' + l + '</div>');\n                }\n                \n                if (labels.length > 0) {\n                    dummyDiv = makeDummyDiv(labels, \"\");\n                    if (w == null)\n                        w = dummyDiv.children().width();\n                    if (h == null)\n                        h = dummyDiv.find(\"div.tickLabel\").height();\n                    dummyDiv.remove();\n                }\n            }\n\n            if (w == null)\n                w = 0;\n            if (h == null)\n                h = 0;\n\n            axis.labelWidth = w;\n            axis.labelHeight = h;\n        }\n\n        function allocateAxisBoxFirstPhase(axis) {\n            // find the bounding box of the axis by looking at label\n            // widths/heights and ticks, make room by diminishing the\n            // plotOffset\n\n            var lw = axis.labelWidth,\n                lh = axis.labelHeight,\n                pos = axis.options.position,\n                tickLength = axis.options.tickLength,\n                axismargin = options.grid.axisMargin,\n                padding = options.grid.labelMargin,\n                all = axis.direction == \"x\" ? xaxes : yaxes,\n                index;\n\n            // determine axis margin\n            var samePosition = $.grep(all, function (a) {\n                return a && a.options.position == pos && a.reserveSpace;\n            });\n            if ($.inArray(axis, samePosition) == samePosition.length - 1)\n                axismargin = 0; // outermost\n\n            // determine tick length - if we're innermost, we can use \"full\"\n            if (tickLength == null)\n                tickLength = \"full\";\n\n            var sameDirection = $.grep(all, function (a) {\n                return a && a.reserveSpace;\n            });\n\n            var innermost = $.inArray(axis, sameDirection) == 0;\n            if (!innermost && tickLength == \"full\")\n                tickLength = 5;\n                \n            if (!isNaN(+tickLength))\n                padding += +tickLength;\n\n            // compute box\n            if (axis.direction == \"x\") {\n                lh += padding;\n                \n                if (pos == \"bottom\") {\n                    plotOffset.bottom += lh + axismargin;\n                    axis.box = { top: canvasHeight - plotOffset.bottom, height: lh };\n                }\n                else {\n                    axis.box = { top: plotOffset.top + axismargin, height: lh };\n                    plotOffset.top += lh + axismargin;\n                }\n            }\n            else {\n                lw += padding;\n                \n                if (pos == \"left\") {\n                    axis.box = { left: plotOffset.left + axismargin, width: lw };\n                    plotOffset.left += lw + axismargin;\n                }\n                else {\n                    plotOffset.right += lw + axismargin;\n                    axis.box = { left: canvasWidth - plotOffset.right, width: lw };\n                }\n            }\n\n             // save for future reference\n            axis.position = pos;\n            axis.tickLength = tickLength;\n            axis.box.padding = padding;\n            axis.innermost = innermost;\n        }\n\n        function allocateAxisBoxSecondPhase(axis) {\n            // set remaining bounding box coordinates\n            if (axis.direction == \"x\") {\n                axis.box.left = plotOffset.left;\n                axis.box.width = plotWidth;\n            }\n            else {\n                axis.box.top = plotOffset.top;\n                axis.box.height = plotHeight;\n            }\n        }\n        \n        function setupGrid() {\n            var i, axes = allAxes();\n\n            // first calculate the plot and axis box dimensions\n\n            $.each(axes, function (_, axis) {\n                axis.show = axis.options.show;\n                if (axis.show == null)\n                    axis.show = axis.used; // by default an axis is visible if it's got data\n                \n                axis.reserveSpace = axis.show || axis.options.reserveSpace;\n\n                setRange(axis);\n            });\n\n            allocatedAxes = $.grep(axes, function (axis) { return axis.reserveSpace; });\n\n            plotOffset.left = plotOffset.right = plotOffset.top = plotOffset.bottom = 0;\n            if (options.grid.show) {\n                $.each(allocatedAxes, function (_, axis) {\n                    // make the ticks\n                    setupTickGeneration(axis);\n                    setTicks(axis);\n                    snapRangeToTicks(axis, axis.ticks);\n\n                    // find labelWidth/Height for axis\n                    measureTickLabels(axis);\n                });\n\n                // with all dimensions in house, we can compute the\n                // axis boxes, start from the outside (reverse order)\n                for (i = allocatedAxes.length - 1; i >= 0; --i)\n                    allocateAxisBoxFirstPhase(allocatedAxes[i]);\n\n                // make sure we've got enough space for things that\n                // might stick out\n                var minMargin = options.grid.minBorderMargin;\n                if (minMargin == null) {\n                    minMargin = 0;\n                    for (i = 0; i < series.length; ++i)\n                        minMargin = Math.max(minMargin, series[i].points.radius + series[i].points.lineWidth/2);\n                }\n                    \n                for (var a in plotOffset) {\n                    plotOffset[a] += options.grid.borderWidth;\n                    plotOffset[a] = Math.max(minMargin, plotOffset[a]);\n                }\n            }\n            \n            plotWidth = canvasWidth - plotOffset.left - plotOffset.right;\n            plotHeight = canvasHeight - plotOffset.bottom - plotOffset.top;\n\n            // now we got the proper plotWidth/Height, we can compute the scaling\n            $.each(axes, function (_, axis) {\n                setTransformationHelpers(axis);\n            });\n\n            if (options.grid.show) {\n                $.each(allocatedAxes, function (_, axis) {\n                    allocateAxisBoxSecondPhase(axis);\n                });\n\n                insertAxisLabels();\n            }\n            \n            insertLegend();\n        }\n        \n        function setRange(axis) {\n            var opts = axis.options,\n                min = +(opts.min != null ? opts.min : axis.datamin),\n                max = +(opts.max != null ? opts.max : axis.datamax),\n                delta = max - min;\n\n            if (delta == 0.0) {\n                // degenerate case\n                var widen = max == 0 ? 1 : 0.01;\n\n                if (opts.min == null)\n                    min -= widen;\n                // always widen max if we couldn't widen min to ensure we\n                // don't fall into min == max which doesn't work\n                if (opts.max == null || opts.min != null)\n                    max += widen;\n            }\n            else {\n                // consider autoscaling\n                var margin = opts.autoscaleMargin;\n                if (margin != null) {\n                    if (opts.min == null) {\n                        min -= delta * margin;\n                        // make sure we don't go below zero if all values\n                        // are positive\n                        if (min < 0 && axis.datamin != null && axis.datamin >= 0)\n                            min = 0;\n                    }\n                    if (opts.max == null) {\n                        max += delta * margin;\n                        if (max > 0 && axis.datamax != null && axis.datamax <= 0)\n                            max = 0;\n                    }\n                }\n            }\n            axis.min = min;\n            axis.max = max;\n        }\n\n        function setupTickGeneration(axis) {\n            var opts = axis.options;\n                \n            // estimate number of ticks\n            var noTicks;\n            if (typeof opts.ticks == \"number\" && opts.ticks > 0)\n                noTicks = opts.ticks;\n            else\n                // heuristic based on the model a*sqrt(x) fitted to\n                // some data points that seemed reasonable\n                noTicks = 0.3 * Math.sqrt(axis.direction == \"x\" ? canvasWidth : canvasHeight);\n\n            var delta = (axis.max - axis.min) / noTicks,\n                size, generator, unit, formatter, i, magn, norm;\n\n            if (opts.mode == \"time\") {\n                // pretty handling of time\n                \n                // map of app. size of time units in milliseconds\n                var timeUnitSize = {\n                    \"second\": 1000,\n                    \"minute\": 60 * 1000,\n                    \"hour\": 60 * 60 * 1000,\n                    \"day\": 24 * 60 * 60 * 1000,\n                    \"month\": 30 * 24 * 60 * 60 * 1000,\n                    \"year\": 365.2425 * 24 * 60 * 60 * 1000\n                };\n\n\n                // the allowed tick sizes, after 1 year we use\n                // an integer algorithm\n                var spec = [\n                    [1, \"second\"], [2, \"second\"], [5, \"second\"], [10, \"second\"],\n                    [30, \"second\"], \n                    [1, \"minute\"], [2, \"minute\"], [5, \"minute\"], [10, \"minute\"],\n                    [30, \"minute\"], \n                    [1, \"hour\"], [2, \"hour\"], [4, \"hour\"],\n                    [8, \"hour\"], [12, \"hour\"],\n                    [1, \"day\"], [2, \"day\"], [3, \"day\"],\n                    [0.25, \"month\"], [0.5, \"month\"], [1, \"month\"],\n                    [2, \"month\"], [3, \"month\"], [6, \"month\"],\n                    [1, \"year\"]\n                ];\n\n                var minSize = 0;\n                if (opts.minTickSize != null) {\n                    if (typeof opts.tickSize == \"number\")\n                        minSize = opts.tickSize;\n                    else\n                        minSize = opts.minTickSize[0] * timeUnitSize[opts.minTickSize[1]];\n                }\n\n                for (var i = 0; i < spec.length - 1; ++i)\n                    if (delta < (spec[i][0] * timeUnitSize[spec[i][1]]\n                                 + spec[i + 1][0] * timeUnitSize[spec[i + 1][1]]) / 2\n                       && spec[i][0] * timeUnitSize[spec[i][1]] >= minSize)\n                        break;\n                size = spec[i][0];\n                unit = spec[i][1];\n                \n                // special-case the possibility of several years\n                if (unit == \"year\") {\n                    magn = Math.pow(10, Math.floor(Math.log(delta / timeUnitSize.year) / Math.LN10));\n                    norm = (delta / timeUnitSize.year) / magn;\n                    if (norm < 1.5)\n                        size = 1;\n                    else if (norm < 3)\n                        size = 2;\n                    else if (norm < 7.5)\n                        size = 5;\n                    else\n                        size = 10;\n\n                    size *= magn;\n                }\n\n                axis.tickSize = opts.tickSize || [size, unit];\n                \n                generator = function(axis) {\n                    var ticks = [],\n                        tickSize = axis.tickSize[0], unit = axis.tickSize[1],\n                        d = new Date(axis.min);\n                    \n                    var step = tickSize * timeUnitSize[unit];\n\n                    if (unit == \"second\")\n                        d.setUTCSeconds(floorInBase(d.getUTCSeconds(), tickSize));\n                    if (unit == \"minute\")\n                        d.setUTCMinutes(floorInBase(d.getUTCMinutes(), tickSize));\n                    if (unit == \"hour\")\n                        d.setUTCHours(floorInBase(d.getUTCHours(), tickSize));\n                    if (unit == \"month\")\n                        d.setUTCMonth(floorInBase(d.getUTCMonth(), tickSize));\n                    if (unit == \"year\")\n                        d.setUTCFullYear(floorInBase(d.getUTCFullYear(), tickSize));\n                    \n                    // reset smaller components\n                    d.setUTCMilliseconds(0);\n                    if (step >= timeUnitSize.minute)\n                        d.setUTCSeconds(0);\n                    if (step >= timeUnitSize.hour)\n                        d.setUTCMinutes(0);\n                    if (step >= timeUnitSize.day)\n                        d.setUTCHours(0);\n                    if (step >= timeUnitSize.day * 4)\n                        d.setUTCDate(1);\n                    if (step >= timeUnitSize.year)\n                        d.setUTCMonth(0);\n\n\n                    var carry = 0, v = Number.NaN, prev;\n                    do {\n                        prev = v;\n                        v = d.getTime();\n                        ticks.push(v);\n                        if (unit == \"month\") {\n                            if (tickSize < 1) {\n                                // a bit complicated - we'll divide the month\n                                // up but we need to take care of fractions\n                                // so we don't end up in the middle of a day\n                                d.setUTCDate(1);\n                                var start = d.getTime();\n                                d.setUTCMonth(d.getUTCMonth() + 1);\n                                var end = d.getTime();\n                                d.setTime(v + carry * timeUnitSize.hour + (end - start) * tickSize);\n                                carry = d.getUTCHours();\n                                d.setUTCHours(0);\n                            }\n                            else\n                                d.setUTCMonth(d.getUTCMonth() + tickSize);\n                        }\n                        else if (unit == \"year\") {\n                            d.setUTCFullYear(d.getUTCFullYear() + tickSize);\n                        }\n                        else\n                            d.setTime(v + step);\n                    } while (v < axis.max && v != prev);\n\n                    return ticks;\n                };\n\n                formatter = function (v, axis) {\n                    var d = new Date(v);\n\n                    // first check global format\n                    if (opts.timeformat != null)\n                        return $.plot.formatDate(d, opts.timeformat, opts.monthNames);\n                    \n                    var t = axis.tickSize[0] * timeUnitSize[axis.tickSize[1]];\n                    var span = axis.max - axis.min;\n                    var suffix = (opts.twelveHourClock) ? \" %p\" : \"\";\n                    \n                    if (t < timeUnitSize.minute)\n                        fmt = \"%h:%M:%S\" + suffix;\n                    else if (t < timeUnitSize.day) {\n                        if (span < 2 * timeUnitSize.day)\n                            fmt = \"%h:%M\" + suffix;\n                        else\n                            fmt = \"%b %d %h:%M\" + suffix;\n                    }\n                    else if (t < timeUnitSize.month)\n                        fmt = \"%b %d\";\n                    else if (t < timeUnitSize.year) {\n                        if (span < timeUnitSize.year)\n                            fmt = \"%b\";\n                        else\n                            fmt = \"%b %y\";\n                    }\n                    else\n                        fmt = \"%y\";\n                    \n                    return $.plot.formatDate(d, fmt, opts.monthNames);\n                };\n            }\n            else {\n                // pretty rounding of base-10 numbers\n                var maxDec = opts.tickDecimals;\n                var dec = -Math.floor(Math.log(delta) / Math.LN10);\n                if (maxDec != null && dec > maxDec)\n                    dec = maxDec;\n\n                magn = Math.pow(10, -dec);\n                norm = delta / magn; // norm is between 1.0 and 10.0\n                \n                if (norm < 1.5)\n                    size = 1;\n                else if (norm < 3) {\n                    size = 2;\n                    // special case for 2.5, requires an extra decimal\n                    if (norm > 2.25 && (maxDec == null || dec + 1 <= maxDec)) {\n                        size = 2.5;\n                        ++dec;\n                    }\n                }\n                else if (norm < 7.5)\n                    size = 5;\n                else\n                    size = 10;\n\n                size *= magn;\n                \n                if (opts.minTickSize != null && size < opts.minTickSize)\n                    size = opts.minTickSize;\n\n                axis.tickDecimals = Math.max(0, maxDec != null ? maxDec : dec);\n                axis.tickSize = opts.tickSize || size;\n\n                generator = function (axis) {\n                    var ticks = [];\n\n                    // spew out all possible ticks\n                    var start = floorInBase(axis.min, axis.tickSize),\n                        i = 0, v = Number.NaN, prev;\n                    do {\n                        prev = v;\n                        v = start + i * axis.tickSize;\n                        ticks.push(v);\n                        ++i;\n                    } while (v < axis.max && v != prev);\n                    return ticks;\n                };\n\n                formatter = function (v, axis) {\n                    return v.toFixed(axis.tickDecimals);\n                };\n            }\n\n            if (opts.alignTicksWithAxis != null) {\n                var otherAxis = (axis.direction == \"x\" ? xaxes : yaxes)[opts.alignTicksWithAxis - 1];\n                if (otherAxis && otherAxis.used && otherAxis != axis) {\n                    // consider snapping min/max to outermost nice ticks\n                    var niceTicks = generator(axis);\n                    if (niceTicks.length > 0) {\n                        if (opts.min == null)\n                            axis.min = Math.min(axis.min, niceTicks[0]);\n                        if (opts.max == null && niceTicks.length > 1)\n                            axis.max = Math.max(axis.max, niceTicks[niceTicks.length - 1]);\n                    }\n                    \n                    generator = function (axis) {\n                        // copy ticks, scaled to this axis\n                        var ticks = [], v, i;\n                        for (i = 0; i < otherAxis.ticks.length; ++i) {\n                            v = (otherAxis.ticks[i].v - otherAxis.min) / (otherAxis.max - otherAxis.min);\n                            v = axis.min + v * (axis.max - axis.min);\n                            ticks.push(v);\n                        }\n                        return ticks;\n                    };\n                    \n                    // we might need an extra decimal since forced\n                    // ticks don't necessarily fit naturally\n                    if (axis.mode != \"time\" && opts.tickDecimals == null) {\n                        var extraDec = Math.max(0, -Math.floor(Math.log(delta) / Math.LN10) + 1),\n                            ts = generator(axis);\n\n                        // only proceed if the tick interval rounded\n                        // with an extra decimal doesn't give us a\n                        // zero at end\n                        if (!(ts.length > 1 && /\\..*0$/.test((ts[1] - ts[0]).toFixed(extraDec))))\n                            axis.tickDecimals = extraDec;\n                    }\n                }\n            }\n\n            axis.tickGenerator = generator;\n            if ($.isFunction(opts.tickFormatter))\n                axis.tickFormatter = function (v, axis) { return \"\" + opts.tickFormatter(v, axis); };\n            else\n                axis.tickFormatter = formatter;\n        }\n        \n        function setTicks(axis) {\n            var oticks = axis.options.ticks, ticks = [];\n            if (oticks == null || (typeof oticks == \"number\" && oticks > 0))\n                ticks = axis.tickGenerator(axis);\n            else if (oticks) {\n                if ($.isFunction(oticks))\n                    // generate the ticks\n                    ticks = oticks({ min: axis.min, max: axis.max });\n                else\n                    ticks = oticks;\n            }\n\n            // clean up/labelify the supplied ticks, copy them over\n            var i, v;\n            axis.ticks = [];\n            for (i = 0; i < ticks.length; ++i) {\n                var label = null;\n                var t = ticks[i];\n                if (typeof t == \"object\") {\n                    v = +t[0];\n                    if (t.length > 1)\n                        label = t[1];\n                }\n                else\n                    v = +t;\n                if (label == null)\n                    label = axis.tickFormatter(v, axis);\n                if (!isNaN(v))\n                    axis.ticks.push({ v: v, label: label });\n            }\n        }\n\n        function snapRangeToTicks(axis, ticks) {\n            if (axis.options.autoscaleMargin && ticks.length > 0) {\n                // snap to ticks\n                if (axis.options.min == null)\n                    axis.min = Math.min(axis.min, ticks[0].v);\n                if (axis.options.max == null && ticks.length > 1)\n                    axis.max = Math.max(axis.max, ticks[ticks.length - 1].v);\n            }\n        }\n      \n        function draw() {\n            ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\n            var grid = options.grid;\n\n            // draw background, if any\n            if (grid.show && grid.backgroundColor)\n                drawBackground();\n            \n            if (grid.show && !grid.aboveData)\n                drawGrid();\n\n            for (var i = 0; i < series.length; ++i) {\n                executeHooks(hooks.drawSeries, [ctx, series[i]]);\n                drawSeries(series[i]);\n            }\n\n            executeHooks(hooks.draw, [ctx]);\n            \n            if (grid.show && grid.aboveData)\n                drawGrid();\n        }\n\n        function extractRange(ranges, coord) {\n            var axis, from, to, key, axes = allAxes();\n\n            for (i = 0; i < axes.length; ++i) {\n                axis = axes[i];\n                if (axis.direction == coord) {\n                    key = coord + axis.n + \"axis\";\n                    if (!ranges[key] && axis.n == 1)\n                        key = coord + \"axis\"; // support x1axis as xaxis\n                    if (ranges[key]) {\n                        from = ranges[key].from;\n                        to = ranges[key].to;\n                        break;\n                    }\n                }\n            }\n\n            // backwards-compat stuff - to be removed in future\n            if (!ranges[key]) {\n                axis = coord == \"x\" ? xaxes[0] : yaxes[0];\n                from = ranges[coord + \"1\"];\n                to = ranges[coord + \"2\"];\n            }\n\n            // auto-reverse as an added bonus\n            if (from != null && to != null && from > to) {\n                var tmp = from;\n                from = to;\n                to = tmp;\n            }\n            \n            return { from: from, to: to, axis: axis };\n        }\n        \n        function drawBackground() {\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            ctx.fillStyle = getColorOrGradient(options.grid.backgroundColor, plotHeight, 0, \"rgba(255, 255, 255, 0)\");\n            ctx.fillRect(0, 0, plotWidth, plotHeight);\n            ctx.restore();\n        }\n\n        function drawGrid() {\n            var i;\n            \n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            // draw markings\n            var markings = options.grid.markings;\n            if (markings) {\n                if ($.isFunction(markings)) {\n                    var axes = plot.getAxes();\n                    // xmin etc. is backwards compatibility, to be\n                    // removed in the future\n                    axes.xmin = axes.xaxis.min;\n                    axes.xmax = axes.xaxis.max;\n                    axes.ymin = axes.yaxis.min;\n                    axes.ymax = axes.yaxis.max;\n                    \n                    markings = markings(axes);\n                }\n\n                for (i = 0; i < markings.length; ++i) {\n                    var m = markings[i],\n                        xrange = extractRange(m, \"x\"),\n                        yrange = extractRange(m, \"y\");\n\n                    // fill in missing\n                    if (xrange.from == null)\n                        xrange.from = xrange.axis.min;\n                    if (xrange.to == null)\n                        xrange.to = xrange.axis.max;\n                    if (yrange.from == null)\n                        yrange.from = yrange.axis.min;\n                    if (yrange.to == null)\n                        yrange.to = yrange.axis.max;\n\n                    // clip\n                    if (xrange.to < xrange.axis.min || xrange.from > xrange.axis.max ||\n                        yrange.to < yrange.axis.min || yrange.from > yrange.axis.max)\n                        continue;\n\n                    xrange.from = Math.max(xrange.from, xrange.axis.min);\n                    xrange.to = Math.min(xrange.to, xrange.axis.max);\n                    yrange.from = Math.max(yrange.from, yrange.axis.min);\n                    yrange.to = Math.min(yrange.to, yrange.axis.max);\n\n                    if (xrange.from == xrange.to && yrange.from == yrange.to)\n                        continue;\n\n                    // then draw\n                    xrange.from = xrange.axis.p2c(xrange.from);\n                    xrange.to = xrange.axis.p2c(xrange.to);\n                    yrange.from = yrange.axis.p2c(yrange.from);\n                    yrange.to = yrange.axis.p2c(yrange.to);\n                    \n                    if (xrange.from == xrange.to || yrange.from == yrange.to) {\n                        // draw line\n                        ctx.beginPath();\n                        ctx.strokeStyle = m.color || options.grid.markingsColor;\n                        ctx.lineWidth = m.lineWidth || options.grid.markingsLineWidth;\n                        ctx.moveTo(xrange.from, yrange.from);\n                        ctx.lineTo(xrange.to, yrange.to);\n                        ctx.stroke();\n                    }\n                    else {\n                        // fill area\n                        ctx.fillStyle = m.color || options.grid.markingsColor;\n                        ctx.fillRect(xrange.from, yrange.to,\n                                     xrange.to - xrange.from,\n                                     yrange.from - yrange.to);\n                    }\n                }\n            }\n            \n            // draw the ticks\n            var axes = allAxes(), bw = options.grid.borderWidth;\n\n            for (var j = 0; j < axes.length; ++j) {\n                var axis = axes[j], box = axis.box,\n                    t = axis.tickLength, x, y, xoff, yoff;\n                if (!axis.show || axis.ticks.length == 0)\n                    continue\n                \n                ctx.strokeStyle = axis.options.tickColor || $.color.parse(axis.options.color).scale('a', 0.22).toString();\n                ctx.lineWidth = 1;\n\n                // find the edges\n                if (axis.direction == \"x\") {\n                    x = 0;\n                    if (t == \"full\")\n                        y = (axis.position == \"top\" ? 0 : plotHeight);\n                    else\n                        y = box.top - plotOffset.top + (axis.position == \"top\" ? box.height : 0);\n                }\n                else {\n                    y = 0;\n                    if (t == \"full\")\n                        x = (axis.position == \"left\" ? 0 : plotWidth);\n                    else\n                        x = box.left - plotOffset.left + (axis.position == \"left\" ? box.width : 0);\n                }\n                \n                // draw tick bar\n                if (!axis.innermost) {\n                    ctx.beginPath();\n                    xoff = yoff = 0;\n                    if (axis.direction == \"x\")\n                        xoff = plotWidth;\n                    else\n                        yoff = plotHeight;\n                    \n                    if (ctx.lineWidth == 1) {\n                        x = Math.floor(x) + 0.5;\n                        y = Math.floor(y) + 0.5;\n                    }\n\n                    ctx.moveTo(x, y);\n                    ctx.lineTo(x + xoff, y + yoff);\n                    ctx.stroke();\n                }\n\n                // draw ticks\n                ctx.beginPath();\n                for (i = 0; i < axis.ticks.length; ++i) {\n                    var v = axis.ticks[i].v;\n                    \n                    xoff = yoff = 0;\n\n                    if (v < axis.min || v > axis.max\n                        // skip those lying on the axes if we got a border\n                        || (t == \"full\" && bw > 0\n                            && (v == axis.min || v == axis.max)))\n                        continue;\n\n                    if (axis.direction == \"x\") {\n                        x = axis.p2c(v);\n                        yoff = t == \"full\" ? -plotHeight : t;\n                        \n                        if (axis.position == \"top\")\n                            yoff = -yoff;\n                    }\n                    else {\n                        y = axis.p2c(v);\n                        xoff = t == \"full\" ? -plotWidth : t;\n                        \n                        if (axis.position == \"left\")\n                            xoff = -xoff;\n                    }\n\n                    if (ctx.lineWidth == 1) {\n                        if (axis.direction == \"x\")\n                            x = Math.floor(x) + 0.5;\n                        else\n                            y = Math.floor(y) + 0.5;\n                    }\n\n                    ctx.moveTo(x, y);\n                    ctx.lineTo(x + xoff, y + yoff);\n                }\n                \n                ctx.stroke();\n            }\n            \n            \n            // draw border\n            if (bw) {\n                ctx.lineWidth = bw;\n                ctx.strokeStyle = options.grid.borderColor;\n                ctx.strokeRect(-bw/2, -bw/2, plotWidth + bw, plotHeight + bw);\n            }\n\n            ctx.restore();\n        }\n\n        function insertAxisLabels() {\n            placeholder.find(\".tickLabels\").remove();\n            \n            var html = ['<div class=\"tickLabels\" style=\"font-size:smaller\">'];\n\n            var axes = allAxes();\n            for (var j = 0; j < axes.length; ++j) {\n                var axis = axes[j], box = axis.box;\n                if (!axis.show)\n                    continue;\n                //debug: html.push('<div style=\"position:absolute;opacity:0.10;background-color:red;left:' + box.left + 'px;top:' + box.top + 'px;width:' + box.width +  'px;height:' + box.height + 'px\"></div>')\n                html.push('<div class=\"' + axis.direction + 'Axis ' + axis.direction + axis.n + 'Axis\" style=\"color:' + axis.options.color + '\">');\n                for (var i = 0; i < axis.ticks.length; ++i) {\n                    var tick = axis.ticks[i];\n                    if (!tick.label || tick.v < axis.min || tick.v > axis.max)\n                        continue;\n\n                    var pos = {}, align;\n                    \n                    if (axis.direction == \"x\") {\n                        align = \"center\";\n                        pos.left = Math.round(plotOffset.left + axis.p2c(tick.v) - axis.labelWidth/2);\n                        if (axis.position == \"bottom\")\n                            pos.top = box.top + box.padding;\n                        else\n                            pos.bottom = canvasHeight - (box.top + box.height - box.padding);\n                    }\n                    else {\n                        pos.top = Math.round(plotOffset.top + axis.p2c(tick.v) - axis.labelHeight/2);\n                        if (axis.position == \"left\") {\n                            pos.right = canvasWidth - (box.left + box.width - box.padding)\n                            align = \"right\";\n                        }\n                        else {\n                            pos.left = box.left + box.padding;\n                            align = \"left\";\n                        }\n                    }\n\n                    pos.width = axis.labelWidth;\n\n                    var style = [\"position:absolute\", \"text-align:\" + align ];\n                    for (var a in pos)\n                        style.push(a + \":\" + pos[a] + \"px\")\n                    \n                    html.push('<div class=\"tickLabel\" style=\"' + style.join(';') + '\">' + tick.label + '</div>');\n                }\n                html.push('</div>');\n            }\n\n            html.push('</div>');\n\n            placeholder.append(html.join(\"\"));\n        }\n\n        function drawSeries(series) {\n            if (series.lines.show)\n                drawSeriesLines(series);\n            if (series.bars.show)\n                drawSeriesBars(series);\n            if (series.points.show)\n                drawSeriesPoints(series);\n        }\n        \n        function drawSeriesLines(series) {\n            function plotLine(datapoints, xoffset, yoffset, axisx, axisy) {\n                var points = datapoints.points,\n                    ps = datapoints.pointsize,\n                    prevx = null, prevy = null;\n                \n                ctx.beginPath();\n                for (var i = ps; i < points.length; i += ps) {\n                    var x1 = points[i - ps], y1 = points[i - ps + 1],\n                        x2 = points[i], y2 = points[i + 1];\n                    \n                    if (x1 == null || x2 == null)\n                        continue;\n\n                    // clip with ymin\n                    if (y1 <= y2 && y1 < axisy.min) {\n                        if (y2 < axisy.min)\n                            continue;   // line segment is outside\n                        // compute new intersection point\n                        x1 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.min;\n                    }\n                    else if (y2 <= y1 && y2 < axisy.min) {\n                        if (y1 < axisy.min)\n                            continue;\n                        x2 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.min;\n                    }\n\n                    // clip with ymax\n                    if (y1 >= y2 && y1 > axisy.max) {\n                        if (y2 > axisy.max)\n                            continue;\n                        x1 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.max;\n                    }\n                    else if (y2 >= y1 && y2 > axisy.max) {\n                        if (y1 > axisy.max)\n                            continue;\n                        x2 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.max;\n                    }\n\n                    // clip with xmin\n                    if (x1 <= x2 && x1 < axisx.min) {\n                        if (x2 < axisx.min)\n                            continue;\n                        y1 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.min;\n                    }\n                    else if (x2 <= x1 && x2 < axisx.min) {\n                        if (x1 < axisx.min)\n                            continue;\n                        y2 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.min;\n                    }\n\n                    // clip with xmax\n                    if (x1 >= x2 && x1 > axisx.max) {\n                        if (x2 > axisx.max)\n                            continue;\n                        y1 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.max;\n                    }\n                    else if (x2 >= x1 && x2 > axisx.max) {\n                        if (x1 > axisx.max)\n                            continue;\n                        y2 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.max;\n                    }\n\n                    if (x1 != prevx || y1 != prevy)\n                        ctx.moveTo(axisx.p2c(x1) + xoffset, axisy.p2c(y1) + yoffset);\n                    \n                    prevx = x2;\n                    prevy = y2;\n                    ctx.lineTo(axisx.p2c(x2) + xoffset, axisy.p2c(y2) + yoffset);\n                }\n                ctx.stroke();\n            }\n\n            function plotLineArea(datapoints, axisx, axisy) {\n                var points = datapoints.points,\n                    ps = datapoints.pointsize,\n                    bottom = Math.min(Math.max(0, axisy.min), axisy.max),\n                    i = 0, top, areaOpen = false,\n                    ypos = 1, segmentStart = 0, segmentEnd = 0;\n\n                // we process each segment in two turns, first forward\n                // direction to sketch out top, then once we hit the\n                // end we go backwards to sketch the bottom\n                while (true) {\n                    if (ps > 0 && i > points.length + ps)\n                        break;\n\n                    i += ps; // ps is negative if going backwards\n\n                    var x1 = points[i - ps],\n                        y1 = points[i - ps + ypos],\n                        x2 = points[i], y2 = points[i + ypos];\n\n                    if (areaOpen) {\n                        if (ps > 0 && x1 != null && x2 == null) {\n                            // at turning point\n                            segmentEnd = i;\n                            ps = -ps;\n                            ypos = 2;\n                            continue;\n                        }\n\n                        if (ps < 0 && i == segmentStart + ps) {\n                            // done with the reverse sweep\n                            ctx.fill();\n                            areaOpen = false;\n                            ps = -ps;\n                            ypos = 1;\n                            i = segmentStart = segmentEnd + ps;\n                            continue;\n                        }\n                    }\n\n                    if (x1 == null || x2 == null)\n                        continue;\n\n                    // clip x values\n                    \n                    // clip with xmin\n                    if (x1 <= x2 && x1 < axisx.min) {\n                        if (x2 < axisx.min)\n                            continue;\n                        y1 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.min;\n                    }\n                    else if (x2 <= x1 && x2 < axisx.min) {\n                        if (x1 < axisx.min)\n                            continue;\n                        y2 = (axisx.min - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.min;\n                    }\n\n                    // clip with xmax\n                    if (x1 >= x2 && x1 > axisx.max) {\n                        if (x2 > axisx.max)\n                            continue;\n                        y1 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x1 = axisx.max;\n                    }\n                    else if (x2 >= x1 && x2 > axisx.max) {\n                        if (x1 > axisx.max)\n                            continue;\n                        y2 = (axisx.max - x1) / (x2 - x1) * (y2 - y1) + y1;\n                        x2 = axisx.max;\n                    }\n\n                    if (!areaOpen) {\n                        // open area\n                        ctx.beginPath();\n                        ctx.moveTo(axisx.p2c(x1), axisy.p2c(bottom));\n                        areaOpen = true;\n                    }\n                    \n                    // now first check the case where both is outside\n                    if (y1 >= axisy.max && y2 >= axisy.max) {\n                        ctx.lineTo(axisx.p2c(x1), axisy.p2c(axisy.max));\n                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(axisy.max));\n                        continue;\n                    }\n                    else if (y1 <= axisy.min && y2 <= axisy.min) {\n                        ctx.lineTo(axisx.p2c(x1), axisy.p2c(axisy.min));\n                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(axisy.min));\n                        continue;\n                    }\n                    \n                    // else it's a bit more complicated, there might\n                    // be a flat maxed out rectangle first, then a\n                    // triangular cutout or reverse; to find these\n                    // keep track of the current x values\n                    var x1old = x1, x2old = x2;\n\n                    // clip the y values, without shortcutting, we\n                    // go through all cases in turn\n                    \n                    // clip with ymin\n                    if (y1 <= y2 && y1 < axisy.min && y2 >= axisy.min) {\n                        x1 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.min;\n                    }\n                    else if (y2 <= y1 && y2 < axisy.min && y1 >= axisy.min) {\n                        x2 = (axisy.min - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.min;\n                    }\n\n                    // clip with ymax\n                    if (y1 >= y2 && y1 > axisy.max && y2 <= axisy.max) {\n                        x1 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y1 = axisy.max;\n                    }\n                    else if (y2 >= y1 && y2 > axisy.max && y1 <= axisy.max) {\n                        x2 = (axisy.max - y1) / (y2 - y1) * (x2 - x1) + x1;\n                        y2 = axisy.max;\n                    }\n\n                    // if the x value was changed we got a rectangle\n                    // to fill\n                    if (x1 != x1old) {\n                        ctx.lineTo(axisx.p2c(x1old), axisy.p2c(y1));\n                        // it goes to (x1, y1), but we fill that below\n                    }\n                    \n                    // fill triangular section, this sometimes result\n                    // in redundant points if (x1, y1) hasn't changed\n                    // from previous line to, but we just ignore that\n                    ctx.lineTo(axisx.p2c(x1), axisy.p2c(y1));\n                    ctx.lineTo(axisx.p2c(x2), axisy.p2c(y2));\n\n                    // fill the other rectangle if it's there\n                    if (x2 != x2old) {\n                        ctx.lineTo(axisx.p2c(x2), axisy.p2c(y2));\n                        ctx.lineTo(axisx.p2c(x2old), axisy.p2c(y2));\n                    }\n                }\n            }\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n            ctx.lineJoin = \"round\";\n\n            var lw = series.lines.lineWidth,\n                sw = series.shadowSize;\n            // FIXME: consider another form of shadow when filling is turned on\n            if (lw > 0 && sw > 0) {\n                // draw shadow as a thick and thin line with transparency\n                ctx.lineWidth = sw;\n                ctx.strokeStyle = \"rgba(0,0,0,0.1)\";\n                // position shadow at angle from the mid of line\n                var angle = Math.PI/18;\n                plotLine(series.datapoints, Math.sin(angle) * (lw/2 + sw/2), Math.cos(angle) * (lw/2 + sw/2), series.xaxis, series.yaxis);\n                ctx.lineWidth = sw/2;\n                plotLine(series.datapoints, Math.sin(angle) * (lw/2 + sw/4), Math.cos(angle) * (lw/2 + sw/4), series.xaxis, series.yaxis);\n            }\n\n            ctx.lineWidth = lw;\n            ctx.strokeStyle = series.color;\n            var fillStyle = getFillStyle(series.lines, series.color, 0, plotHeight);\n            if (fillStyle) {\n                ctx.fillStyle = fillStyle;\n                plotLineArea(series.datapoints, series.xaxis, series.yaxis);\n            }\n\n            if (lw > 0)\n                plotLine(series.datapoints, 0, 0, series.xaxis, series.yaxis);\n            ctx.restore();\n        }\n\n        function drawSeriesPoints(series) {\n            function plotPoints(datapoints, radius, fillStyle, offset, shadow, axisx, axisy, symbol) {\n                var points = datapoints.points, ps = datapoints.pointsize;\n\n                for (var i = 0; i < points.length; i += ps) {\n                    var x = points[i], y = points[i + 1];\n                    if (x == null || x < axisx.min || x > axisx.max || y < axisy.min || y > axisy.max)\n                        continue;\n                    \n                    ctx.beginPath();\n                    x = axisx.p2c(x);\n                    y = axisy.p2c(y) + offset;\n                    if (symbol == \"circle\")\n                        ctx.arc(x, y, radius, 0, shadow ? Math.PI : Math.PI * 2, false);\n                    else\n                        symbol(ctx, x, y, radius, shadow);\n                    ctx.closePath();\n                    \n                    if (fillStyle) {\n                        ctx.fillStyle = fillStyle;\n                        ctx.fill();\n                    }\n                    ctx.stroke();\n                }\n            }\n            \n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            var lw = series.points.lineWidth,\n                sw = series.shadowSize,\n                radius = series.points.radius,\n                symbol = series.points.symbol;\n            if (lw > 0 && sw > 0) {\n                // draw shadow in two steps\n                var w = sw / 2;\n                ctx.lineWidth = w;\n                ctx.strokeStyle = \"rgba(0,0,0,0.1)\";\n                plotPoints(series.datapoints, radius, null, w + w/2, true,\n                           series.xaxis, series.yaxis, symbol);\n\n                ctx.strokeStyle = \"rgba(0,0,0,0.2)\";\n                plotPoints(series.datapoints, radius, null, w/2, true,\n                           series.xaxis, series.yaxis, symbol);\n            }\n\n            ctx.lineWidth = lw;\n            ctx.strokeStyle = series.color;\n            plotPoints(series.datapoints, radius,\n                       getFillStyle(series.points, series.color), 0, false,\n                       series.xaxis, series.yaxis, symbol);\n            ctx.restore();\n        }\n\n        function drawBar(x, y, b, barLeft, barRight, offset, fillStyleCallback, axisx, axisy, c, horizontal, lineWidth) {\n            var left, right, bottom, top,\n                drawLeft, drawRight, drawTop, drawBottom,\n                tmp;\n\n            // in horizontal mode, we start the bar from the left\n            // instead of from the bottom so it appears to be\n            // horizontal rather than vertical\n            if (horizontal) {\n                drawBottom = drawRight = drawTop = true;\n                drawLeft = false;\n                left = b;\n                right = x;\n                top = y + barLeft;\n                bottom = y + barRight;\n\n                // account for negative bars\n                if (right < left) {\n                    tmp = right;\n                    right = left;\n                    left = tmp;\n                    drawLeft = true;\n                    drawRight = false;\n                }\n            }\n            else {\n                drawLeft = drawRight = drawTop = true;\n                drawBottom = false;\n                left = x + barLeft;\n                right = x + barRight;\n                bottom = b;\n                top = y;\n\n                // account for negative bars\n                if (top < bottom) {\n                    tmp = top;\n                    top = bottom;\n                    bottom = tmp;\n                    drawBottom = true;\n                    drawTop = false;\n                }\n            }\n           \n            // clip\n            if (right < axisx.min || left > axisx.max ||\n                top < axisy.min || bottom > axisy.max)\n                return;\n            \n            if (left < axisx.min) {\n                left = axisx.min;\n                drawLeft = false;\n            }\n\n            if (right > axisx.max) {\n                right = axisx.max;\n                drawRight = false;\n            }\n\n            if (bottom < axisy.min) {\n                bottom = axisy.min;\n                drawBottom = false;\n            }\n            \n            if (top > axisy.max) {\n                top = axisy.max;\n                drawTop = false;\n            }\n\n            left = axisx.p2c(left);\n            bottom = axisy.p2c(bottom);\n            right = axisx.p2c(right);\n            top = axisy.p2c(top);\n            \n            // fill the bar\n            if (fillStyleCallback) {\n                c.beginPath();\n                c.moveTo(left, bottom);\n                c.lineTo(left, top);\n                c.lineTo(right, top);\n                c.lineTo(right, bottom);\n                c.fillStyle = fillStyleCallback(bottom, top);\n                c.fill();\n            }\n\n            // draw outline\n            if (lineWidth > 0 && (drawLeft || drawRight || drawTop || drawBottom)) {\n                c.beginPath();\n\n                // FIXME: inline moveTo is buggy with excanvas\n                c.moveTo(left, bottom + offset);\n                if (drawLeft)\n                    c.lineTo(left, top + offset);\n                else\n                    c.moveTo(left, top + offset);\n                if (drawTop)\n                    c.lineTo(right, top + offset);\n                else\n                    c.moveTo(right, top + offset);\n                if (drawRight)\n                    c.lineTo(right, bottom + offset);\n                else\n                    c.moveTo(right, bottom + offset);\n                if (drawBottom)\n                    c.lineTo(left, bottom + offset);\n                else\n                    c.moveTo(left, bottom + offset);\n                c.stroke();\n            }\n        }\n        \n        function drawSeriesBars(series) {\n            function plotBars(datapoints, barLeft, barRight, offset, fillStyleCallback, axisx, axisy) {\n                var points = datapoints.points, ps = datapoints.pointsize;\n                \n                for (var i = 0; i < points.length; i += ps) {\n                    if (points[i] == null)\n                        continue;\n                    drawBar(points[i], points[i + 1], points[i + 2], barLeft, barRight, offset, fillStyleCallback, axisx, axisy, ctx, series.bars.horizontal, series.bars.lineWidth);\n                }\n            }\n\n            ctx.save();\n            ctx.translate(plotOffset.left, plotOffset.top);\n\n            // FIXME: figure out a way to add shadows (for instance along the right edge)\n            ctx.lineWidth = series.bars.lineWidth;\n            ctx.strokeStyle = series.color;\n            var barLeft = series.bars.align == \"left\" ? 0 : -series.bars.barWidth/2;\n            var fillStyleCallback = series.bars.fill ? function (bottom, top) { return getFillStyle(series.bars, series.color, bottom, top); } : null;\n            plotBars(series.datapoints, barLeft, barLeft + series.bars.barWidth, 0, fillStyleCallback, series.xaxis, series.yaxis);\n            ctx.restore();\n        }\n\n        function getFillStyle(filloptions, seriesColor, bottom, top) {\n            var fill = filloptions.fill;\n            if (!fill)\n                return null;\n\n            if (filloptions.fillColor)\n                return getColorOrGradient(filloptions.fillColor, bottom, top, seriesColor);\n            \n            var c = $.color.parse(seriesColor);\n            c.a = typeof fill == \"number\" ? fill : 0.4;\n            c.normalize();\n            return c.toString();\n        }\n        \n        function insertLegend() {\n            placeholder.find(\".legend\").remove();\n\n            if (!options.legend.show)\n                return;\n            \n            var fragments = [], rowStarted = false,\n                lf = options.legend.labelFormatter, s, label;\n            for (var i = 0; i < series.length; ++i) {\n                s = series[i];\n                label = s.label;\n                if (!label)\n                    continue;\n                \n                if (i % options.legend.noColumns == 0) {\n                    if (rowStarted)\n                        fragments.push('</tr>');\n                    fragments.push('<tr>');\n                    rowStarted = true;\n                }\n\n                if (lf)\n                    label = lf(label, s);\n                \n                fragments.push(\n                    '<td class=\"legendColorBox\"><div style=\"border:1px solid ' + options.legend.labelBoxBorderColor + ';padding:1px\"><div style=\"width:4px;height:0;border:5px solid ' + s.color + ';overflow:hidden\"></div></div></td>' +\n                    '<td class=\"legendLabel\">' + label + '</td>');\n            }\n            if (rowStarted)\n                fragments.push('</tr>');\n            \n            if (fragments.length == 0)\n                return;\n\n            var table = '<table style=\"font-size:smaller;color:' + options.grid.color + '\">' + fragments.join(\"\") + '</table>';\n            if (options.legend.container != null)\n                $(options.legend.container).html(table);\n            else {\n                var pos = \"\",\n                    p = options.legend.position,\n                    m = options.legend.margin;\n                if (m[0] == null)\n                    m = [m, m];\n                if (p.charAt(0) == \"n\")\n                    pos += 'top:' + (m[1] + plotOffset.top) + 'px;';\n                else if (p.charAt(0) == \"s\")\n                    pos += 'bottom:' + (m[1] + plotOffset.bottom) + 'px;';\n                if (p.charAt(1) == \"e\")\n                    pos += 'right:' + (m[0] + plotOffset.right) + 'px;';\n                else if (p.charAt(1) == \"w\")\n                    pos += 'left:' + (m[0] + plotOffset.left) + 'px;';\n                var legend = $('<div class=\"legend\">' + table.replace('style=\"', 'style=\"position:absolute;' + pos +';') + '</div>').appendTo(placeholder);\n                if (options.legend.backgroundOpacity != 0.0) {\n                    // put in the transparent background\n                    // separately to avoid blended labels and\n                    // label boxes\n                    var c = options.legend.backgroundColor;\n                    if (c == null) {\n                        c = options.grid.backgroundColor;\n                        if (c && typeof c == \"string\")\n                            c = $.color.parse(c);\n                        else\n                            c = $.color.extract(legend, 'background-color');\n                        c.a = 1;\n                        c = c.toString();\n                    }\n                    var div = legend.children();\n                    $('<div style=\"position:absolute;width:' + div.width() + 'px;height:' + div.height() + 'px;' + pos +'background-color:' + c + ';\"> </div>').prependTo(legend).css('opacity', options.legend.backgroundOpacity);\n                }\n            }\n        }\n\n\n        // interactive features\n        \n        var highlights = [],\n            redrawTimeout = null;\n        \n        // returns the data item the mouse is over, or null if none is found\n        function findNearbyItem(mouseX, mouseY, seriesFilter) {\n            var maxDistance = options.grid.mouseActiveRadius,\n                smallestDistance = maxDistance * maxDistance + 1,\n                item = null, foundPoint = false, i, j;\n\n            for (i = series.length - 1; i >= 0; --i) {\n                if (!seriesFilter(series[i]))\n                    continue;\n                \n                var s = series[i],\n                    axisx = s.xaxis,\n                    axisy = s.yaxis,\n                    points = s.datapoints.points,\n                    ps = s.datapoints.pointsize,\n                    mx = axisx.c2p(mouseX), // precompute some stuff to make the loop faster\n                    my = axisy.c2p(mouseY),\n                    maxx = maxDistance / axisx.scale,\n                    maxy = maxDistance / axisy.scale;\n\n                // with inverse transforms, we can't use the maxx/maxy\n                // optimization, sadly\n                if (axisx.options.inverseTransform)\n                    maxx = Number.MAX_VALUE;\n                if (axisy.options.inverseTransform)\n                    maxy = Number.MAX_VALUE;\n                \n                if (s.lines.show || s.points.show) {\n                    for (j = 0; j < points.length; j += ps) {\n                        var x = points[j], y = points[j + 1];\n                        if (x == null)\n                            continue;\n                        \n                        // For points and lines, the cursor must be within a\n                        // certain distance to the data point\n                        if (x - mx > maxx || x - mx < -maxx ||\n                            y - my > maxy || y - my < -maxy)\n                            continue;\n\n                        // We have to calculate distances in pixels, not in\n                        // data units, because the scales of the axes may be different\n                        var dx = Math.abs(axisx.p2c(x) - mouseX),\n                            dy = Math.abs(axisy.p2c(y) - mouseY),\n                            dist = dx * dx + dy * dy; // we save the sqrt\n\n                        // use <= to ensure last point takes precedence\n                        // (last generally means on top of)\n                        if (dist < smallestDistance) {\n                            smallestDistance = dist;\n                            item = [i, j / ps];\n                        }\n                    }\n                }\n                    \n                if (s.bars.show && !item) { // no other point can be nearby\n                    var barLeft = s.bars.align == \"left\" ? 0 : -s.bars.barWidth/2,\n                        barRight = barLeft + s.bars.barWidth;\n                    \n                    for (j = 0; j < points.length; j += ps) {\n                        var x = points[j], y = points[j + 1], b = points[j + 2];\n                        if (x == null)\n                            continue;\n  \n                        // for a bar graph, the cursor must be inside the bar\n                        if (series[i].bars.horizontal ? \n                            (mx <= Math.max(b, x) && mx >= Math.min(b, x) && \n                             my >= y + barLeft && my <= y + barRight) :\n                            (mx >= x + barLeft && mx <= x + barRight &&\n                             my >= Math.min(b, y) && my <= Math.max(b, y)))\n                                item = [i, j / ps];\n                    }\n                }\n            }\n\n            if (item) {\n                i = item[0];\n                j = item[1];\n                ps = series[i].datapoints.pointsize;\n                \n                return { datapoint: series[i].datapoints.points.slice(j * ps, (j + 1) * ps),\n                         dataIndex: j,\n                         series: series[i],\n                         seriesIndex: i };\n            }\n            \n            return null;\n        }\n\n        function onMouseMove(e) {\n            if (options.grid.hoverable)\n                triggerClickHoverEvent(\"plothover\", e,\n                                       function (s) { return s[\"hoverable\"] != false; });\n        }\n\n        function onMouseLeave(e) {\n            if (options.grid.hoverable)\n                triggerClickHoverEvent(\"plothover\", e,\n                                       function (s) { return false; });\n        }\n\n        function onClick(e) {\n            triggerClickHoverEvent(\"plotclick\", e,\n                                   function (s) { return s[\"clickable\"] != false; });\n        }\n\n        // trigger click or hover event (they send the same parameters\n        // so we share their code)\n        function triggerClickHoverEvent(eventname, event, seriesFilter) {\n            var offset = eventHolder.offset(),\n                canvasX = event.pageX - offset.left - plotOffset.left,\n                canvasY = event.pageY - offset.top - plotOffset.top,\n            pos = canvasToAxisCoords({ left: canvasX, top: canvasY });\n\n            pos.pageX = event.pageX;\n            pos.pageY = event.pageY;\n\n            var item = findNearbyItem(canvasX, canvasY, seriesFilter);\n\n            if (item) {\n                // fill in mouse pos for any listeners out there\n                item.pageX = parseInt(item.series.xaxis.p2c(item.datapoint[0]) + offset.left + plotOffset.left);\n                item.pageY = parseInt(item.series.yaxis.p2c(item.datapoint[1]) + offset.top + plotOffset.top);\n            }\n\n            if (options.grid.autoHighlight) {\n                // clear auto-highlights\n                for (var i = 0; i < highlights.length; ++i) {\n                    var h = highlights[i];\n                    if (h.auto == eventname &&\n                        !(item && h.series == item.series &&\n                          h.point[0] == item.datapoint[0] &&\n                          h.point[1] == item.datapoint[1]))\n                        unhighlight(h.series, h.point);\n                }\n                \n                if (item)\n                    highlight(item.series, item.datapoint, eventname);\n            }\n            \n            placeholder.trigger(eventname, [ pos, item ]);\n        }\n\n        function triggerRedrawOverlay() {\n            if (!redrawTimeout)\n                redrawTimeout = setTimeout(drawOverlay, 30);\n        }\n\n        function drawOverlay() {\n            redrawTimeout = null;\n\n            // draw highlights\n            octx.save();\n            octx.clearRect(0, 0, canvasWidth, canvasHeight);\n            octx.translate(plotOffset.left, plotOffset.top);\n            \n            var i, hi;\n            for (i = 0; i < highlights.length; ++i) {\n                hi = highlights[i];\n\n                if (hi.series.bars.show)\n                    drawBarHighlight(hi.series, hi.point);\n                else\n                    drawPointHighlight(hi.series, hi.point);\n            }\n            octx.restore();\n            \n            executeHooks(hooks.drawOverlay, [octx]);\n        }\n        \n        function highlight(s, point, auto) {\n            if (typeof s == \"number\")\n                s = series[s];\n\n            if (typeof point == \"number\") {\n                var ps = s.datapoints.pointsize;\n                point = s.datapoints.points.slice(ps * point, ps * (point + 1));\n            }\n\n            var i = indexOfHighlight(s, point);\n            if (i == -1) {\n                highlights.push({ series: s, point: point, auto: auto });\n\n                triggerRedrawOverlay();\n            }\n            else if (!auto)\n                highlights[i].auto = false;\n        }\n            \n        function unhighlight(s, point) {\n            if (s == null && point == null) {\n                highlights = [];\n                triggerRedrawOverlay();\n            }\n            \n            if (typeof s == \"number\")\n                s = series[s];\n\n            if (typeof point == \"number\")\n                point = s.data[point];\n\n            var i = indexOfHighlight(s, point);\n            if (i != -1) {\n                highlights.splice(i, 1);\n\n                triggerRedrawOverlay();\n            }\n        }\n        \n        function indexOfHighlight(s, p) {\n            for (var i = 0; i < highlights.length; ++i) {\n                var h = highlights[i];\n                if (h.series == s && h.point[0] == p[0]\n                    && h.point[1] == p[1])\n                    return i;\n            }\n            return -1;\n        }\n        \n        function drawPointHighlight(series, point) {\n            var x = point[0], y = point[1],\n                axisx = series.xaxis, axisy = series.yaxis;\n            \n            if (x < axisx.min || x > axisx.max || y < axisy.min || y > axisy.max)\n                return;\n            \n            var pointRadius = series.points.radius + series.points.lineWidth / 2;\n            octx.lineWidth = pointRadius;\n            octx.strokeStyle = $.color.parse(series.color).scale('a', 0.5).toString();\n            var radius = 1.5 * pointRadius,\n                x = axisx.p2c(x),\n                y = axisy.p2c(y);\n            \n            octx.beginPath();\n            if (series.points.symbol == \"circle\")\n                octx.arc(x, y, radius, 0, 2 * Math.PI, false);\n            else\n                series.points.symbol(octx, x, y, radius, false);\n            octx.closePath();\n            octx.stroke();\n        }\n\n        function drawBarHighlight(series, point) {\n            octx.lineWidth = series.bars.lineWidth;\n            octx.strokeStyle = $.color.parse(series.color).scale('a', 0.5).toString();\n            var fillStyle = $.color.parse(series.color).scale('a', 0.5).toString();\n            var barLeft = series.bars.align == \"left\" ? 0 : -series.bars.barWidth/2;\n            drawBar(point[0], point[1], point[2] || 0, barLeft, barLeft + series.bars.barWidth,\n                    0, function () { return fillStyle; }, series.xaxis, series.yaxis, octx, series.bars.horizontal, series.bars.lineWidth);\n        }\n\n        function getColorOrGradient(spec, bottom, top, defaultColor) {\n            if (typeof spec == \"string\")\n                return spec;\n            else {\n                // assume this is a gradient spec; IE currently only\n                // supports a simple vertical gradient properly, so that's\n                // what we support too\n                var gradient = ctx.createLinearGradient(0, top, 0, bottom);\n                \n                for (var i = 0, l = spec.colors.length; i < l; ++i) {\n                    var c = spec.colors[i];\n                    if (typeof c != \"string\") {\n                        var co = $.color.parse(defaultColor);\n                        if (c.brightness != null)\n                            co = co.scale('rgb', c.brightness)\n                        if (c.opacity != null)\n                            co.a *= c.opacity;\n                        c = co.toString();\n                    }\n                    gradient.addColorStop(i / (l - 1), c);\n                }\n                \n                return gradient;\n            }\n        }\n    }\n\n    $.plot = function(placeholder, data, options) {\n        //var t0 = new Date();\n        var plot = new Plot($(placeholder), data, options, $.plot.plugins);\n        //(window.console ? console.log : alert)(\"time used (msecs): \" + ((new Date()).getTime() - t0.getTime()));\n        return plot;\n    };\n\n    $.plot.version = \"0.7\";\n    \n    $.plot.plugins = [];\n\n    // returns a string with the date d formatted according to fmt\n    $.plot.formatDate = function(d, fmt, monthNames) {\n        var leftPad = function(n) {\n            n = \"\" + n;\n            return n.length == 1 ? \"0\" + n : n;\n        };\n        \n        var r = [];\n        var escape = false, padNext = false;\n        var hours = d.getUTCHours();\n        var isAM = hours < 12;\n        if (monthNames == null)\n            monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n        if (fmt.search(/%p|%P/) != -1) {\n            if (hours > 12) {\n                hours = hours - 12;\n            } else if (hours == 0) {\n                hours = 12;\n            }\n        }\n        for (var i = 0; i < fmt.length; ++i) {\n            var c = fmt.charAt(i);\n            \n            if (escape) {\n                switch (c) {\n                case 'h': c = \"\" + hours; break;\n                case 'H': c = leftPad(hours); break;\n                case 'M': c = leftPad(d.getUTCMinutes()); break;\n                case 'S': c = leftPad(d.getUTCSeconds()); break;\n                case 'd': c = \"\" + d.getUTCDate(); break;\n                case 'm': c = \"\" + (d.getUTCMonth() + 1); break;\n                case 'y': c = \"\" + d.getUTCFullYear(); break;\n                case 'b': c = \"\" + monthNames[d.getUTCMonth()]; break;\n                case 'p': c = (isAM) ? (\"\" + \"am\") : (\"\" + \"pm\"); break;\n                case 'P': c = (isAM) ? (\"\" + \"AM\") : (\"\" + \"PM\"); break;\n                case '0': c = \"\"; padNext = true; break;\n                }\n                if (c && padNext) {\n                    c = leftPad(c);\n                    padNext = false;\n                }\n                r.push(c);\n                if (!padNext)\n                    escape = false;\n            }\n            else {\n                if (c == \"%\")\n                    escape = true;\n                else\n                    r.push(c);\n            }\n        }\n        return r.join(\"\");\n    };\n    \n    // round to nearby lower multiple of base\n    function floorInBase(n, base) {\n        return base * Math.floor(n / base);\n    }\n    \n})(jQuery);\n"],"sourceRoot":"webpack:///"}