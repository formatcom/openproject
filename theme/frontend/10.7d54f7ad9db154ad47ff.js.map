{"version":3,"sources":["./src/app/modules/augmenting/dynamic-scripts/global_roles.ts"],"names":["$","global_roles","jQuery","init","script_applicable","toggle_forms_on_click","activation_and_visibility_based_on_checked","on","toggle_forms","event","this","element","prop","show_global_forms","hide_member_forms","enable_global_forms","disable_member_forms","show_member_forms","hide_global_forms","disable_global_forms","enable_member_forms","show","hide","each","ix","el","enable_element","disable_element","length","document","ready"],"mappings":"6EA6BC,IAAUA,EACLC,EADKD,EAsFTE,OArFID,EAAe,CACjBE,KAAM,WACAF,EAAaG,sBACfH,EAAaI,wBACbJ,EAAaK,2CAA2CN,EAAE,mBAI9DK,sBAAuB,WACrBL,EAAE,gBAAgBO,GAAG,QAASN,EAAaO,eAG7CA,aAAc,SAAUC,GACtBR,EAAaK,2CAA2CI,OAG1DJ,2CAA4C,SAAUK,GAChDX,EAAEW,GAASC,KAAK,YAClBX,EAAaY,oBACbZ,EAAaa,oBACbb,EAAac,sBACbd,EAAae,yBAEbf,EAAagB,oBACbhB,EAAaiB,oBACbjB,EAAakB,uBACblB,EAAamB,wBAIjBP,kBAAmB,WACjBb,EAAE,uBAAuBqB,QAG3BJ,kBAAmB,WACjBjB,EAAE,sBAAsBqB,OACxBrB,EAAE,uBAAuBqB,QAG3BH,kBAAmB,WACjBlB,EAAE,uBAAuBsB,QAG3BR,kBAAmB,WACjBd,EAAE,sBAAsBsB,OACxBtB,EAAE,uBAAuBsB,QAG3BP,oBAAqB,WACnBf,EAAE,iFAAiFuB,MAAK,SAAUC,EAAIC,GACpGxB,EAAayB,eAAeD,OAIhCL,oBAAqB,WACnBpB,EAAE,iFAAiFuB,MAAK,SAAUC,EAAIC,GACpGxB,EAAayB,eAAeD,OAIhCC,eAAgB,SAAUf,GACxBX,EAAEW,GAASC,KAAK,YAAY,IAG9BO,qBAAsB,WACpBnB,EAAE,iFAAiFuB,MAAK,SAAUC,EAAIC,GACpGxB,EAAa0B,gBAAgBF,OAIjCT,qBAAsB,WACpBhB,EAAE,iFAAiFuB,MAAK,SAAUC,EAAIC,GACpGxB,EAAa0B,gBAAgBF,OAIjCE,gBAAiB,SAAUhB,GACzBX,EAAEW,GAASC,KAAK,YAAY,IAG9BR,kBAAmB,WACjB,OAA6F,IAAtFJ,EAAE,yEAAyE4B,SAGtF5B,EAAE6B,UAAUC,MAAM7B,EAAaE","file":"10.7d54f7ad9db154ad47ff.js","sourcesContent":["//-- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2020 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2017 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See docs/COPYRIGHT.rdoc for more details.\n//++\n\n// Loaded dynamically when path matches\n(function ($, undefined) {\n  var global_roles = {\n    init: function () {\n      if (global_roles.script_applicable()) {\n        global_roles.toggle_forms_on_click();\n        global_roles.activation_and_visibility_based_on_checked($('#global_role'));\n      }\n    },\n\n    toggle_forms_on_click: function () {\n      $('#global_role').on(\"click\", global_roles.toggle_forms);\n    },\n\n    toggle_forms: function (event:any) {\n      global_roles.activation_and_visibility_based_on_checked(this);\n    },\n\n    activation_and_visibility_based_on_checked: function (element:any) {\n      if ($(element).prop(\"checked\")) {\n        global_roles.show_global_forms();\n        global_roles.hide_member_forms();\n        global_roles.enable_global_forms();\n        global_roles.disable_member_forms();\n      } else {\n        global_roles.show_member_forms();\n        global_roles.hide_global_forms();\n        global_roles.disable_global_forms();\n        global_roles.enable_member_forms();\n      }\n    },\n\n    show_global_forms: function () {\n      $('#global_permissions').show();\n    },\n\n    show_member_forms: function () {\n      $('#member_attributes').show();\n      $('#member_permissions').show();\n    },\n\n    hide_global_forms: function () {\n      $('#global_permissions').hide();\n    },\n\n    hide_member_forms: function () {\n      $('#member_attributes').hide();\n      $('#member_permissions').hide();\n    },\n\n    enable_global_forms: function () {\n      $('#global_attributes input, #global_attributes input, #global_permissions input').each(function (ix, el) {\n        global_roles.enable_element(el);\n      });\n    },\n\n    enable_member_forms: function () {\n      $('#member_attributes input, #member_attributes input, #member_permissions input').each(function (ix, el) {\n        global_roles.enable_element(el);\n      });\n    },\n\n    enable_element: function (element:any) {\n      $(element).prop('disabled', false);\n    },\n\n    disable_global_forms: function () {\n      $('#global_attributes input, #global_attributes input, #global_permissions input').each(function (ix, el) {\n        global_roles.disable_element(el);\n      });\n    },\n\n    disable_member_forms: function () {\n      $('#member_attributes input, #member_attributes input, #member_permissions input').each(function (ix, el) {\n        global_roles.disable_element(el);\n      });\n    },\n\n    disable_element: function (element:any) {\n      $(element).prop('disabled', true);\n    },\n\n    script_applicable: function () {\n      return $('body.controller-roles.action-new, body.controller-roles.action-create').length === 1;\n    }\n  };\n  $(document).ready(global_roles.init);\n}(jQuery));\n"],"sourceRoot":"webpack:///"}