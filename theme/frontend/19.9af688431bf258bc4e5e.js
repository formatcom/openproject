(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{y2NQ:function(e,t){jQuery((function(e){let t=e("form.project-filters").first(),l=e("#projects-filter-toggle-button"),a=["*","!*","t","w"],s=["list","list_all","list_optional"],n=e("#projects-filter-close-button");function i(){l.hasClass("-active")?(l.removeClass("-active"),t.removeClass("-expanded")):(l.addClass("-active"),t.addClass("-expanded"))}function r(){let l=e(".advanced-filters--filter:not(.hidden)",t),n=[];return l.each((function(t,l){let i=e(l),r=i.attr("filter-name"),o=e('select[name="operator"]',i).val(),d=function(t,l){let n=t.attr("filter-type"),i=e(".advanced-filters--filter-value",t),r=e('input[type="checkbox"]',i)[0];if(r)return[r.checked?"t":"f"];if(a.includes(l))return[];if(s.includes(n))return function(t){let l;l=t.hasClass("multi-value")?'.multi-select select[name="value[]"]':'.single-select select[name="value"]';let a=e(l,t).val();if(a=_.flatten([a]),a.length>0)return a}(i);if(["datetime_past","date"].includes(n))return function(t){let l;if(t.hasClass("days"))l=_.without([e('.days input[name="value"]',t).val()],"");else if(t.hasClass("on-date"))l=_.without([e('.on-date input[name="value"]',t).val()],"");else if(t.hasClass("between-dates")){l=[e('.between-dates input[name="from_value"]',t).val(),e('.between-dates input[name="to_value"]',t).val()]}if(l.length>0)return l}(i);let o=e('input[name="value"]',i).val();if(o.length>0)return[o]}(i,o);if(d){let e={};e[r]={operator:o,values:d},n.push(e)}})),n}function o(){let t=e(".advanced-filters--filter:not(.hidden)").length;e(".advanced-filters--spacer").toggle(t>0)}e(".advanced-filters--filter-value a.multi-select-toggle").click((function(){let t=e(this).parents(".advanced-filters--filter-value"),l=e(".single-select select",t),a=e(".multi-select select",t);if(t.hasClass("multi-value")){let e=a.val(),t=null;t=e&&e.length>1?e[0]:e,l.val(t)}else{let e=l.val();a.val(e)}return t.toggleClass("multi-value"),!1})),l.click(i),n.click(i),t.submit((function(){e("#ajax-indicator").show();let t=r(),l=function(e){var t,l,a=decodeURIComponent(window.location.search.substring(1)).split("&");for(l=0;l<a.length;l++)if((t=a[l].split("="))[0]===e)return void 0===t[1]||t[1]}("sort"),a="?filters="+encodeURIComponent(JSON.stringify(t));return l&&l.length>0&&(a=a+"&sortBy="+encodeURIComponent(l)),window.location=window.location.pathname+a,!1})),e('select[name="operator"]',t).on("change",(function(){selectedOperator=e(this).val(),$filter=e(this).parents(".advanced-filters--filter"),$filterValue=e(".advanced-filters--filter-value",$filter),["*","!*","t","w"].includes(selectedOperator)?$filterValue.addClass("hidden"):$filterValue.removeClass("hidden"),[">t-","<t-","t-","<t+",">t+","t+"].includes(selectedOperator)?($filterValue.addClass("days"),$filterValue.removeClass("on-date"),$filterValue.removeClass("between-dates")):"=d"==selectedOperator?($filterValue.addClass("on-date"),$filterValue.removeClass("days"),$filterValue.removeClass("between-dates")):"<>d"==selectedOperator&&($filterValue.addClass("between-dates"),$filterValue.removeClass("days"),$filterValue.removeClass("on-date"))})),e("#add_filter_select",t).on("change",(function(l){return l.preventDefault(),e('[filter-name="'+e(this).val()+'"]').removeClass("hidden"),e("#add_filter_select option:selected",t).prop("disabled","disabled"),jQuery("#add_filter_select option:first-of-type").prop("selected","selected"),o(),!1})),e(".filter_rem",t).on("click",(function(l){l.preventDefault();let a=e(this).parents(".advanced-filters--filter"),s=a.attr("filter-name");a.addClass("hidden"),e('#add_filter_select option[value="'+s+'"]',t).removeAttr("disabled"),o()}))})),function(e){function t(){let t=e(this),l=t.siblings(".projects-table--description-toggle"),a=t.closest(".project"),s=a.next();return a.toggleClass("-no-highlighting"),a.toggleClass("-expanded"),s.toggleClass("-expanded"),s.hasClass("-expanded")?e(s).attr("aria-live","polite"):e(s).removeAttr("aria-live"),l.focus(),!1}e("document").ready((function(){e(".projects-table--description-toggle").click(t)}))}(jQuery)}}]);
//# sourceMappingURL=19.9af688431bf258bc4e5e.js.map