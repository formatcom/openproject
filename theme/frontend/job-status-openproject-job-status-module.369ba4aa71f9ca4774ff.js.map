{"version":3,"sources":["./src/app/modules/job-status/display-job-page/display-job-page.component.ts","./src/app/modules/job-status/openproject-job-status.module.ts"],"names":["$state","modalService","this","modal","show","jobId","params","closingEvent","pipe","take","subscribe","window","history","back","closeMe","JOB_STATUS_ROUTE","name","url","parent","component","data","bodyClasses","OpenProjectJobStatusModule","forChild","states"],"mappings":"ySAUO,MAAM,EAGX,YAAoBA,EACAC,GADA,KAAAD,SACA,KAAAC,eAGpB,kBACEC,KAAKC,MAAQD,KAAKD,aAAaG,KAAK,IAAgB,SAAU,CAAEC,MAAOH,KAAKF,OAAOM,OAAOD,QAC1FH,KAAKC,MACFI,aACAC,KACC,OAAAC,EAAA,GAAK,IACLC,UAAU,KAEVC,OAAOC,QAAQC,SAIrB,c,MACY,QAAV,EAAAX,KAAKC,aAAK,SAAEW,W,sCApBH,GAAuB,iC,uBAAvB,EAAuB,uFCwB7B,MAAMC,EAAyC,CACpD,CACEC,KAAM,eACNC,IAAK,mCACLC,OAAQ,OACRC,UAAW,EACXC,KAAM,CACJC,YAAa,0BAmBZ,MAAMC,G,uBAAAA,I,oDAAAA,IAA0B,SAb5B,CAEP,IAGA,iBAAeC,SAAS,CAAEC,OAAQT","file":"job-status-openproject-job-status-module.369ba4aa71f9ca4774ff.js","sourcesContent":["import {AfterViewInit, Component, Injector, OnDestroy} from \"@angular/core\";\nimport {StateService} from \"@uirouter/core\";\nimport {OpModalService} from \"core-components/op-modals/op-modal.service\";\nimport {OpModalComponent} from \"core-components/op-modals/op-modal.component\";\nimport {JobStatusModal} from \"core-app/modules/job-status/job-status-modal/job-status.modal\";\nimport {take} from \"rxjs/operators\";\n\n@Component({\n  template: ''\n})\nexport class DisplayJobPageComponent implements AfterViewInit, OnDestroy {\n  private modal?:OpModalComponent;\n\n  constructor(private $state:StateService,\n              private modalService:OpModalService) {\n  }\n\n  ngAfterViewInit() {\n    this.modal = this.modalService.show(JobStatusModal, 'global', { jobId: this.$state.params.jobId });\n    this.modal\n      .closingEvent\n      .pipe(\n        take(1)\n      ).subscribe(() => {\n        // Go back in history\n        window.history.back();\n    });\n  }\n\n  ngOnDestroy() {\n    this.modal?.closeMe();\n  }\n}","// -- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2020 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2013 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See docs/COPYRIGHT.rdoc for more details.\n// ++\n\nimport {OpenprojectCommonModule} from 'core-app/modules/common/openproject-common.module';\nimport {NgModule} from '@angular/core';\nimport {Ng2StateDeclaration, UIRouterModule} from \"@uirouter/angular\";\nimport {DisplayJobPageComponent} from \"core-app/modules/job-status/display-job-page/display-job-page.component\";\nimport {JobStatusModal} from \"core-app/modules/job-status/job-status-modal/job-status.modal\";\n\nexport const JOB_STATUS_ROUTE:Ng2StateDeclaration[] = [\n  {\n    name: 'job-statuses',\n    url: '/job_statuses/{jobId:[a-z0-9-]+}',\n    parent: 'root',\n    component: DisplayJobPageComponent,\n    data: {\n      bodyClasses: 'router--job-statuses'\n    }\n  }\n];\n\n@NgModule({\n  imports: [\n    // Commons\n    OpenprojectCommonModule,\n\n    // Routes for /job_statuses/:uuid\n    UIRouterModule.forChild({ states: JOB_STATUS_ROUTE }),\n\n  ],\n  declarations: [\n    DisplayJobPageComponent,\n    JobStatusModal\n  ]\n})\nexport class OpenProjectJobStatusModule {\n}\n"],"sourceRoot":"webpack:///"}