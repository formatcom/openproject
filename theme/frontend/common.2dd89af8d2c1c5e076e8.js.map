{"version":3,"sources":["./node_modules/codemirror/mode/stex/stex.js","./src/app/modules/augmenting/dynamic-scripts/backlogs/common.js","./node_modules/codemirror/mode/haskell/haskell.js","./node_modules/codemirror/mode/python/python.js","./node_modules/codemirror/mode/handlebars/handlebars.js","./src/app/modules/augmenting/dynamic-scripts/backlogs/story.js","./node_modules/codemirror/addon/mode/multiplex.js","./src/app/modules/augmenting/dynamic-scripts/backlogs/impediment.js","./node_modules/codemirror/mode/sass/sass.js","./src/app/modules/augmenting/dynamic-scripts/backlogs/master_backlog.js","./src/app/modules/augmenting/dynamic-scripts/backlogs/work_package.js","./src/app/modules/augmenting/dynamic-scripts/backlogs/backlog.js","./node_modules/codemirror/addon/mode/simple.js","./src/app/modules/augmenting/dynamic-scripts/backlogs/taskboard.js","./src/app/modules/augmenting/dynamic-scripts/backlogs/sprint.js","./node_modules/codemirror/mode/ruby/ruby.js","./src/app/modules/augmenting/dynamic-scripts/backlogs/burndown.js","./node_modules/codemirror/addon/mode/overlay.js","./node_modules/codemirror/mode/coffeescript/coffeescript.js","./src/app/modules/augmenting/dynamic-scripts/backlogs/task.js","./src/app/modules/augmenting/dynamic-scripts/backlogs/model.js","./src/app/modules/augmenting/dynamic-scripts/backlogs/editable_inplace.js","./src/app/modules/augmenting/dynamic-scripts/backlogs/show_main.js","./node_modules/codemirror/mode/yaml/yaml.js"],"names":["CodeMirror","defineMode","_config","parserConfig","pushCommand","state","command","cmdState","push","peekCommand","length","popCommand","plug","pop","closeBracket","getMostPowerful","context","i","name","styleIdentifier","addPluginPattern","pluginName","cmdStyle","styles","this","bracketNo","style","argument","openBracket","plugins","setState","f","normal","source","match","cmdName","current","slice","beginParams","inMathMode","ch","next","skipToEnd","test","eatWhile","endModeSeq","eatSpace","peek","eat","startState","copyState","s","token","stream","blankLine","lineComment","defineMIME","mod","$","object","Factory","Dialog","UserPreferences","ajax","ajaxQueue","ajaxOngoing","processAjaxQueue","window","RB","undefined","jQuery","create","obj","methods","methodName","F","prototype","arguments","hasOwnProperty","initialize","objType","el","msg","dialog","appendTo","html","title","buttons","text","class","click","modal","removeClass","prop","options","shift","document","ajaxComplete","event","xhr","settings","get","key","cookie","set","value","expires","Object","modeConfig","switchState","smallRE","largeRE","digitRE","hexitRE","octitRE","idRE","symbolRE","specialRE","whiteCharRE","t","ncomment","stringLiteral","type","nest","currNest","eol","stringGap","wellKnownWords","wkw","setType","override","overrideKeywords","word","w","blockCommentStart","blockCommentEnd","wordRegexp","words","RegExp","join","wordOperators","commonKeywords","commonBuiltins","top","scopes","registerHelper","concat","conf","parserConf","ERRORCLASS","delimiters","singleDelimiters","operators","singleOperators","doubleOperators","doubleDelimiters","tripleDelimiters","splice","hangingIndent","indentUnit","myKeywords","myBuiltins","extra_keywords","extra_builtins","py3","version","Number","identifiers","stringPrefixes","keywords","builtins","tokenBase","sol","lastToken","indent","indentation","scopeOffset","offset","lineOffset","pushPyScope","dedent","errorToken","tokenBaseInner","floatLiteral","intLiteral","toLowerCase","indexOf","tokenize","formatStringFactory","tokenStringFactory","delimiter","tokenOuter","charAt","substr","singleline","OUTCLASS","tokenNestedExpr","depth","inner","tokenString","singleLineStringErrors","isString","align","pushBracketScope","column","indented","tokenLexer","beginningOfLine","lambda","delimiter_index","basecolumn","addErr","textAfter","Pass","scope","closing","electricInput","closeBrackets","triples","fold","str","split","defineSimpleMode","start","regex","handlebars_raw","handlebars","dash_comment","comment","meta","config","getMode","base","multiplexingMode","open","close","mode","parseDelimiters","Story","WorkPackage","EditableInplace","data","on","handleClick","beforeSave","refreshStory","afterCreate","textStatus","afterUpdate","refreshed","editDialogTitle","getID","editorDisplayed","editor","getPoints","points","parseInt","find","first","isNaN","getType","markIfClosed","newDialogTitle","recalcVelocity","parents","refresh","saveDirectives","url","prev","sprintId","isSprintBacklog","getSprint","serialize","isNew","urlFor","sprint_id","id","beforeSaveDragResult","outer","others","Array","call","string","pattern","from","returnEnd","found","m","exec","index","innerActive","curInner","oldContent","pos","delimStyle","innerToken","innerStyle","cutOff","Infinity","other","outerIndent","possibleOuterIndent","outerToken","line","electricChars","innerMode","Impediment","Task","j","addClass","statusID","parent","attr","constants","children","cssMode","mimeModes","propertyKeywords","colorKeywords","valueKeywords","fontProperties","tokenRegexp","keywordsRegexp","opRegexp","pseudoElementsRegexp","isEndLine","urlTokens","tokenizer","buildStringTokenizer","multiLine","skipTo","quote","greedy","stringTokenizer","nextChar","peekChar","previousChar","cursorHalf","buildInterpolationTokenizer","currentTokenizer","indentCount","currentOffset","unshift","prevProp","withCurrentIndent","newScopes","definedVars","definedMixins","content","each","Backlog","toggleClass","Model","saveDragResult","hasClass","saveEdits","getList","sortable","connectWith","dropOnEmpty","dragStart","stop","dragStop","update","dragComplete","receive","dragChanged","remove","containment","scroll","helper","ui","$clone","clone","css","handleNewStoryClick","Sprint","burndown","Burndown","setSprintId","getStories","e","sender","item","toggler","preventDefault","newStory","story","prepend","edit","focus","recalcOddity","total","ensureState","states","Error","toRegex","val","caret","flags","ignoreCase","String","asToken","apply","replace","result","Rule","tokenFunction","pending","pend","local","end","tok","endToken","localState","endScan","curState","rule","matches","stack","enterLocalMode","backUp","cmp","a","b","props","spec","pers","persistent","p","persistentStates","lState","forceEnd","arr","indentFunction","dontIndentStates","rules","scan","dedentIfLineStart","simpleMode","states_","hasIndentation","list","orig","Taskboard","self","colWidthUnit","width","defaultColWidth","loadColWidthPreference","updateColWidths","keyup","which","initializeTasks","initializeImpediments","initializeNewButtons","initializeSortables","initializeTaskboardMenus","handleAddNewTaskClick","handleAddNewImpedimentClick","placeholder","cancel","disableSelection","augmentList","setTimeout","toggleOpen","closest","row","newImpediment","newTask","impediment","task","wordObj","o","curPunc","indentWords","dedentWords","opening","chain","newtok","readBlockComment","readQuoted","regexpAhead","embed","delim","propertyIsEnumerable","readHereDoc","varList","lastTok","more","escaped","tokenBaseUntilBrace","tokenBaseOnce","alreadyCalled","unescaped","phrase","mayIndent","continuedLine","kwtype","thisTok","firstChar","ct","closed","show","getSprintId","i18n","generating_graph","project_id","overlayMode","overlay","combine","basePos","baseCur","overlayPos","overlayCur","streamSeen","Math","min","combineTokens","baseToken","overlayToken","atProp","indentKeywords","regexPrefixes","longComment","tokenFactory","outclass","alignOffset","_indent","matched","fillAlign","closer","closes","defaultColor","c","colorcontrast","cellId","remainingHours","is","afterSave","unmarkSaving","cancelEdit","endEdit","hide","copyFromDialog","editors","append","displayEditor","dialogClass","position","my","at","of","resizable","getEditor","maxTabIndex","field","fieldId","fieldType","fieldLabel","fieldName","fieldOrder","input","newInput","typeId","statusId","trim","findFactory","change","prepareInputFromFactory","replaceStatusForNewType","createElement","blur","for","Option","replaceWith","error","markError","responseText","processError","editorId","model","target","currentTarget","handleSelect","tagName","setSelection","isSelected","isClosed","markSaving","x","filter","globalEval","saveDir","unmarkError","success","d","bind","handleKeydown","that","defaultDialogColor","selected","keywordRegex","esc","literal","keyCol","pair","pairStart","inlinePairs","inlineList"],"mappings":"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","file":"common.2dd89af8d2c1c5e076e8.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n/*\n * Author: Constantin Jucovschi (c.jucovschi@jacobs-university.de)\n * Licence: MIT\n */\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineMode(\"stex\", function(_config, parserConfig) {\n    \"use strict\";\n\n    function pushCommand(state, command) {\n      state.cmdState.push(command);\n    }\n\n    function peekCommand(state) {\n      if (state.cmdState.length > 0) {\n        return state.cmdState[state.cmdState.length - 1];\n      } else {\n        return null;\n      }\n    }\n\n    function popCommand(state) {\n      var plug = state.cmdState.pop();\n      if (plug) {\n        plug.closeBracket();\n      }\n    }\n\n    // returns the non-default plugin closest to the end of the list\n    function getMostPowerful(state) {\n      var context = state.cmdState;\n      for (var i = context.length - 1; i >= 0; i--) {\n        var plug = context[i];\n        if (plug.name == \"DEFAULT\") {\n          continue;\n        }\n        return plug;\n      }\n      return { styleIdentifier: function() { return null; } };\n    }\n\n    function addPluginPattern(pluginName, cmdStyle, styles) {\n      return function () {\n        this.name = pluginName;\n        this.bracketNo = 0;\n        this.style = cmdStyle;\n        this.styles = styles;\n        this.argument = null;   // \\begin and \\end have arguments that follow. These are stored in the plugin\n\n        this.styleIdentifier = function() {\n          return this.styles[this.bracketNo - 1] || null;\n        };\n        this.openBracket = function() {\n          this.bracketNo++;\n          return \"bracket\";\n        };\n        this.closeBracket = function() {};\n      };\n    }\n\n    var plugins = {};\n\n    plugins[\"importmodule\"] = addPluginPattern(\"importmodule\", \"tag\", [\"string\", \"builtin\"]);\n    plugins[\"documentclass\"] = addPluginPattern(\"documentclass\", \"tag\", [\"\", \"atom\"]);\n    plugins[\"usepackage\"] = addPluginPattern(\"usepackage\", \"tag\", [\"atom\"]);\n    plugins[\"begin\"] = addPluginPattern(\"begin\", \"tag\", [\"atom\"]);\n    plugins[\"end\"] = addPluginPattern(\"end\", \"tag\", [\"atom\"]);\n\n    plugins[\"label\"    ] = addPluginPattern(\"label\"    , \"tag\", [\"atom\"]);\n    plugins[\"ref\"      ] = addPluginPattern(\"ref\"      , \"tag\", [\"atom\"]);\n    plugins[\"eqref\"    ] = addPluginPattern(\"eqref\"    , \"tag\", [\"atom\"]);\n    plugins[\"cite\"     ] = addPluginPattern(\"cite\"     , \"tag\", [\"atom\"]);\n    plugins[\"bibitem\"  ] = addPluginPattern(\"bibitem\"  , \"tag\", [\"atom\"]);\n    plugins[\"Bibitem\"  ] = addPluginPattern(\"Bibitem\"  , \"tag\", [\"atom\"]);\n    plugins[\"RBibitem\" ] = addPluginPattern(\"RBibitem\" , \"tag\", [\"atom\"]);\n\n    plugins[\"DEFAULT\"] = function () {\n      this.name = \"DEFAULT\";\n      this.style = \"tag\";\n\n      this.styleIdentifier = this.openBracket = this.closeBracket = function() {};\n    };\n\n    function setState(state, f) {\n      state.f = f;\n    }\n\n    // called when in a normal (no environment) context\n    function normal(source, state) {\n      var plug;\n      // Do we look like '\\command' ?  If so, attempt to apply the plugin 'command'\n      if (source.match(/^\\\\[a-zA-Z@]+/)) {\n        var cmdName = source.current().slice(1);\n        plug = plugins[cmdName] || plugins[\"DEFAULT\"];\n        plug = new plug();\n        pushCommand(state, plug);\n        setState(state, beginParams);\n        return plug.style;\n      }\n\n      // escape characters\n      if (source.match(/^\\\\[$&%#{}_]/)) {\n        return \"tag\";\n      }\n\n      // white space control characters\n      if (source.match(/^\\\\[,;!\\/\\\\]/)) {\n        return \"tag\";\n      }\n\n      // find if we're starting various math modes\n      if (source.match(\"\\\\[\")) {\n        setState(state, function(source, state){ return inMathMode(source, state, \"\\\\]\"); });\n        return \"keyword\";\n      }\n      if (source.match(\"\\\\(\")) {\n        setState(state, function(source, state){ return inMathMode(source, state, \"\\\\)\"); });\n        return \"keyword\";\n      }\n      if (source.match(\"$$\")) {\n        setState(state, function(source, state){ return inMathMode(source, state, \"$$\"); });\n        return \"keyword\";\n      }\n      if (source.match(\"$\")) {\n        setState(state, function(source, state){ return inMathMode(source, state, \"$\"); });\n        return \"keyword\";\n      }\n\n      var ch = source.next();\n      if (ch == \"%\") {\n        source.skipToEnd();\n        return \"comment\";\n      } else if (ch == '}' || ch == ']') {\n        plug = peekCommand(state);\n        if (plug) {\n          plug.closeBracket(ch);\n          setState(state, beginParams);\n        } else {\n          return \"error\";\n        }\n        return \"bracket\";\n      } else if (ch == '{' || ch == '[') {\n        plug = plugins[\"DEFAULT\"];\n        plug = new plug();\n        pushCommand(state, plug);\n        return \"bracket\";\n      } else if (/\\d/.test(ch)) {\n        source.eatWhile(/[\\w.%]/);\n        return \"atom\";\n      } else {\n        source.eatWhile(/[\\w\\-_]/);\n        plug = getMostPowerful(state);\n        if (plug.name == 'begin') {\n          plug.argument = source.current();\n        }\n        return plug.styleIdentifier();\n      }\n    }\n\n    function inMathMode(source, state, endModeSeq) {\n      if (source.eatSpace()) {\n        return null;\n      }\n      if (endModeSeq && source.match(endModeSeq)) {\n        setState(state, normal);\n        return \"keyword\";\n      }\n      if (source.match(/^\\\\[a-zA-Z@]+/)) {\n        return \"tag\";\n      }\n      if (source.match(/^[a-zA-Z]+/)) {\n        return \"variable-2\";\n      }\n      // escape characters\n      if (source.match(/^\\\\[$&%#{}_]/)) {\n        return \"tag\";\n      }\n      // white space control characters\n      if (source.match(/^\\\\[,;!\\/]/)) {\n        return \"tag\";\n      }\n      // special math-mode characters\n      if (source.match(/^[\\^_&]/)) {\n        return \"tag\";\n      }\n      // non-special characters\n      if (source.match(/^[+\\-<>|=,\\/@!*:;'\"`~#?]/)) {\n        return null;\n      }\n      if (source.match(/^(\\d+\\.\\d*|\\d*\\.\\d+|\\d+)/)) {\n        return \"number\";\n      }\n      var ch = source.next();\n      if (ch == \"{\" || ch == \"}\" || ch == \"[\" || ch == \"]\" || ch == \"(\" || ch == \")\") {\n        return \"bracket\";\n      }\n\n      if (ch == \"%\") {\n        source.skipToEnd();\n        return \"comment\";\n      }\n      return \"error\";\n    }\n\n    function beginParams(source, state) {\n      var ch = source.peek(), lastPlug;\n      if (ch == '{' || ch == '[') {\n        lastPlug = peekCommand(state);\n        lastPlug.openBracket(ch);\n        source.eat(ch);\n        setState(state, normal);\n        return \"bracket\";\n      }\n      if (/[ \\t\\r]/.test(ch)) {\n        source.eat(ch);\n        return null;\n      }\n      setState(state, normal);\n      popCommand(state);\n\n      return normal(source, state);\n    }\n\n    return {\n      startState: function() {\n        var f = parserConfig.inMathMode ? function(source, state){ return inMathMode(source, state); } : normal;\n        return {\n          cmdState: [],\n          f: f\n        };\n      },\n      copyState: function(s) {\n        return {\n          cmdState: s.cmdState.slice(),\n          f: s.f\n        };\n      },\n      token: function(stream, state) {\n        return state.f(stream, state);\n      },\n      blankLine: function(state) {\n        state.f = normal;\n        state.cmdState.length = 0;\n      },\n      lineComment: \"%\"\n    };\n  });\n\n  CodeMirror.defineMIME(\"text/x-stex\", \"stex\");\n  CodeMirror.defineMIME(\"text/x-latex\", \"stex\");\n\n});\n","//-- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2020 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2017 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See docs/COPYRIGHT.rdoc for more details.\n//++\n\nif (window.RB === null || window.RB === undefined) {\n  window.RB = {};\n}\n\n\n(function ($) {\n  var object, Factory, Dialog, UserPreferences,\n      ajax;\n\n  object = {\n    // Douglas Crockford's technique for object extension\n    // http://javascript.crockford.com/prototypal.html\n    create: function () {\n      var obj, i, methods, methodName;\n\n      function F() {\n      }\n\n      F.prototype = arguments[0];\n      obj = new F();\n\n      // Add all the other arguments as mixins that\n      // 'write over' any existing methods\n      for (i = 1; i < arguments.length; i += 1) {\n        methods = arguments[i];\n        if (typeof methods === 'object') {\n          for (methodName in methods) {\n            if (methods.hasOwnProperty(methodName)) {\n              obj[methodName] = methods[methodName];\n            }\n          }\n        }\n      }\n      return obj;\n    }\n  };\n\n\n  // Object factory for chiliproject_backlogs\n  Factory = object.create({\n\n    initialize: function (objType, el) {\n      var obj;\n\n      obj = object.create(objType);\n      obj.initialize(el);\n      return obj;\n    }\n\n  });\n\n  // Utilities\n  Dialog = object.create({\n    msg: function (msg) {\n      var dialog, baseClasses;\n\n      baseClasses = 'ui-button ui-widget ui-state-default ui-corner-all';\n\n      if ($('#msgBox').length === 0) {\n        dialog = $('<div id=\"msgBox\"></div>').appendTo('body');\n      }\n      else {\n        dialog = $('#msgBox');\n      }\n\n      dialog.html(msg);\n      dialog.dialog({\n        title: 'Backlogs Plugin',\n        buttons: [\n        {\n          text: 'OK',\n          class: 'button -highlight',\n          click: function () {\n            $(this).dialog(\"close\");\n          }\n        }],\n        modal: true\n      });\n      $('.button').removeClass(baseClasses);\n      $('.ui-icon-closethick').prop('title', 'close');\n    }\n  });\n\n  ajax = (function () {\n    var ajaxQueue, ajaxOngoing,\n        processAjaxQueue;\n\n    ajaxQueue = [];\n    ajaxOngoing = false;\n\n    processAjaxQueue = function () {\n      var options = ajaxQueue.shift();\n\n      if (options !== null && options !== undefined) {\n        ajaxOngoing = true;\n        $.ajax(options);\n      }\n    };\n\n    // Process outstanding entries in the ajax queue whenever a ajax request\n    // finishes.\n    $(document).ajaxComplete(function (event, xhr, settings) {\n      ajaxOngoing = false;\n      processAjaxQueue();\n    });\n\n    return function (options) {\n      ajaxQueue.push(options);\n      if (!ajaxOngoing) {\n        processAjaxQueue();\n      }\n    };\n  }());\n\n  // Abstract the user preference from the rest of the RB objects\n  // so that we can change the underlying implementation as needed\n  UserPreferences = object.create({\n    get: function (key) {\n      return $.cookie(key);\n    },\n\n    set: function (key, value) {\n      $.cookie(key, value, { expires: 365 * 10 });\n    }\n  });\n\n  RB.Object = object;\n  RB.Factory = Factory;\n  RB.Dialog = Dialog;\n  RB.UserPreferences = UserPreferences;\n  RB.ajax = ajax;\n\n}(jQuery));\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"haskell\", function(_config, modeConfig) {\n\n  function switchState(source, setState, f) {\n    setState(f);\n    return f(source, setState);\n  }\n\n  // These should all be Unicode extended, as per the Haskell 2010 report\n  var smallRE = /[a-z_]/;\n  var largeRE = /[A-Z]/;\n  var digitRE = /\\d/;\n  var hexitRE = /[0-9A-Fa-f]/;\n  var octitRE = /[0-7]/;\n  var idRE = /[a-z_A-Z0-9'\\xa1-\\uffff]/;\n  var symbolRE = /[-!#$%&*+.\\/<=>?@\\\\^|~:]/;\n  var specialRE = /[(),;[\\]`{}]/;\n  var whiteCharRE = /[ \\t\\v\\f]/; // newlines are handled in tokenizer\n\n  function normal(source, setState) {\n    if (source.eatWhile(whiteCharRE)) {\n      return null;\n    }\n\n    var ch = source.next();\n    if (specialRE.test(ch)) {\n      if (ch == '{' && source.eat('-')) {\n        var t = \"comment\";\n        if (source.eat('#')) {\n          t = \"meta\";\n        }\n        return switchState(source, setState, ncomment(t, 1));\n      }\n      return null;\n    }\n\n    if (ch == '\\'') {\n      if (source.eat('\\\\')) {\n        source.next();  // should handle other escapes here\n      }\n      else {\n        source.next();\n      }\n      if (source.eat('\\'')) {\n        return \"string\";\n      }\n      return \"string error\";\n    }\n\n    if (ch == '\"') {\n      return switchState(source, setState, stringLiteral);\n    }\n\n    if (largeRE.test(ch)) {\n      source.eatWhile(idRE);\n      if (source.eat('.')) {\n        return \"qualifier\";\n      }\n      return \"variable-2\";\n    }\n\n    if (smallRE.test(ch)) {\n      source.eatWhile(idRE);\n      return \"variable\";\n    }\n\n    if (digitRE.test(ch)) {\n      if (ch == '0') {\n        if (source.eat(/[xX]/)) {\n          source.eatWhile(hexitRE); // should require at least 1\n          return \"integer\";\n        }\n        if (source.eat(/[oO]/)) {\n          source.eatWhile(octitRE); // should require at least 1\n          return \"number\";\n        }\n      }\n      source.eatWhile(digitRE);\n      var t = \"number\";\n      if (source.match(/^\\.\\d+/)) {\n        t = \"number\";\n      }\n      if (source.eat(/[eE]/)) {\n        t = \"number\";\n        source.eat(/[-+]/);\n        source.eatWhile(digitRE); // should require at least 1\n      }\n      return t;\n    }\n\n    if (ch == \".\" && source.eat(\".\"))\n      return \"keyword\";\n\n    if (symbolRE.test(ch)) {\n      if (ch == '-' && source.eat(/-/)) {\n        source.eatWhile(/-/);\n        if (!source.eat(symbolRE)) {\n          source.skipToEnd();\n          return \"comment\";\n        }\n      }\n      var t = \"variable\";\n      if (ch == ':') {\n        t = \"variable-2\";\n      }\n      source.eatWhile(symbolRE);\n      return t;\n    }\n\n    return \"error\";\n  }\n\n  function ncomment(type, nest) {\n    if (nest == 0) {\n      return normal;\n    }\n    return function(source, setState) {\n      var currNest = nest;\n      while (!source.eol()) {\n        var ch = source.next();\n        if (ch == '{' && source.eat('-')) {\n          ++currNest;\n        }\n        else if (ch == '-' && source.eat('}')) {\n          --currNest;\n          if (currNest == 0) {\n            setState(normal);\n            return type;\n          }\n        }\n      }\n      setState(ncomment(type, currNest));\n      return type;\n    };\n  }\n\n  function stringLiteral(source, setState) {\n    while (!source.eol()) {\n      var ch = source.next();\n      if (ch == '\"') {\n        setState(normal);\n        return \"string\";\n      }\n      if (ch == '\\\\') {\n        if (source.eol() || source.eat(whiteCharRE)) {\n          setState(stringGap);\n          return \"string\";\n        }\n        if (source.eat('&')) {\n        }\n        else {\n          source.next(); // should handle other escapes here\n        }\n      }\n    }\n    setState(normal);\n    return \"string error\";\n  }\n\n  function stringGap(source, setState) {\n    if (source.eat('\\\\')) {\n      return switchState(source, setState, stringLiteral);\n    }\n    source.next();\n    setState(normal);\n    return \"error\";\n  }\n\n\n  var wellKnownWords = (function() {\n    var wkw = {};\n    function setType(t) {\n      return function () {\n        for (var i = 0; i < arguments.length; i++)\n          wkw[arguments[i]] = t;\n      };\n    }\n\n    setType(\"keyword\")(\n      \"case\", \"class\", \"data\", \"default\", \"deriving\", \"do\", \"else\", \"foreign\",\n      \"if\", \"import\", \"in\", \"infix\", \"infixl\", \"infixr\", \"instance\", \"let\",\n      \"module\", \"newtype\", \"of\", \"then\", \"type\", \"where\", \"_\");\n\n    setType(\"keyword\")(\n      \"\\.\\.\", \":\", \"::\", \"=\", \"\\\\\", \"<-\", \"->\", \"@\", \"~\", \"=>\");\n\n    setType(\"builtin\")(\n      \"!!\", \"$!\", \"$\", \"&&\", \"+\", \"++\", \"-\", \".\", \"/\", \"/=\", \"<\", \"<*\", \"<=\",\n      \"<$>\", \"<*>\", \"=<<\", \"==\", \">\", \">=\", \">>\", \">>=\", \"^\", \"^^\", \"||\", \"*\",\n      \"*>\", \"**\");\n\n    setType(\"builtin\")(\n      \"Applicative\", \"Bool\", \"Bounded\", \"Char\", \"Double\", \"EQ\", \"Either\", \"Enum\",\n      \"Eq\", \"False\", \"FilePath\", \"Float\", \"Floating\", \"Fractional\", \"Functor\",\n      \"GT\", \"IO\", \"IOError\", \"Int\", \"Integer\", \"Integral\", \"Just\", \"LT\", \"Left\",\n      \"Maybe\", \"Monad\", \"Nothing\", \"Num\", \"Ord\", \"Ordering\", \"Rational\", \"Read\",\n      \"ReadS\", \"Real\", \"RealFloat\", \"RealFrac\", \"Right\", \"Show\", \"ShowS\",\n      \"String\", \"True\");\n\n    setType(\"builtin\")(\n      \"abs\", \"acos\", \"acosh\", \"all\", \"and\", \"any\", \"appendFile\", \"asTypeOf\",\n      \"asin\", \"asinh\", \"atan\", \"atan2\", \"atanh\", \"break\", \"catch\", \"ceiling\",\n      \"compare\", \"concat\", \"concatMap\", \"const\", \"cos\", \"cosh\", \"curry\",\n      \"cycle\", \"decodeFloat\", \"div\", \"divMod\", \"drop\", \"dropWhile\", \"either\",\n      \"elem\", \"encodeFloat\", \"enumFrom\", \"enumFromThen\", \"enumFromThenTo\",\n      \"enumFromTo\", \"error\", \"even\", \"exp\", \"exponent\", \"fail\", \"filter\",\n      \"flip\", \"floatDigits\", \"floatRadix\", \"floatRange\", \"floor\", \"fmap\",\n      \"foldl\", \"foldl1\", \"foldr\", \"foldr1\", \"fromEnum\", \"fromInteger\",\n      \"fromIntegral\", \"fromRational\", \"fst\", \"gcd\", \"getChar\", \"getContents\",\n      \"getLine\", \"head\", \"id\", \"init\", \"interact\", \"ioError\", \"isDenormalized\",\n      \"isIEEE\", \"isInfinite\", \"isNaN\", \"isNegativeZero\", \"iterate\", \"last\",\n      \"lcm\", \"length\", \"lex\", \"lines\", \"log\", \"logBase\", \"lookup\", \"map\",\n      \"mapM\", \"mapM_\", \"max\", \"maxBound\", \"maximum\", \"maybe\", \"min\", \"minBound\",\n      \"minimum\", \"mod\", \"negate\", \"not\", \"notElem\", \"null\", \"odd\", \"or\",\n      \"otherwise\", \"pi\", \"pred\", \"print\", \"product\", \"properFraction\", \"pure\",\n      \"putChar\", \"putStr\", \"putStrLn\", \"quot\", \"quotRem\", \"read\", \"readFile\",\n      \"readIO\", \"readList\", \"readLn\", \"readParen\", \"reads\", \"readsPrec\",\n      \"realToFrac\", \"recip\", \"rem\", \"repeat\", \"replicate\", \"return\", \"reverse\",\n      \"round\", \"scaleFloat\", \"scanl\", \"scanl1\", \"scanr\", \"scanr1\", \"seq\",\n      \"sequence\", \"sequence_\", \"show\", \"showChar\", \"showList\", \"showParen\",\n      \"showString\", \"shows\", \"showsPrec\", \"significand\", \"signum\", \"sin\",\n      \"sinh\", \"snd\", \"span\", \"splitAt\", \"sqrt\", \"subtract\", \"succ\", \"sum\",\n      \"tail\", \"take\", \"takeWhile\", \"tan\", \"tanh\", \"toEnum\", \"toInteger\",\n      \"toRational\", \"truncate\", \"uncurry\", \"undefined\", \"unlines\", \"until\",\n      \"unwords\", \"unzip\", \"unzip3\", \"userError\", \"words\", \"writeFile\", \"zip\",\n      \"zip3\", \"zipWith\", \"zipWith3\");\n\n    var override = modeConfig.overrideKeywords;\n    if (override) for (var word in override) if (override.hasOwnProperty(word))\n      wkw[word] = override[word];\n\n    return wkw;\n  })();\n\n\n\n  return {\n    startState: function ()  { return { f: normal }; },\n    copyState:  function (s) { return { f: s.f }; },\n\n    token: function(stream, state) {\n      var t = state.f(stream, function(s) { state.f = s; });\n      var w = stream.current();\n      return wellKnownWords.hasOwnProperty(w) ? wellKnownWords[w] : t;\n    },\n\n    blockCommentStart: \"{-\",\n    blockCommentEnd: \"-}\",\n    lineComment: \"--\"\n  };\n\n});\n\nCodeMirror.defineMIME(\"text/x-haskell\", \"haskell\");\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function wordRegexp(words) {\n    return new RegExp(\"^((\" + words.join(\")|(\") + \"))\\\\b\");\n  }\n\n  var wordOperators = wordRegexp([\"and\", \"or\", \"not\", \"is\"]);\n  var commonKeywords = [\"as\", \"assert\", \"break\", \"class\", \"continue\",\n                        \"def\", \"del\", \"elif\", \"else\", \"except\", \"finally\",\n                        \"for\", \"from\", \"global\", \"if\", \"import\",\n                        \"lambda\", \"pass\", \"raise\", \"return\",\n                        \"try\", \"while\", \"with\", \"yield\", \"in\"];\n  var commonBuiltins = [\"abs\", \"all\", \"any\", \"bin\", \"bool\", \"bytearray\", \"callable\", \"chr\",\n                        \"classmethod\", \"compile\", \"complex\", \"delattr\", \"dict\", \"dir\", \"divmod\",\n                        \"enumerate\", \"eval\", \"filter\", \"float\", \"format\", \"frozenset\",\n                        \"getattr\", \"globals\", \"hasattr\", \"hash\", \"help\", \"hex\", \"id\",\n                        \"input\", \"int\", \"isinstance\", \"issubclass\", \"iter\", \"len\",\n                        \"list\", \"locals\", \"map\", \"max\", \"memoryview\", \"min\", \"next\",\n                        \"object\", \"oct\", \"open\", \"ord\", \"pow\", \"property\", \"range\",\n                        \"repr\", \"reversed\", \"round\", \"set\", \"setattr\", \"slice\",\n                        \"sorted\", \"staticmethod\", \"str\", \"sum\", \"super\", \"tuple\",\n                        \"type\", \"vars\", \"zip\", \"__import__\", \"NotImplemented\",\n                        \"Ellipsis\", \"__debug__\"];\n  CodeMirror.registerHelper(\"hintWords\", \"python\", commonKeywords.concat(commonBuiltins));\n\n  function top(state) {\n    return state.scopes[state.scopes.length - 1];\n  }\n\n  CodeMirror.defineMode(\"python\", function(conf, parserConf) {\n    var ERRORCLASS = \"error\";\n\n    var delimiters = parserConf.delimiters || parserConf.singleDelimiters || /^[\\(\\)\\[\\]\\{\\}@,:`=;\\.\\\\]/;\n    //               (Backwards-compatiblity with old, cumbersome config system)\n    var operators = [parserConf.singleOperators, parserConf.doubleOperators, parserConf.doubleDelimiters, parserConf.tripleDelimiters,\n                     parserConf.operators || /^([-+*/%\\/&|^]=?|[<>=]+|\\/\\/=?|\\*\\*=?|!=|[~!@]|\\.\\.\\.)/]\n    for (var i = 0; i < operators.length; i++) if (!operators[i]) operators.splice(i--, 1)\n\n    var hangingIndent = parserConf.hangingIndent || conf.indentUnit;\n\n    var myKeywords = commonKeywords, myBuiltins = commonBuiltins;\n    if (parserConf.extra_keywords != undefined)\n      myKeywords = myKeywords.concat(parserConf.extra_keywords);\n\n    if (parserConf.extra_builtins != undefined)\n      myBuiltins = myBuiltins.concat(parserConf.extra_builtins);\n\n    var py3 = !(parserConf.version && Number(parserConf.version) < 3)\n    if (py3) {\n      // since http://legacy.python.org/dev/peps/pep-0465/ @ is also an operator\n      var identifiers = parserConf.identifiers|| /^[_A-Za-z\\u00A1-\\uFFFF][_A-Za-z0-9\\u00A1-\\uFFFF]*/;\n      myKeywords = myKeywords.concat([\"nonlocal\", \"False\", \"True\", \"None\", \"async\", \"await\"]);\n      myBuiltins = myBuiltins.concat([\"ascii\", \"bytes\", \"exec\", \"print\"]);\n      var stringPrefixes = new RegExp(\"^(([rbuf]|(br)|(fr))?('{3}|\\\"{3}|['\\\"]))\", \"i\");\n    } else {\n      var identifiers = parserConf.identifiers|| /^[_A-Za-z][_A-Za-z0-9]*/;\n      myKeywords = myKeywords.concat([\"exec\", \"print\"]);\n      myBuiltins = myBuiltins.concat([\"apply\", \"basestring\", \"buffer\", \"cmp\", \"coerce\", \"execfile\",\n                                      \"file\", \"intern\", \"long\", \"raw_input\", \"reduce\", \"reload\",\n                                      \"unichr\", \"unicode\", \"xrange\", \"False\", \"True\", \"None\"]);\n      var stringPrefixes = new RegExp(\"^(([rubf]|(ur)|(br))?('{3}|\\\"{3}|['\\\"]))\", \"i\");\n    }\n    var keywords = wordRegexp(myKeywords);\n    var builtins = wordRegexp(myBuiltins);\n\n    // tokenizers\n    function tokenBase(stream, state) {\n      var sol = stream.sol() && state.lastToken != \"\\\\\"\n      if (sol) state.indent = stream.indentation()\n      // Handle scope changes\n      if (sol && top(state).type == \"py\") {\n        var scopeOffset = top(state).offset;\n        if (stream.eatSpace()) {\n          var lineOffset = stream.indentation();\n          if (lineOffset > scopeOffset)\n            pushPyScope(state);\n          else if (lineOffset < scopeOffset && dedent(stream, state) && stream.peek() != \"#\")\n            state.errorToken = true;\n          return null;\n        } else {\n          var style = tokenBaseInner(stream, state);\n          if (scopeOffset > 0 && dedent(stream, state))\n            style += \" \" + ERRORCLASS;\n          return style;\n        }\n      }\n      return tokenBaseInner(stream, state);\n    }\n\n    function tokenBaseInner(stream, state) {\n      if (stream.eatSpace()) return null;\n\n      // Handle Comments\n      if (stream.match(/^#.*/)) return \"comment\";\n\n      // Handle Number Literals\n      if (stream.match(/^[0-9\\.]/, false)) {\n        var floatLiteral = false;\n        // Floats\n        if (stream.match(/^[\\d_]*\\.\\d+(e[\\+\\-]?\\d+)?/i)) { floatLiteral = true; }\n        if (stream.match(/^[\\d_]+\\.\\d*/)) { floatLiteral = true; }\n        if (stream.match(/^\\.\\d+/)) { floatLiteral = true; }\n        if (floatLiteral) {\n          // Float literals may be \"imaginary\"\n          stream.eat(/J/i);\n          return \"number\";\n        }\n        // Integers\n        var intLiteral = false;\n        // Hex\n        if (stream.match(/^0x[0-9a-f_]+/i)) intLiteral = true;\n        // Binary\n        if (stream.match(/^0b[01_]+/i)) intLiteral = true;\n        // Octal\n        if (stream.match(/^0o[0-7_]+/i)) intLiteral = true;\n        // Decimal\n        if (stream.match(/^[1-9][\\d_]*(e[\\+\\-]?[\\d_]+)?/)) {\n          // Decimal literals may be \"imaginary\"\n          stream.eat(/J/i);\n          // TODO - Can you have imaginary longs?\n          intLiteral = true;\n        }\n        // Zero by itself with no other piece of number.\n        if (stream.match(/^0(?![\\dx])/i)) intLiteral = true;\n        if (intLiteral) {\n          // Integer literals may be \"long\"\n          stream.eat(/L/i);\n          return \"number\";\n        }\n      }\n\n      // Handle Strings\n      if (stream.match(stringPrefixes)) {\n        var isFmtString = stream.current().toLowerCase().indexOf('f') !== -1;\n        if (!isFmtString) {\n          state.tokenize = tokenStringFactory(stream.current(), state.tokenize);\n          return state.tokenize(stream, state);\n        } else {\n          state.tokenize = formatStringFactory(stream.current(), state.tokenize);\n          return state.tokenize(stream, state);\n        }\n      }\n\n      for (var i = 0; i < operators.length; i++)\n        if (stream.match(operators[i])) return \"operator\"\n\n      if (stream.match(delimiters)) return \"punctuation\";\n\n      if (state.lastToken == \".\" && stream.match(identifiers))\n        return \"property\";\n\n      if (stream.match(keywords) || stream.match(wordOperators))\n        return \"keyword\";\n\n      if (stream.match(builtins))\n        return \"builtin\";\n\n      if (stream.match(/^(self|cls)\\b/))\n        return \"variable-2\";\n\n      if (stream.match(identifiers)) {\n        if (state.lastToken == \"def\" || state.lastToken == \"class\")\n          return \"def\";\n        return \"variable\";\n      }\n\n      // Handle non-detected items\n      stream.next();\n      return ERRORCLASS;\n    }\n\n    function formatStringFactory(delimiter, tokenOuter) {\n      while (\"rubf\".indexOf(delimiter.charAt(0).toLowerCase()) >= 0)\n        delimiter = delimiter.substr(1);\n\n      var singleline = delimiter.length == 1;\n      var OUTCLASS = \"string\";\n\n      function tokenNestedExpr(depth) {\n        return function(stream, state) {\n          var inner = tokenBaseInner(stream, state)\n          if (inner == \"punctuation\") {\n            if (stream.current() == \"{\") {\n              state.tokenize = tokenNestedExpr(depth + 1)\n            } else if (stream.current() == \"}\") {\n              if (depth > 1) state.tokenize = tokenNestedExpr(depth - 1)\n              else state.tokenize = tokenString\n            }\n          }\n          return inner\n        }\n      }\n\n      function tokenString(stream, state) {\n        while (!stream.eol()) {\n          stream.eatWhile(/[^'\"\\{\\}\\\\]/);\n          if (stream.eat(\"\\\\\")) {\n            stream.next();\n            if (singleline && stream.eol())\n              return OUTCLASS;\n          } else if (stream.match(delimiter)) {\n            state.tokenize = tokenOuter;\n            return OUTCLASS;\n          } else if (stream.match('{{')) {\n            // ignore {{ in f-str\n            return OUTCLASS;\n          } else if (stream.match('{', false)) {\n            // switch to nested mode\n            state.tokenize = tokenNestedExpr(0)\n            if (stream.current()) return OUTCLASS;\n            else return state.tokenize(stream, state)\n          } else if (stream.match('}}')) {\n            return OUTCLASS;\n          } else if (stream.match('}')) {\n            // single } in f-string is an error\n            return ERRORCLASS;\n          } else {\n            stream.eat(/['\"]/);\n          }\n        }\n        if (singleline) {\n          if (parserConf.singleLineStringErrors)\n            return ERRORCLASS;\n          else\n            state.tokenize = tokenOuter;\n        }\n        return OUTCLASS;\n      }\n      tokenString.isString = true;\n      return tokenString;\n    }\n\n    function tokenStringFactory(delimiter, tokenOuter) {\n      while (\"rubf\".indexOf(delimiter.charAt(0).toLowerCase()) >= 0)\n        delimiter = delimiter.substr(1);\n\n      var singleline = delimiter.length == 1;\n      var OUTCLASS = \"string\";\n\n      function tokenString(stream, state) {\n        while (!stream.eol()) {\n          stream.eatWhile(/[^'\"\\\\]/);\n          if (stream.eat(\"\\\\\")) {\n            stream.next();\n            if (singleline && stream.eol())\n              return OUTCLASS;\n          } else if (stream.match(delimiter)) {\n            state.tokenize = tokenOuter;\n            return OUTCLASS;\n          } else {\n            stream.eat(/['\"]/);\n          }\n        }\n        if (singleline) {\n          if (parserConf.singleLineStringErrors)\n            return ERRORCLASS;\n          else\n            state.tokenize = tokenOuter;\n        }\n        return OUTCLASS;\n      }\n      tokenString.isString = true;\n      return tokenString;\n    }\n\n    function pushPyScope(state) {\n      while (top(state).type != \"py\") state.scopes.pop()\n      state.scopes.push({offset: top(state).offset + conf.indentUnit,\n                         type: \"py\",\n                         align: null})\n    }\n\n    function pushBracketScope(stream, state, type) {\n      var align = stream.match(/^([\\s\\[\\{\\(]|#.*)*$/, false) ? null : stream.column() + 1\n      state.scopes.push({offset: state.indent + hangingIndent,\n                         type: type,\n                         align: align})\n    }\n\n    function dedent(stream, state) {\n      var indented = stream.indentation();\n      while (state.scopes.length > 1 && top(state).offset > indented) {\n        if (top(state).type != \"py\") return true;\n        state.scopes.pop();\n      }\n      return top(state).offset != indented;\n    }\n\n    function tokenLexer(stream, state) {\n      if (stream.sol()) state.beginningOfLine = true;\n\n      var style = state.tokenize(stream, state);\n      var current = stream.current();\n\n      // Handle decorators\n      if (state.beginningOfLine && current == \"@\")\n        return stream.match(identifiers, false) ? \"meta\" : py3 ? \"operator\" : ERRORCLASS;\n\n      if (/\\S/.test(current)) state.beginningOfLine = false;\n\n      if ((style == \"variable\" || style == \"builtin\")\n          && state.lastToken == \"meta\")\n        style = \"meta\";\n\n      // Handle scope changes.\n      if (current == \"pass\" || current == \"return\")\n        state.dedent += 1;\n\n      if (current == \"lambda\") state.lambda = true;\n      if (current == \":\" && !state.lambda && top(state).type == \"py\")\n        pushPyScope(state);\n\n      if (current.length == 1 && !/string|comment/.test(style)) {\n        var delimiter_index = \"[({\".indexOf(current);\n        if (delimiter_index != -1)\n          pushBracketScope(stream, state, \"])}\".slice(delimiter_index, delimiter_index+1));\n\n        delimiter_index = \"])}\".indexOf(current);\n        if (delimiter_index != -1) {\n          if (top(state).type == current) state.indent = state.scopes.pop().offset - hangingIndent\n          else return ERRORCLASS;\n        }\n      }\n      if (state.dedent > 0 && stream.eol() && top(state).type == \"py\") {\n        if (state.scopes.length > 1) state.scopes.pop();\n        state.dedent -= 1;\n      }\n\n      return style;\n    }\n\n    var external = {\n      startState: function(basecolumn) {\n        return {\n          tokenize: tokenBase,\n          scopes: [{offset: basecolumn || 0, type: \"py\", align: null}],\n          indent: basecolumn || 0,\n          lastToken: null,\n          lambda: false,\n          dedent: 0\n        };\n      },\n\n      token: function(stream, state) {\n        var addErr = state.errorToken;\n        if (addErr) state.errorToken = false;\n        var style = tokenLexer(stream, state);\n\n        if (style && style != \"comment\")\n          state.lastToken = (style == \"keyword\" || style == \"punctuation\") ? stream.current() : style;\n        if (style == \"punctuation\") style = null;\n\n        if (stream.eol() && state.lambda)\n          state.lambda = false;\n        return addErr ? style + \" \" + ERRORCLASS : style;\n      },\n\n      indent: function(state, textAfter) {\n        if (state.tokenize != tokenBase)\n          return state.tokenize.isString ? CodeMirror.Pass : 0;\n\n        var scope = top(state), closing = scope.type == textAfter.charAt(0)\n        if (scope.align != null)\n          return scope.align - (closing ? 1 : 0)\n        else\n          return scope.offset - (closing ? hangingIndent : 0)\n      },\n\n      electricInput: /^\\s*[\\}\\]\\)]$/,\n      closeBrackets: {triples: \"'\\\"\"},\n      lineComment: \"#\",\n      fold: \"indent\"\n    };\n    return external;\n  });\n\n  CodeMirror.defineMIME(\"text/x-python\", \"python\");\n\n  var words = function(str) { return str.split(\" \"); };\n\n  CodeMirror.defineMIME(\"text/x-cython\", {\n    name: \"python\",\n    extra_keywords: words(\"by cdef cimport cpdef ctypedef enum except \"+\n                          \"extern gil include nogil property public \"+\n                          \"readonly struct union DEF IF ELIF ELSE\")\n  });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../../addon/mode/simple\"), require(\"../../addon/mode/multiplex\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../../addon/mode/simple\", \"../../addon/mode/multiplex\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineSimpleMode(\"handlebars-tags\", {\n    start: [\n      { regex: /\\{\\{\\{/, push: \"handlebars_raw\", token: \"tag\" },\n      { regex: /\\{\\{!--/, push: \"dash_comment\", token: \"comment\" },\n      { regex: /\\{\\{!/,   push: \"comment\", token: \"comment\" },\n      { regex: /\\{\\{/,    push: \"handlebars\", token: \"tag\" }\n    ],\n    handlebars_raw: [\n      { regex: /\\}\\}\\}/, pop: true, token: \"tag\" },\n    ],\n    handlebars: [\n      { regex: /\\}\\}/, pop: true, token: \"tag\" },\n\n      // Double and single quotes\n      { regex: /\"(?:[^\\\\\"]|\\\\.)*\"?/, token: \"string\" },\n      { regex: /'(?:[^\\\\']|\\\\.)*'?/, token: \"string\" },\n\n      // Handlebars keywords\n      { regex: />|[#\\/]([A-Za-z_]\\w*)/, token: \"keyword\" },\n      { regex: /(?:else|this)\\b/, token: \"keyword\" },\n\n      // Numeral\n      { regex: /\\d+/i, token: \"number\" },\n\n      // Atoms like = and .\n      { regex: /=|~|@|true|false/, token: \"atom\" },\n\n      // Paths\n      { regex: /(?:\\.\\.\\/)*(?:[A-Za-z_][\\w\\.]*)+/, token: \"variable-2\" }\n    ],\n    dash_comment: [\n      { regex: /--\\}\\}/, pop: true, token: \"comment\" },\n\n      // Commented code\n      { regex: /./, token: \"comment\"}\n    ],\n    comment: [\n      { regex: /\\}\\}/, pop: true, token: \"comment\" },\n      { regex: /./, token: \"comment\" }\n    ],\n    meta: {\n      blockCommentStart: \"{{--\",\n      blockCommentEnd: \"--}}\"\n    }\n  });\n\n  CodeMirror.defineMode(\"handlebars\", function(config, parserConfig) {\n    var handlebars = CodeMirror.getMode(config, \"handlebars-tags\");\n    if (!parserConfig || !parserConfig.base) return handlebars;\n    return CodeMirror.multiplexingMode(\n      CodeMirror.getMode(config, parserConfig.base),\n      {open: \"{{\", close: \"}}\", mode: handlebars, parseDelimiters: true}\n    );\n  });\n\n  CodeMirror.defineMIME(\"text/x-handlebars-template\", \"handlebars\");\n});\n","//-- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2020 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2017 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See docs/COPYRIGHT.rdoc for more details.\n//++\n\n/**************************************\n  STORY\n***************************************/\nRB.Story = (function ($) {\n  return RB.Object.create(RB.WorkPackage, RB.EditableInplace, {\n    initialize: function (el) {\n      this.$ = $(el);\n      this.el = el;\n\n      // Associate this object with the element for later retrieval\n      this.$.data('this', this);\n      this.$.on('click', '.editable', this.handleClick);\n    },\n\n    /**\n     * Callbacks from model.js\n     **/\n    beforeSave: function () {\n      this.refreshStory();\n    },\n\n    afterCreate: function (data, textStatus, xhr) {\n      this.refreshStory();\n    },\n\n    afterUpdate : function (data, textStatus, xhr) {\n      this.refreshStory();\n    },\n\n    refreshed: function () {\n      this.refreshStory();\n    },\n    /**/\n\n    editDialogTitle: function () {\n      return \"Story #\" + this.getID();\n    },\n\n    editorDisplayed: function (editor) { },\n\n    getPoints: function () {\n      var points = parseInt(this.$.find('.story_points').first().text(), 10);\n      return isNaN(points) ? 0 : points;\n    },\n\n    getType: function () {\n      return \"Story\";\n    },\n\n    markIfClosed: function () {\n      // Do nothing\n    },\n\n    newDialogTitle: function () {\n      return \"New Story\";\n    },\n\n    refreshStory : function () {\n      this.recalcVelocity();\n    },\n\n    recalcVelocity: function () {\n      this.$.parents(\".backlog\").first().data('this').refresh();\n    },\n\n    saveDirectives: function () {\n      var url, prev, sprintId, data;\n\n      prev = this.$.prev();\n      sprintId = this.$.parents('.backlog').data('this').isSprintBacklog() ?\n                   this.$.parents('.backlog').data('this').getSprint().data('this').getID() :\n                   '';\n\n      data = \"prev=\" +\n             (prev.length === 1 ?  prev.data('this').getID() : '') +\n             \"&version_id=\" + sprintId;\n\n      if (this.$.find('.editor').length > 0) {\n        data += \"&\" + this.$.find('.editor').serialize();\n      }\n\n      //TODO: this might be unsave in case the parent of this story is not the\n      //      sprint backlog, then we dont have a sprintId an cannot generate a\n      //      valid url - one option might be to take RB.constants.sprint_id\n      //      hoping it exists\n      if (this.isNew()) {\n        url = RB.urlFor('create_story', {sprint_id: sprintId});\n      } else {\n        url = RB.urlFor('update_story', {id: this.getID(), sprint_id: sprintId});\n        data += \"&_method=put\";\n      }\n\n      return {\n        url: url,\n        data: data\n      };\n    },\n\n    beforeSaveDragResult: function () {\n      // Do nothing\n    }\n  });\n}(jQuery));\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.multiplexingMode = function(outer /*, others */) {\n  // Others should be {open, close, mode [, delimStyle] [, innerStyle]} objects\n  var others = Array.prototype.slice.call(arguments, 1);\n\n  function indexOf(string, pattern, from, returnEnd) {\n    if (typeof pattern == \"string\") {\n      var found = string.indexOf(pattern, from);\n      return returnEnd && found > -1 ? found + pattern.length : found;\n    }\n    var m = pattern.exec(from ? string.slice(from) : string);\n    return m ? m.index + from + (returnEnd ? m[0].length : 0) : -1;\n  }\n\n  return {\n    startState: function() {\n      return {\n        outer: CodeMirror.startState(outer),\n        innerActive: null,\n        inner: null\n      };\n    },\n\n    copyState: function(state) {\n      return {\n        outer: CodeMirror.copyState(outer, state.outer),\n        innerActive: state.innerActive,\n        inner: state.innerActive && CodeMirror.copyState(state.innerActive.mode, state.inner)\n      };\n    },\n\n    token: function(stream, state) {\n      if (!state.innerActive) {\n        var cutOff = Infinity, oldContent = stream.string;\n        for (var i = 0; i < others.length; ++i) {\n          var other = others[i];\n          var found = indexOf(oldContent, other.open, stream.pos);\n          if (found == stream.pos) {\n            if (!other.parseDelimiters) stream.match(other.open);\n            state.innerActive = other;\n\n            // Get the outer indent, making sure to handle CodeMirror.Pass\n            var outerIndent = 0;\n            if (outer.indent) {\n              var possibleOuterIndent = outer.indent(state.outer, \"\", \"\");\n              if (possibleOuterIndent !== CodeMirror.Pass) outerIndent = possibleOuterIndent;\n            }\n\n            state.inner = CodeMirror.startState(other.mode, outerIndent);\n            return other.delimStyle && (other.delimStyle + \" \" + other.delimStyle + \"-open\");\n          } else if (found != -1 && found < cutOff) {\n            cutOff = found;\n          }\n        }\n        if (cutOff != Infinity) stream.string = oldContent.slice(0, cutOff);\n        var outerToken = outer.token(stream, state.outer);\n        if (cutOff != Infinity) stream.string = oldContent;\n        return outerToken;\n      } else {\n        var curInner = state.innerActive, oldContent = stream.string;\n        if (!curInner.close && stream.sol()) {\n          state.innerActive = state.inner = null;\n          return this.token(stream, state);\n        }\n        var found = curInner.close ? indexOf(oldContent, curInner.close, stream.pos, curInner.parseDelimiters) : -1;\n        if (found == stream.pos && !curInner.parseDelimiters) {\n          stream.match(curInner.close);\n          state.innerActive = state.inner = null;\n          return curInner.delimStyle && (curInner.delimStyle + \" \" + curInner.delimStyle + \"-close\");\n        }\n        if (found > -1) stream.string = oldContent.slice(0, found);\n        var innerToken = curInner.mode.token(stream, state.inner);\n        if (found > -1) stream.string = oldContent;\n\n        if (found == stream.pos && curInner.parseDelimiters)\n          state.innerActive = state.inner = null;\n\n        if (curInner.innerStyle) {\n          if (innerToken) innerToken = innerToken + \" \" + curInner.innerStyle;\n          else innerToken = curInner.innerStyle;\n        }\n\n        return innerToken;\n      }\n    },\n\n    indent: function(state, textAfter, line) {\n      var mode = state.innerActive ? state.innerActive.mode : outer;\n      if (!mode.indent) return CodeMirror.Pass;\n      return mode.indent(state.innerActive ? state.inner : state.outer, textAfter, line);\n    },\n\n    blankLine: function(state) {\n      var mode = state.innerActive ? state.innerActive.mode : outer;\n      if (mode.blankLine) {\n        mode.blankLine(state.innerActive ? state.inner : state.outer);\n      }\n      if (!state.innerActive) {\n        for (var i = 0; i < others.length; ++i) {\n          var other = others[i];\n          if (other.open === \"\\n\") {\n            state.innerActive = other;\n            state.inner = CodeMirror.startState(other.mode, mode.indent ? mode.indent(state.outer, \"\", \"\") : 0);\n          }\n        }\n      } else if (state.innerActive.close === \"\\n\") {\n        state.innerActive = state.inner = null;\n      }\n    },\n\n    electricChars: outer.electricChars,\n\n    innerMode: function(state) {\n      return state.inner ? {state: state.inner, mode: state.innerActive.mode} : {state: state.outer, mode: outer};\n    }\n  };\n};\n\n});\n","//-- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2020 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2017 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See docs/COPYRIGHT.rdoc for more details.\n//++\n\n/**************************************\n  IMPEDIMENT\n***************************************/\n\nRB.Impediment = (function ($) {\n  return RB.Object.create(RB.Task, {\n\n    initialize: function (el) {\n      var j;  // This ensures that we use a local 'j' variable, not a global one.\n\n      this.$ = j = $(el);\n      this.el = el;\n\n      j.addClass(\"impediment\"); // If node is based on #task_template, it doesn't have the impediment class yet\n\n      // Associate this object with the element for later retrieval\n      j.data('this', this);\n\n      j.on('mouseup', '.editable', this.handleClick);\n    },\n\n    // Override saveDirectives of RB.Task\n    saveDirectives: function () {\n      var j, prev, statusID, data, url;\n\n      j = this.$;\n      prev = this.$.prev();\n      statusID = j.parent('td').first().attr('id').split(\"_\")[1];\n\n      data = j.find('.editor').serialize() +\n                 \"&is_impediment=true\" +\n                 \"&version_id=\" + RB.constants.sprint_id +\n                 \"&status_id=\" + statusID +\n                 \"&prev=\" + (prev.length === 1 ? prev.data('this').getID() : '') +\n                 (this.isNew() ? \"\" : \"&id=\" + j.children('.id').text());\n\n      if (this.isNew()) {\n        url = RB.urlFor('create_impediment', {sprint_id: RB.constants.sprint_id});\n      }\n      else {\n        url = RB.urlFor('update_impediment', {id: this.getID(), sprint_id: RB.constants.sprint_id});\n        data += \"&_method=put\";\n      }\n\n      return {\n        url: url,\n        data: data\n      };\n    }\n  });\n}(jQuery));\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"../css/css\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"../css/css\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"sass\", function(config) {\n  var cssMode = CodeMirror.mimeModes[\"text/css\"];\n  var propertyKeywords = cssMode.propertyKeywords || {},\n      colorKeywords = cssMode.colorKeywords || {},\n      valueKeywords = cssMode.valueKeywords || {},\n      fontProperties = cssMode.fontProperties || {};\n\n  function tokenRegexp(words) {\n    return new RegExp(\"^\" + words.join(\"|\"));\n  }\n\n  var keywords = [\"true\", \"false\", \"null\", \"auto\"];\n  var keywordsRegexp = new RegExp(\"^\" + keywords.join(\"|\"));\n\n  var operators = [\"\\\\(\", \"\\\\)\", \"=\", \">\", \"<\", \"==\", \">=\", \"<=\", \"\\\\+\", \"-\",\n                   \"\\\\!=\", \"/\", \"\\\\*\", \"%\", \"and\", \"or\", \"not\", \";\",\"\\\\{\",\"\\\\}\",\":\"];\n  var opRegexp = tokenRegexp(operators);\n\n  var pseudoElementsRegexp = /^::?[a-zA-Z_][\\w\\-]*/;\n\n  var word;\n\n  function isEndLine(stream) {\n    return !stream.peek() || stream.match(/\\s+$/, false);\n  }\n\n  function urlTokens(stream, state) {\n    var ch = stream.peek();\n\n    if (ch === \")\") {\n      stream.next();\n      state.tokenizer = tokenBase;\n      return \"operator\";\n    } else if (ch === \"(\") {\n      stream.next();\n      stream.eatSpace();\n\n      return \"operator\";\n    } else if (ch === \"'\" || ch === '\"') {\n      state.tokenizer = buildStringTokenizer(stream.next());\n      return \"string\";\n    } else {\n      state.tokenizer = buildStringTokenizer(\")\", false);\n      return \"string\";\n    }\n  }\n  function comment(indentation, multiLine) {\n    return function(stream, state) {\n      if (stream.sol() && stream.indentation() <= indentation) {\n        state.tokenizer = tokenBase;\n        return tokenBase(stream, state);\n      }\n\n      if (multiLine && stream.skipTo(\"*/\")) {\n        stream.next();\n        stream.next();\n        state.tokenizer = tokenBase;\n      } else {\n        stream.skipToEnd();\n      }\n\n      return \"comment\";\n    };\n  }\n\n  function buildStringTokenizer(quote, greedy) {\n    if (greedy == null) { greedy = true; }\n\n    function stringTokenizer(stream, state) {\n      var nextChar = stream.next();\n      var peekChar = stream.peek();\n      var previousChar = stream.string.charAt(stream.pos-2);\n\n      var endingString = ((nextChar !== \"\\\\\" && peekChar === quote) || (nextChar === quote && previousChar !== \"\\\\\"));\n\n      if (endingString) {\n        if (nextChar !== quote && greedy) { stream.next(); }\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        state.tokenizer = tokenBase;\n        return \"string\";\n      } else if (nextChar === \"#\" && peekChar === \"{\") {\n        state.tokenizer = buildInterpolationTokenizer(stringTokenizer);\n        stream.next();\n        return \"operator\";\n      } else {\n        return \"string\";\n      }\n    }\n\n    return stringTokenizer;\n  }\n\n  function buildInterpolationTokenizer(currentTokenizer) {\n    return function(stream, state) {\n      if (stream.peek() === \"}\") {\n        stream.next();\n        state.tokenizer = currentTokenizer;\n        return \"operator\";\n      } else {\n        return tokenBase(stream, state);\n      }\n    };\n  }\n\n  function indent(state) {\n    if (state.indentCount == 0) {\n      state.indentCount++;\n      var lastScopeOffset = state.scopes[0].offset;\n      var currentOffset = lastScopeOffset + config.indentUnit;\n      state.scopes.unshift({ offset:currentOffset });\n    }\n  }\n\n  function dedent(state) {\n    if (state.scopes.length == 1) return;\n\n    state.scopes.shift();\n  }\n\n  function tokenBase(stream, state) {\n    var ch = stream.peek();\n\n    // Comment\n    if (stream.match(\"/*\")) {\n      state.tokenizer = comment(stream.indentation(), true);\n      return state.tokenizer(stream, state);\n    }\n    if (stream.match(\"//\")) {\n      state.tokenizer = comment(stream.indentation(), false);\n      return state.tokenizer(stream, state);\n    }\n\n    // Interpolation\n    if (stream.match(\"#{\")) {\n      state.tokenizer = buildInterpolationTokenizer(tokenBase);\n      return \"operator\";\n    }\n\n    // Strings\n    if (ch === '\"' || ch === \"'\") {\n      stream.next();\n      state.tokenizer = buildStringTokenizer(ch);\n      return \"string\";\n    }\n\n    if(!state.cursorHalf){// state.cursorHalf === 0\n    // first half i.e. before : for key-value pairs\n    // including selectors\n\n      if (ch === \"-\") {\n        if (stream.match(/^-\\w+-/)) {\n          return \"meta\";\n        }\n      }\n\n      if (ch === \".\") {\n        stream.next();\n        if (stream.match(/^[\\w-]+/)) {\n          indent(state);\n          return \"qualifier\";\n        } else if (stream.peek() === \"#\") {\n          indent(state);\n          return \"tag\";\n        }\n      }\n\n      if (ch === \"#\") {\n        stream.next();\n        // ID selectors\n        if (stream.match(/^[\\w-]+/)) {\n          indent(state);\n          return \"builtin\";\n        }\n        if (stream.peek() === \"#\") {\n          indent(state);\n          return \"tag\";\n        }\n      }\n\n      // Variables\n      if (ch === \"$\") {\n        stream.next();\n        stream.eatWhile(/[\\w-]/);\n        return \"variable-2\";\n      }\n\n      // Numbers\n      if (stream.match(/^-?[0-9\\.]+/))\n        return \"number\";\n\n      // Units\n      if (stream.match(/^(px|em|in)\\b/))\n        return \"unit\";\n\n      if (stream.match(keywordsRegexp))\n        return \"keyword\";\n\n      if (stream.match(/^url/) && stream.peek() === \"(\") {\n        state.tokenizer = urlTokens;\n        return \"atom\";\n      }\n\n      if (ch === \"=\") {\n        // Match shortcut mixin definition\n        if (stream.match(/^=[\\w-]+/)) {\n          indent(state);\n          return \"meta\";\n        }\n      }\n\n      if (ch === \"+\") {\n        // Match shortcut mixin definition\n        if (stream.match(/^\\+[\\w-]+/)){\n          return \"variable-3\";\n        }\n      }\n\n      if(ch === \"@\"){\n        if(stream.match(/@extend/)){\n          if(!stream.match(/\\s*[\\w]/))\n            dedent(state);\n        }\n      }\n\n\n      // Indent Directives\n      if (stream.match(/^@(else if|if|media|else|for|each|while|mixin|function)/)) {\n        indent(state);\n        return \"def\";\n      }\n\n      // Other Directives\n      if (ch === \"@\") {\n        stream.next();\n        stream.eatWhile(/[\\w-]/);\n        return \"def\";\n      }\n\n      if (stream.eatWhile(/[\\w-]/)){\n        if(stream.match(/ *: *[\\w-\\+\\$#!\\(\"']/,false)){\n          word = stream.current().toLowerCase();\n          var prop = state.prevProp + \"-\" + word;\n          if (propertyKeywords.hasOwnProperty(prop)) {\n            return \"property\";\n          } else if (propertyKeywords.hasOwnProperty(word)) {\n            state.prevProp = word;\n            return \"property\";\n          } else if (fontProperties.hasOwnProperty(word)) {\n            return \"property\";\n          }\n          return \"tag\";\n        }\n        else if(stream.match(/ *:/,false)){\n          indent(state);\n          state.cursorHalf = 1;\n          state.prevProp = stream.current().toLowerCase();\n          return \"property\";\n        }\n        else if(stream.match(/ *,/,false)){\n          return \"tag\";\n        }\n        else{\n          indent(state);\n          return \"tag\";\n        }\n      }\n\n      if(ch === \":\"){\n        if (stream.match(pseudoElementsRegexp)){ // could be a pseudo-element\n          return \"variable-3\";\n        }\n        stream.next();\n        state.cursorHalf=1;\n        return \"operator\";\n      }\n\n    } // cursorHalf===0 ends here\n    else{\n\n      if (ch === \"#\") {\n        stream.next();\n        // Hex numbers\n        if (stream.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)){\n          if (isEndLine(stream)) {\n            state.cursorHalf = 0;\n          }\n          return \"number\";\n        }\n      }\n\n      // Numbers\n      if (stream.match(/^-?[0-9\\.]+/)){\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"number\";\n      }\n\n      // Units\n      if (stream.match(/^(px|em|in)\\b/)){\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"unit\";\n      }\n\n      if (stream.match(keywordsRegexp)){\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"keyword\";\n      }\n\n      if (stream.match(/^url/) && stream.peek() === \"(\") {\n        state.tokenizer = urlTokens;\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"atom\";\n      }\n\n      // Variables\n      if (ch === \"$\") {\n        stream.next();\n        stream.eatWhile(/[\\w-]/);\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"variable-2\";\n      }\n\n      // bang character for !important, !default, etc.\n      if (ch === \"!\") {\n        stream.next();\n        state.cursorHalf = 0;\n        return stream.match(/^[\\w]+/) ? \"keyword\": \"operator\";\n      }\n\n      if (stream.match(opRegexp)){\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        return \"operator\";\n      }\n\n      // attributes\n      if (stream.eatWhile(/[\\w-]/)) {\n        if (isEndLine(stream)) {\n          state.cursorHalf = 0;\n        }\n        word = stream.current().toLowerCase();\n        if (valueKeywords.hasOwnProperty(word)) {\n          return \"atom\";\n        } else if (colorKeywords.hasOwnProperty(word)) {\n          return \"keyword\";\n        } else if (propertyKeywords.hasOwnProperty(word)) {\n          state.prevProp = stream.current().toLowerCase();\n          return \"property\";\n        } else {\n          return \"tag\";\n        }\n      }\n\n      //stream.eatSpace();\n      if (isEndLine(stream)) {\n        state.cursorHalf = 0;\n        return null;\n      }\n\n    } // else ends here\n\n    if (stream.match(opRegexp))\n      return \"operator\";\n\n    // If we haven't returned by now, we move 1 character\n    // and return an error\n    stream.next();\n    return null;\n  }\n\n  function tokenLexer(stream, state) {\n    if (stream.sol()) state.indentCount = 0;\n    var style = state.tokenizer(stream, state);\n    var current = stream.current();\n\n    if (current === \"@return\" || current === \"}\"){\n      dedent(state);\n    }\n\n    if (style !== null) {\n      var startOfToken = stream.pos - current.length;\n\n      var withCurrentIndent = startOfToken + (config.indentUnit * state.indentCount);\n\n      var newScopes = [];\n\n      for (var i = 0; i < state.scopes.length; i++) {\n        var scope = state.scopes[i];\n\n        if (scope.offset <= withCurrentIndent)\n          newScopes.push(scope);\n      }\n\n      state.scopes = newScopes;\n    }\n\n\n    return style;\n  }\n\n  return {\n    startState: function() {\n      return {\n        tokenizer: tokenBase,\n        scopes: [{offset: 0, type: \"sass\"}],\n        indentCount: 0,\n        cursorHalf: 0,  // cursor half tells us if cursor lies after (1)\n                        // or before (0) colon (well... more or less)\n        definedVars: [],\n        definedMixins: []\n      };\n    },\n    token: function(stream, state) {\n      var style = tokenLexer(stream, state);\n\n      state.lastToken = { style: style, content: stream.current() };\n\n      return style;\n    },\n\n    indent: function(state) {\n      return state.scopes[0].offset;\n    }\n  };\n}, \"css\");\n\nCodeMirror.defineMIME(\"text/x-sass\", \"sass\");\n\n});\n","//-- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2020 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2017 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See docs/COPYRIGHT.rdoc for more details.\n//++\n\n// Initialize the backlogs after DOM is loaded\njQuery(function ($) {\n\n  // Initialize each backlog\n  $('.backlog').each(function (index) {\n    // 'this' refers to an element with class=\"backlog\"\n    RB.Factory.initialize(RB.Backlog, this);\n  });\n\n  $('.backlog .toggler').on('click',function(){\n    $(this).toggleClass('closed icon-arrow-up1 icon-arrow-down1');\n    $(this).parents('.backlog').find('ul.stories').toggleClass('closed');\n  });\n});\n","//-- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2020 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2017 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See docs/COPYRIGHT.rdoc for more details.\n//++\n\n/**************************************\n  WORK PACKAGE\n***************************************/\nRB.WorkPackage = (function ($) {\n  return RB.Object.create(RB.Model, {\n\n    initialize: function (el) {\n      this.$ = $(el);\n      this.el = el;\n    },\n\n    beforeSaveDragResult: function () {\n      // Do nothing\n    },\n\n    getType: function () {\n      return \"WorkPackage\";\n    },\n\n    saveDragResult: function () {\n      this.beforeSaveDragResult();\n      if (!this.$.hasClass('editing')) {\n        this.saveEdits();\n      }\n    }\n  });\n}(jQuery));\n","//-- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2020 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2017 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See docs/COPYRIGHT.rdoc for more details.\n//++\n\n/******************************************\n  BACKLOG\n  A backlog is a visual representation of\n  a sprint and its stories. It is not a\n  sprint. Imagine it this way: A sprint is\n  a start and end date, and a set of\n  objectives. A backlog is something you\n  would draw up on the board or a spread-\n  sheet (or in Redmine Backlogs!) to\n  visualize the sprint.\n******************************************/\n\nRB.Backlog = (function ($) {\n  return RB.Object.create({\n\n    initialize: function (el) {\n      this.$ = $(el);\n      this.el = el;\n\n      // Associate this object with the element for later retrieval\n      this.$.data('this', this);\n\n      // Make the list sortable\n      this.getList().sortable({\n        connectWith: '.stories',\n        dropOnEmpty: true,\n        start:   this.dragStart,\n        stop:    this.dragStop,\n        update:  this.dragComplete,\n        receive: this.dragChanged,\n        remove:  this.dragChanged,\n        containment: $('#backlogs_container'),\n        scroll: true,\n        helper: function(event, ui){\n          var $clone =  $(ui).clone();\n          $clone .css('position','absolute');\n          return $clone.get(0);\n        }\n      });\n\n      // Observe menu items\n      this.$.find('.add_new_story').click(this.handleNewStoryClick);\n\n      if (this.isSprintBacklog()) {\n        RB.Factory.initialize(RB.Sprint, this.getSprint());\n        this.burndown = RB.Factory.initialize(RB.Burndown, this.$.find('.show_burndown_chart'));\n        this.burndown.setSprintId(this.getSprint().data('this').getID());\n      }\n\n      // Initialize each item in the backlog\n      this.getStories().each(function (index) {\n        // 'this' refers to an element with class=\"story\"\n        RB.Factory.initialize(RB.Story, this);\n      });\n\n      if (this.isSprintBacklog()) {\n        this.refresh();\n      }\n    },\n\n    dragChanged: function (e, ui) {\n      $(this).parents('.backlog').data('this').refresh();\n    },\n\n    dragComplete: function (e, ui) {\n      var isDropTarget = (ui.sender === null || ui.sender === undefined);\n\n      // jQuery triggers dragComplete of source and target.\n      // Thus we have to check here. Otherwise, the story\n      // would be saved twice.\n      if (isDropTarget) {\n        ui.item.data('this').saveDragResult();\n      }\n    },\n\n    dragStart: function (e, ui) {\n      ui.item.addClass(\"dragging\");\n    },\n\n    dragStop: function (e, ui) {\n      ui.item.removeClass(\"dragging\");\n    },\n\n    getSprint: function () {\n      return $(this.el).find(\".model.sprint\").first();\n    },\n\n    getStories: function () {\n      return this.getList().children(\".story\");\n    },\n\n    getList: function () {\n      return this.$.children(\".stories\").first();\n    },\n\n    handleNewStoryClick: function (e) {\n      var toggler = $(this).parents('.header').find('.toggler');\n      if (toggler.hasClass('closed')){\n        toggler.click();\n      }\n      e.preventDefault();\n      $(this).parents('.backlog').data('this').newStory();\n    },\n\n    // return true if backlog has an element with class=\"sprint\"\n    isSprintBacklog: function () {\n      return $(this.el).find('.sprint').length === 1;\n    },\n\n    newStory: function () {\n      var story, o;\n\n      story = $('#story_template').children().first().clone();\n      this.getList().prepend(story);\n\n      o = RB.Factory.initialize(RB.Story, story[0]);\n      o.edit();\n\n      story.find('.editor').first().focus();\n    },\n\n    refresh : function () {\n      this.recalcVelocity();\n      this.recalcOddity();\n    },\n\n    recalcVelocity: function () {\n      var total;\n\n      if (!this.isSprintBacklog()) {\n        return true;\n      }\n\n      total = 0;\n      this.getStories().each(function (index) {\n        total += $(this).data('this').getPoints();\n      });\n      this.$.children('.header').children('.velocity').text(total);\n    },\n\n    recalcOddity : function () {\n      this.$.find('.story:even').removeClass('odd').addClass('even');\n      this.$.find('.story:odd').removeClass('even').addClass('odd');\n    }\n  });\n}(jQuery));\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineSimpleMode = function(name, states) {\n    CodeMirror.defineMode(name, function(config) {\n      return CodeMirror.simpleMode(config, states);\n    });\n  };\n\n  CodeMirror.simpleMode = function(config, states) {\n    ensureState(states, \"start\");\n    var states_ = {}, meta = states.meta || {}, hasIndentation = false;\n    for (var state in states) if (state != meta && states.hasOwnProperty(state)) {\n      var list = states_[state] = [], orig = states[state];\n      for (var i = 0; i < orig.length; i++) {\n        var data = orig[i];\n        list.push(new Rule(data, states));\n        if (data.indent || data.dedent) hasIndentation = true;\n      }\n    }\n    var mode = {\n      startState: function() {\n        return {state: \"start\", pending: null,\n                local: null, localState: null,\n                indent: hasIndentation ? [] : null};\n      },\n      copyState: function(state) {\n        var s = {state: state.state, pending: state.pending,\n                 local: state.local, localState: null,\n                 indent: state.indent && state.indent.slice(0)};\n        if (state.localState)\n          s.localState = CodeMirror.copyState(state.local.mode, state.localState);\n        if (state.stack)\n          s.stack = state.stack.slice(0);\n        for (var pers = state.persistentStates; pers; pers = pers.next)\n          s.persistentStates = {mode: pers.mode,\n                                spec: pers.spec,\n                                state: pers.state == state.localState ? s.localState : CodeMirror.copyState(pers.mode, pers.state),\n                                next: s.persistentStates};\n        return s;\n      },\n      token: tokenFunction(states_, config),\n      innerMode: function(state) { return state.local && {mode: state.local.mode, state: state.localState}; },\n      indent: indentFunction(states_, meta)\n    };\n    if (meta) for (var prop in meta) if (meta.hasOwnProperty(prop))\n      mode[prop] = meta[prop];\n    return mode;\n  };\n\n  function ensureState(states, name) {\n    if (!states.hasOwnProperty(name))\n      throw new Error(\"Undefined state \" + name + \" in simple mode\");\n  }\n\n  function toRegex(val, caret) {\n    if (!val) return /(?:)/;\n    var flags = \"\";\n    if (val instanceof RegExp) {\n      if (val.ignoreCase) flags = \"i\";\n      val = val.source;\n    } else {\n      val = String(val);\n    }\n    return new RegExp((caret === false ? \"\" : \"^\") + \"(?:\" + val + \")\", flags);\n  }\n\n  function asToken(val) {\n    if (!val) return null;\n    if (val.apply) return val\n    if (typeof val == \"string\") return val.replace(/\\./g, \" \");\n    var result = [];\n    for (var i = 0; i < val.length; i++)\n      result.push(val[i] && val[i].replace(/\\./g, \" \"));\n    return result;\n  }\n\n  function Rule(data, states) {\n    if (data.next || data.push) ensureState(states, data.next || data.push);\n    this.regex = toRegex(data.regex);\n    this.token = asToken(data.token);\n    this.data = data;\n  }\n\n  function tokenFunction(states, config) {\n    return function(stream, state) {\n      if (state.pending) {\n        var pend = state.pending.shift();\n        if (state.pending.length == 0) state.pending = null;\n        stream.pos += pend.text.length;\n        return pend.token;\n      }\n\n      if (state.local) {\n        if (state.local.end && stream.match(state.local.end)) {\n          var tok = state.local.endToken || null;\n          state.local = state.localState = null;\n          return tok;\n        } else {\n          var tok = state.local.mode.token(stream, state.localState), m;\n          if (state.local.endScan && (m = state.local.endScan.exec(stream.current())))\n            stream.pos = stream.start + m.index;\n          return tok;\n        }\n      }\n\n      var curState = states[state.state];\n      for (var i = 0; i < curState.length; i++) {\n        var rule = curState[i];\n        var matches = (!rule.data.sol || stream.sol()) && stream.match(rule.regex);\n        if (matches) {\n          if (rule.data.next) {\n            state.state = rule.data.next;\n          } else if (rule.data.push) {\n            (state.stack || (state.stack = [])).push(state.state);\n            state.state = rule.data.push;\n          } else if (rule.data.pop && state.stack && state.stack.length) {\n            state.state = state.stack.pop();\n          }\n\n          if (rule.data.mode)\n            enterLocalMode(config, state, rule.data.mode, rule.token);\n          if (rule.data.indent)\n            state.indent.push(stream.indentation() + config.indentUnit);\n          if (rule.data.dedent)\n            state.indent.pop();\n          var token = rule.token\n          if (token && token.apply) token = token(matches)\n          if (matches.length > 2 && rule.token && typeof rule.token != \"string\") {\n            state.pending = [];\n            for (var j = 2; j < matches.length; j++)\n              if (matches[j])\n                state.pending.push({text: matches[j], token: rule.token[j - 1]});\n            stream.backUp(matches[0].length - (matches[1] ? matches[1].length : 0));\n            return token[0];\n          } else if (token && token.join) {\n            return token[0];\n          } else {\n            return token;\n          }\n        }\n      }\n      stream.next();\n      return null;\n    };\n  }\n\n  function cmp(a, b) {\n    if (a === b) return true;\n    if (!a || typeof a != \"object\" || !b || typeof b != \"object\") return false;\n    var props = 0;\n    for (var prop in a) if (a.hasOwnProperty(prop)) {\n      if (!b.hasOwnProperty(prop) || !cmp(a[prop], b[prop])) return false;\n      props++;\n    }\n    for (var prop in b) if (b.hasOwnProperty(prop)) props--;\n    return props == 0;\n  }\n\n  function enterLocalMode(config, state, spec, token) {\n    var pers;\n    if (spec.persistent) for (var p = state.persistentStates; p && !pers; p = p.next)\n      if (spec.spec ? cmp(spec.spec, p.spec) : spec.mode == p.mode) pers = p;\n    var mode = pers ? pers.mode : spec.mode || CodeMirror.getMode(config, spec.spec);\n    var lState = pers ? pers.state : CodeMirror.startState(mode);\n    if (spec.persistent && !pers)\n      state.persistentStates = {mode: mode, spec: spec.spec, state: lState, next: state.persistentStates};\n\n    state.localState = lState;\n    state.local = {mode: mode,\n                   end: spec.end && toRegex(spec.end),\n                   endScan: spec.end && spec.forceEnd !== false && toRegex(spec.end, false),\n                   endToken: token && token.join ? token[token.length - 1] : token};\n  }\n\n  function indexOf(val, arr) {\n    for (var i = 0; i < arr.length; i++) if (arr[i] === val) return true;\n  }\n\n  function indentFunction(states, meta) {\n    return function(state, textAfter, line) {\n      if (state.local && state.local.mode.indent)\n        return state.local.mode.indent(state.localState, textAfter, line);\n      if (state.indent == null || state.local || meta.dontIndentStates && indexOf(state.state, meta.dontIndentStates) > -1)\n        return CodeMirror.Pass;\n\n      var pos = state.indent.length - 1, rules = states[state.state];\n      scan: for (;;) {\n        for (var i = 0; i < rules.length; i++) {\n          var rule = rules[i];\n          if (rule.data.dedent && rule.data.dedentIfLineStart !== false) {\n            var m = rule.regex.exec(textAfter);\n            if (m && m[0]) {\n              pos--;\n              if (rule.next || rule.push) rules = states[rule.next || rule.push];\n              textAfter = textAfter.slice(m[0].length);\n              continue scan;\n            }\n          }\n        }\n        break;\n      }\n      return pos < 0 ? 0 : state.indent[pos];\n    };\n  }\n});\n","//-- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2020 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2017 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See docs/COPYRIGHT.rdoc for more details.\n//++\n\n/***************************************\n  TASKBOARD\n***************************************/\n\nRB.Taskboard = (function ($) {\n  return RB.Object.create(RB.Model, {\n\n    initialize: function (el) {\n      var self = this; // So we can bind the event handlers to this object\n\n      this.$ = $(el);\n      this.el = el;\n\n      // Associate this object with the element for later retrieval\n      this.$.data('this', this);\n\n      // Initialize column widths\n      this.colWidthUnit = $(\".swimlane\").width();\n      this.defaultColWidth = 1;\n      this.loadColWidthPreference();\n      this.updateColWidths();\n\n      $(\"#col_width input\").keyup(function (e) {\n        if (e.which === 13) {\n          self.updateColWidths();\n        }\n      });\n\n      this.initializeTasks();\n      this.initializeImpediments();\n\n      this.initializeNewButtons();\n      this.initializeSortables();\n\n      this.initializeTaskboardMenus();\n    },\n\n    initializeNewButtons : function () {\n      this.$.find('#tasks .add_new.clickable').click(this.handleAddNewTaskClick);\n      this.$.find('#impediments .add_new.clickable').click(this.handleAddNewImpedimentClick);\n    },\n\n    initializeSortables : function () {\n      this.$.find('#impediments .list').sortable({\n        placeholder: 'placeholder',\n        start:  this.dragStart,\n        stop:   this.dragStop,\n        update: this.dragComplete,\n        cancel: '.prevent_edit'\n      }).sortable('option', 'connectWith', '#impediments .list');\n      $('#impediments .list').disableSelection();\n\n      var list, augmentList, self = this;\n\n      list = this.$.find('#tasks .list');\n\n      augmentList = function () {\n        $(list.splice(0, 50)).sortable({\n          placeholder: 'placeholder',\n          start:  self.dragStart,\n          stop:   self.dragStop,\n          update: self.dragComplete,\n          cancel: '.prevent_edit'\n        }).sortable('option', 'connectWith', '#tasks .list');\n        $('#tasks .list').disableSelection();\n\n        if (list.length > 0) {\n          /*globals setTimeout*/\n          setTimeout(augmentList, 10);\n        }\n      };\n      augmentList();\n    },\n\n    initializeTasks : function () {\n      this.$.find('.task').each(function (index) {\n        RB.Factory.initialize(RB.Task, this);\n      });\n    },\n\n    initializeImpediments : function () {\n      this.$.find('.impediment').each(function (index) {\n        RB.Factory.initialize(RB.Impediment, this);\n      });\n    },\n\n    initializeTaskboardMenus : function () {\n      var toggleOpen = \"open icon-pulldown-up icon-pulldown\";\n\n      $(\".backlog .menu > div.menu-trigger\").on(\"click\", function() {\n        $(this).toggleClass(toggleOpen);\n      });\n\n      $(\".backlog .menu > ul.items li.item\").on(\"click\", function() {\n        $(this).closest(\".menu\").find(\"div.menu-trigger\").toggleClass(toggleOpen);\n      });\n    },\n\n    dragComplete: function (e, ui) {\n      // Handler is triggered for source and target. Thus the need to check.\n      var isDropTarget = (ui.sender === null);\n\n      if (isDropTarget) {\n        ui.item.data('this').saveDragResult();\n      }\n    },\n\n    dragStart: function (e, ui) {\n      ui.item.addClass(\"dragging\");\n    },\n\n    dragStop: function (e, ui) {\n      ui.item.removeClass(\"dragging\");\n    },\n\n    handleAddNewImpedimentClick: function (e) {\n      var row = $(this).parents(\"tr\").first();\n      $('#taskboard').data('this').newImpediment(row);\n    },\n\n    handleAddNewTaskClick: function (e) {\n      var row = $(this).parents(\"tr\").first();\n      $('#taskboard').data('this').newTask(row);\n    },\n\n    loadColWidthPreference: function () {\n      var w = RB.UserPreferences.get('taskboardColWidth');\n      if (w === null || w === undefined) {\n        w = this.defaultColWidth;\n        RB.UserPreferences.set('taskboardColWidth', w);\n      }\n      $(\"#col_width input\").val(w);\n    },\n\n    newImpediment: function (row) {\n      var impediment, o;\n\n      impediment = $('#impediment_template').children().first().clone();\n      row.find(\".list\").first().prepend(impediment);\n\n      o = RB.Factory.initialize(RB.Impediment, impediment);\n      o.edit();\n    },\n\n    newTask: function (row) {\n      var task, o;\n\n      task = $('#task_template').children().first().clone();\n      row.find(\".list\").first().prepend(task);\n\n      o = RB.Factory.initialize(RB.Task, task);\n      o.edit();\n    },\n\n    updateColWidths: function () {\n      var w = parseInt($(\"#col_width input\").val(), 10);\n\n      if (isNaN(w) || w <= 0) {\n        w = this.defaultColWidth;\n      }\n      $(\"#col_width input\").val(w);\n      RB.UserPreferences.set('taskboardColWidth', w);\n      $(\".swimlane\").width(this.colWidthUnit * w).css('min-width', this.colWidthUnit * w);\n    }\n  });\n}(jQuery));\n","//-- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2020 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2017 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See docs/COPYRIGHT.rdoc for more details.\n//++\n\n/***************************************\n  SPRINT\n***************************************/\n\nRB.Sprint = (function ($) {\n  return RB.Object.create(RB.Model, RB.EditableInplace, {\n\n    initialize: function (el) {\n      this.$ = $(el);\n      this.el = el;\n\n      // Associate this object with the element for later retrieval\n      this.$.data('this', this);\n      this.$.on('mouseup', '.editable', this.handleClick);\n    },\n\n    beforeSave: function () {\n      // Do nothing\n    },\n\n    getType: function () {\n      return \"Sprint\";\n    },\n\n    markIfClosed: function () {\n      // Do nothing\n    },\n\n    refreshed: function () {\n      // Do nothing\n    },\n\n    saveDirectives: function () {\n      var j = this.$,\n          data = j.find('.editor').serialize() + \"&_method=put\",\n          url = RB.urlFor('update_sprint', { id: this.getID() });\n\n      return {\n        url : url,\n        data: data\n      };\n    },\n\n    beforeSaveDragResult: function () {\n      // Do nothing\n    }\n  });\n}(jQuery));\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"ruby\", function(config) {\n  function wordObj(words) {\n    var o = {};\n    for (var i = 0, e = words.length; i < e; ++i) o[words[i]] = true;\n    return o;\n  }\n  var keywords = wordObj([\n    \"alias\", \"and\", \"BEGIN\", \"begin\", \"break\", \"case\", \"class\", \"def\", \"defined?\", \"do\", \"else\",\n    \"elsif\", \"END\", \"end\", \"ensure\", \"false\", \"for\", \"if\", \"in\", \"module\", \"next\", \"not\", \"or\",\n    \"redo\", \"rescue\", \"retry\", \"return\", \"self\", \"super\", \"then\", \"true\", \"undef\", \"unless\",\n    \"until\", \"when\", \"while\", \"yield\", \"nil\", \"raise\", \"throw\", \"catch\", \"fail\", \"loop\", \"callcc\",\n    \"caller\", \"lambda\", \"proc\", \"public\", \"protected\", \"private\", \"require\", \"load\",\n    \"require_relative\", \"extend\", \"autoload\", \"__END__\", \"__FILE__\", \"__LINE__\", \"__dir__\"\n  ]);\n  var indentWords = wordObj([\"def\", \"class\", \"case\", \"for\", \"while\", \"until\", \"module\", \"then\",\n                             \"catch\", \"loop\", \"proc\", \"begin\"]);\n  var dedentWords = wordObj([\"end\", \"until\"]);\n  var opening = {\"[\": \"]\", \"{\": \"}\", \"(\": \")\"};\n  var closing = {\"]\": \"[\", \"}\": \"{\", \")\": \"(\"};\n  var curPunc;\n\n  function chain(newtok, stream, state) {\n    state.tokenize.push(newtok);\n    return newtok(stream, state);\n  }\n\n  function tokenBase(stream, state) {\n    if (stream.sol() && stream.match(\"=begin\") && stream.eol()) {\n      state.tokenize.push(readBlockComment);\n      return \"comment\";\n    }\n    if (stream.eatSpace()) return null;\n    var ch = stream.next(), m;\n    if (ch == \"`\" || ch == \"'\" || ch == '\"') {\n      return chain(readQuoted(ch, \"string\", ch == '\"' || ch == \"`\"), stream, state);\n    } else if (ch == \"/\") {\n      if (regexpAhead(stream))\n        return chain(readQuoted(ch, \"string-2\", true), stream, state);\n      else\n        return \"operator\";\n    } else if (ch == \"%\") {\n      var style = \"string\", embed = true;\n      if (stream.eat(\"s\")) style = \"atom\";\n      else if (stream.eat(/[WQ]/)) style = \"string\";\n      else if (stream.eat(/[r]/)) style = \"string-2\";\n      else if (stream.eat(/[wxq]/)) { style = \"string\"; embed = false; }\n      var delim = stream.eat(/[^\\w\\s=]/);\n      if (!delim) return \"operator\";\n      if (opening.propertyIsEnumerable(delim)) delim = opening[delim];\n      return chain(readQuoted(delim, style, embed, true), stream, state);\n    } else if (ch == \"#\") {\n      stream.skipToEnd();\n      return \"comment\";\n    } else if (ch == \"<\" && (m = stream.match(/^<([-~])[\\`\\\"\\']?([a-zA-Z_?]\\w*)[\\`\\\"\\']?(?:;|$)/))) {\n      return chain(readHereDoc(m[2], m[1]), stream, state);\n    } else if (ch == \"0\") {\n      if (stream.eat(\"x\")) stream.eatWhile(/[\\da-fA-F]/);\n      else if (stream.eat(\"b\")) stream.eatWhile(/[01]/);\n      else stream.eatWhile(/[0-7]/);\n      return \"number\";\n    } else if (/\\d/.test(ch)) {\n      stream.match(/^[\\d_]*(?:\\.[\\d_]+)?(?:[eE][+\\-]?[\\d_]+)?/);\n      return \"number\";\n    } else if (ch == \"?\") {\n      while (stream.match(/^\\\\[CM]-/)) {}\n      if (stream.eat(\"\\\\\")) stream.eatWhile(/\\w/);\n      else stream.next();\n      return \"string\";\n    } else if (ch == \":\") {\n      if (stream.eat(\"'\")) return chain(readQuoted(\"'\", \"atom\", false), stream, state);\n      if (stream.eat('\"')) return chain(readQuoted('\"', \"atom\", true), stream, state);\n\n      // :> :>> :< :<< are valid symbols\n      if (stream.eat(/[\\<\\>]/)) {\n        stream.eat(/[\\<\\>]/);\n        return \"atom\";\n      }\n\n      // :+ :- :/ :* :| :& :! are valid symbols\n      if (stream.eat(/[\\+\\-\\*\\/\\&\\|\\:\\!]/)) {\n        return \"atom\";\n      }\n\n      // Symbols can't start by a digit\n      if (stream.eat(/[a-zA-Z$@_\\xa1-\\uffff]/)) {\n        stream.eatWhile(/[\\w$\\xa1-\\uffff]/);\n        // Only one ? ! = is allowed and only as the last character\n        stream.eat(/[\\?\\!\\=]/);\n        return \"atom\";\n      }\n      return \"operator\";\n    } else if (ch == \"@\" && stream.match(/^@?[a-zA-Z_\\xa1-\\uffff]/)) {\n      stream.eat(\"@\");\n      stream.eatWhile(/[\\w\\xa1-\\uffff]/);\n      return \"variable-2\";\n    } else if (ch == \"$\") {\n      if (stream.eat(/[a-zA-Z_]/)) {\n        stream.eatWhile(/[\\w]/);\n      } else if (stream.eat(/\\d/)) {\n        stream.eat(/\\d/);\n      } else {\n        stream.next(); // Must be a special global like $: or $!\n      }\n      return \"variable-3\";\n    } else if (/[a-zA-Z_\\xa1-\\uffff]/.test(ch)) {\n      stream.eatWhile(/[\\w\\xa1-\\uffff]/);\n      stream.eat(/[\\?\\!]/);\n      if (stream.eat(\":\")) return \"atom\";\n      return \"ident\";\n    } else if (ch == \"|\" && (state.varList || state.lastTok == \"{\" || state.lastTok == \"do\")) {\n      curPunc = \"|\";\n      return null;\n    } else if (/[\\(\\)\\[\\]{}\\\\;]/.test(ch)) {\n      curPunc = ch;\n      return null;\n    } else if (ch == \"-\" && stream.eat(\">\")) {\n      return \"arrow\";\n    } else if (/[=+\\-\\/*:\\.^%<>~|]/.test(ch)) {\n      var more = stream.eatWhile(/[=+\\-\\/*:\\.^%<>~|]/);\n      if (ch == \".\" && !more) curPunc = \".\";\n      return \"operator\";\n    } else {\n      return null;\n    }\n  }\n\n  function regexpAhead(stream) {\n    var start = stream.pos, depth = 0, next, found = false, escaped = false\n    while ((next = stream.next()) != null) {\n      if (!escaped) {\n        if (\"[{(\".indexOf(next) > -1) {\n          depth++\n        } else if (\"]})\".indexOf(next) > -1) {\n          depth--\n          if (depth < 0) break\n        } else if (next == \"/\" && depth == 0) {\n          found = true\n          break\n        }\n        escaped = next == \"\\\\\"\n      } else {\n        escaped = false\n      }\n    }\n    stream.backUp(stream.pos - start)\n    return found\n  }\n\n  function tokenBaseUntilBrace(depth) {\n    if (!depth) depth = 1;\n    return function(stream, state) {\n      if (stream.peek() == \"}\") {\n        if (depth == 1) {\n          state.tokenize.pop();\n          return state.tokenize[state.tokenize.length-1](stream, state);\n        } else {\n          state.tokenize[state.tokenize.length - 1] = tokenBaseUntilBrace(depth - 1);\n        }\n      } else if (stream.peek() == \"{\") {\n        state.tokenize[state.tokenize.length - 1] = tokenBaseUntilBrace(depth + 1);\n      }\n      return tokenBase(stream, state);\n    };\n  }\n  function tokenBaseOnce() {\n    var alreadyCalled = false;\n    return function(stream, state) {\n      if (alreadyCalled) {\n        state.tokenize.pop();\n        return state.tokenize[state.tokenize.length-1](stream, state);\n      }\n      alreadyCalled = true;\n      return tokenBase(stream, state);\n    };\n  }\n  function readQuoted(quote, style, embed, unescaped) {\n    return function(stream, state) {\n      var escaped = false, ch;\n\n      if (state.context.type === 'read-quoted-paused') {\n        state.context = state.context.prev;\n        stream.eat(\"}\");\n      }\n\n      while ((ch = stream.next()) != null) {\n        if (ch == quote && (unescaped || !escaped)) {\n          state.tokenize.pop();\n          break;\n        }\n        if (embed && ch == \"#\" && !escaped) {\n          if (stream.eat(\"{\")) {\n            if (quote == \"}\") {\n              state.context = {prev: state.context, type: 'read-quoted-paused'};\n            }\n            state.tokenize.push(tokenBaseUntilBrace());\n            break;\n          } else if (/[@\\$]/.test(stream.peek())) {\n            state.tokenize.push(tokenBaseOnce());\n            break;\n          }\n        }\n        escaped = !escaped && ch == \"\\\\\";\n      }\n      return style;\n    };\n  }\n  function readHereDoc(phrase, mayIndent) {\n    return function(stream, state) {\n      if (mayIndent) stream.eatSpace()\n      if (stream.match(phrase)) state.tokenize.pop();\n      else stream.skipToEnd();\n      return \"string\";\n    };\n  }\n  function readBlockComment(stream, state) {\n    if (stream.sol() && stream.match(\"=end\") && stream.eol())\n      state.tokenize.pop();\n    stream.skipToEnd();\n    return \"comment\";\n  }\n\n  return {\n    startState: function() {\n      return {tokenize: [tokenBase],\n              indented: 0,\n              context: {type: \"top\", indented: -config.indentUnit},\n              continuedLine: false,\n              lastTok: null,\n              varList: false};\n    },\n\n    token: function(stream, state) {\n      curPunc = null;\n      if (stream.sol()) state.indented = stream.indentation();\n      var style = state.tokenize[state.tokenize.length-1](stream, state), kwtype;\n      var thisTok = curPunc;\n      if (style == \"ident\") {\n        var word = stream.current();\n        style = state.lastTok == \".\" ? \"property\"\n          : keywords.propertyIsEnumerable(stream.current()) ? \"keyword\"\n          : /^[A-Z]/.test(word) ? \"tag\"\n          : (state.lastTok == \"def\" || state.lastTok == \"class\" || state.varList) ? \"def\"\n          : \"variable\";\n        if (style == \"keyword\") {\n          thisTok = word;\n          if (indentWords.propertyIsEnumerable(word)) kwtype = \"indent\";\n          else if (dedentWords.propertyIsEnumerable(word)) kwtype = \"dedent\";\n          else if ((word == \"if\" || word == \"unless\") && stream.column() == stream.indentation())\n            kwtype = \"indent\";\n          else if (word == \"do\" && state.context.indented < state.indented)\n            kwtype = \"indent\";\n        }\n      }\n      if (curPunc || (style && style != \"comment\")) state.lastTok = thisTok;\n      if (curPunc == \"|\") state.varList = !state.varList;\n\n      if (kwtype == \"indent\" || /[\\(\\[\\{]/.test(curPunc))\n        state.context = {prev: state.context, type: curPunc || style, indented: state.indented};\n      else if ((kwtype == \"dedent\" || /[\\)\\]\\}]/.test(curPunc)) && state.context.prev)\n        state.context = state.context.prev;\n\n      if (stream.eol())\n        state.continuedLine = (curPunc == \"\\\\\" || style == \"operator\");\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize[state.tokenize.length-1] != tokenBase) return CodeMirror.Pass;\n      var firstChar = textAfter && textAfter.charAt(0);\n      var ct = state.context;\n      var closed = ct.type == closing[firstChar] ||\n        ct.type == \"keyword\" && /^(?:end|until|else|elsif|when|rescue)\\b/.test(textAfter);\n      return ct.indented + (closed ? 0 : config.indentUnit) +\n        (state.continuedLine ? config.indentUnit : 0);\n    },\n\n    electricInput: /^\\s*(?:end|rescue|elsif|else|\\})$/,\n    lineComment: \"#\",\n    fold: \"indent\"\n  };\n});\n\nCodeMirror.defineMIME(\"text/x-ruby\", \"ruby\");\n\n});\n","//-- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2020 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2017 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See docs/COPYRIGHT.rdoc for more details.\n//++\n\nRB.Burndown = (function ($) {\n  return RB.Object.create({\n\n    initialize: function (el) {\n      this.$ = $(el);\n      this.el = el;\n\n      // Associate this object with the element for later retrieval\n      this.$.data('this', this);\n\n      // Observe menu items\n      this.$.click(this.show);\n    },\n\n    setSprintId : function (sprintId) {\n      this.sprintId = sprintId;\n    },\n\n    getSprintId : function (){\n      return this.sprintId;\n    },\n\n    show: function (e) {\n      e.preventDefault();\n\n      if ($(\"#charts\").length === 0) {\n        $('<div id=\"charts\"></div>').appendTo(\"body\");\n      }\n      $('#charts').html(\"<div class='loading'>\" + RB.i18n.generating_graph + \"</div>\");\n\n      var url = RB.urlFor('show_burndown_chart', { sprint_id: $(this).data('this').sprintId, project_id: RB.constants.project_id});\n      window.open(url);\n    }\n  });\n}(jQuery));\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// Utility function that allows modes to be combined. The mode given\n// as the base argument takes care of most of the normal mode\n// functionality, but a second (typically simple) mode is used, which\n// can override the style of text. Both modes get to parse all of the\n// text, but when both assign a non-null style to a piece of code, the\n// overlay wins, unless the combine argument was true and not overridden,\n// or state.overlay.combineTokens was true, in which case the styles are\n// combined.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.overlayMode = function(base, overlay, combine) {\n  return {\n    startState: function() {\n      return {\n        base: CodeMirror.startState(base),\n        overlay: CodeMirror.startState(overlay),\n        basePos: 0, baseCur: null,\n        overlayPos: 0, overlayCur: null,\n        streamSeen: null\n      };\n    },\n    copyState: function(state) {\n      return {\n        base: CodeMirror.copyState(base, state.base),\n        overlay: CodeMirror.copyState(overlay, state.overlay),\n        basePos: state.basePos, baseCur: null,\n        overlayPos: state.overlayPos, overlayCur: null\n      };\n    },\n\n    token: function(stream, state) {\n      if (stream != state.streamSeen ||\n          Math.min(state.basePos, state.overlayPos) < stream.start) {\n        state.streamSeen = stream;\n        state.basePos = state.overlayPos = stream.start;\n      }\n\n      if (stream.start == state.basePos) {\n        state.baseCur = base.token(stream, state.base);\n        state.basePos = stream.pos;\n      }\n      if (stream.start == state.overlayPos) {\n        stream.pos = stream.start;\n        state.overlayCur = overlay.token(stream, state.overlay);\n        state.overlayPos = stream.pos;\n      }\n      stream.pos = Math.min(state.basePos, state.overlayPos);\n\n      // state.overlay.combineTokens always takes precedence over combine,\n      // unless set to null\n      if (state.overlayCur == null) return state.baseCur;\n      else if (state.baseCur != null &&\n               state.overlay.combineTokens ||\n               combine && state.overlay.combineTokens == null)\n        return state.baseCur + \" \" + state.overlayCur;\n      else return state.overlayCur;\n    },\n\n    indent: base.indent && function(state, textAfter, line) {\n      return base.indent(state.base, textAfter, line);\n    },\n    electricChars: base.electricChars,\n\n    innerMode: function(state) { return {state: state.base, mode: base}; },\n\n    blankLine: function(state) {\n      var baseToken, overlayToken;\n      if (base.blankLine) baseToken = base.blankLine(state.base);\n      if (overlay.blankLine) overlayToken = overlay.blankLine(state.overlay);\n\n      return overlayToken == null ?\n        baseToken :\n        (combine && baseToken != null ? baseToken + \" \" + overlayToken : overlayToken);\n    }\n  };\n};\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n/**\n * Link to the project's GitHub page:\n * https://github.com/pickhardt/coffeescript-codemirror-mode\n */\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"coffeescript\", function(conf, parserConf) {\n  var ERRORCLASS = \"error\";\n\n  function wordRegexp(words) {\n    return new RegExp(\"^((\" + words.join(\")|(\") + \"))\\\\b\");\n  }\n\n  var operators = /^(?:->|=>|\\+[+=]?|-[\\-=]?|\\*[\\*=]?|\\/[\\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\\|=?|\\^=?|\\~|!|\\?|(or|and|\\|\\||&&|\\?)=)/;\n  var delimiters = /^(?:[()\\[\\]{},:`=;]|\\.\\.?\\.?)/;\n  var identifiers = /^[_A-Za-z$][_A-Za-z$0-9]*/;\n  var atProp = /^@[_A-Za-z$][_A-Za-z$0-9]*/;\n\n  var wordOperators = wordRegexp([\"and\", \"or\", \"not\",\n                                  \"is\", \"isnt\", \"in\",\n                                  \"instanceof\", \"typeof\"]);\n  var indentKeywords = [\"for\", \"while\", \"loop\", \"if\", \"unless\", \"else\",\n                        \"switch\", \"try\", \"catch\", \"finally\", \"class\"];\n  var commonKeywords = [\"break\", \"by\", \"continue\", \"debugger\", \"delete\",\n                        \"do\", \"in\", \"of\", \"new\", \"return\", \"then\",\n                        \"this\", \"@\", \"throw\", \"when\", \"until\", \"extends\"];\n\n  var keywords = wordRegexp(indentKeywords.concat(commonKeywords));\n\n  indentKeywords = wordRegexp(indentKeywords);\n\n\n  var stringPrefixes = /^('{3}|\\\"{3}|['\\\"])/;\n  var regexPrefixes = /^(\\/{3}|\\/)/;\n  var commonConstants = [\"Infinity\", \"NaN\", \"undefined\", \"null\", \"true\", \"false\", \"on\", \"off\", \"yes\", \"no\"];\n  var constants = wordRegexp(commonConstants);\n\n  // Tokenizers\n  function tokenBase(stream, state) {\n    // Handle scope changes\n    if (stream.sol()) {\n      if (state.scope.align === null) state.scope.align = false;\n      var scopeOffset = state.scope.offset;\n      if (stream.eatSpace()) {\n        var lineOffset = stream.indentation();\n        if (lineOffset > scopeOffset && state.scope.type == \"coffee\") {\n          return \"indent\";\n        } else if (lineOffset < scopeOffset) {\n          return \"dedent\";\n        }\n        return null;\n      } else {\n        if (scopeOffset > 0) {\n          dedent(stream, state);\n        }\n      }\n    }\n    if (stream.eatSpace()) {\n      return null;\n    }\n\n    var ch = stream.peek();\n\n    // Handle docco title comment (single line)\n    if (stream.match(\"####\")) {\n      stream.skipToEnd();\n      return \"comment\";\n    }\n\n    // Handle multi line comments\n    if (stream.match(\"###\")) {\n      state.tokenize = longComment;\n      return state.tokenize(stream, state);\n    }\n\n    // Single line comment\n    if (ch === \"#\") {\n      stream.skipToEnd();\n      return \"comment\";\n    }\n\n    // Handle number literals\n    if (stream.match(/^-?[0-9\\.]/, false)) {\n      var floatLiteral = false;\n      // Floats\n      if (stream.match(/^-?\\d*\\.\\d+(e[\\+\\-]?\\d+)?/i)) {\n        floatLiteral = true;\n      }\n      if (stream.match(/^-?\\d+\\.\\d*/)) {\n        floatLiteral = true;\n      }\n      if (stream.match(/^-?\\.\\d+/)) {\n        floatLiteral = true;\n      }\n\n      if (floatLiteral) {\n        // prevent from getting extra . on 1..\n        if (stream.peek() == \".\"){\n          stream.backUp(1);\n        }\n        return \"number\";\n      }\n      // Integers\n      var intLiteral = false;\n      // Hex\n      if (stream.match(/^-?0x[0-9a-f]+/i)) {\n        intLiteral = true;\n      }\n      // Decimal\n      if (stream.match(/^-?[1-9]\\d*(e[\\+\\-]?\\d+)?/)) {\n        intLiteral = true;\n      }\n      // Zero by itself with no other piece of number.\n      if (stream.match(/^-?0(?![\\dx])/i)) {\n        intLiteral = true;\n      }\n      if (intLiteral) {\n        return \"number\";\n      }\n    }\n\n    // Handle strings\n    if (stream.match(stringPrefixes)) {\n      state.tokenize = tokenFactory(stream.current(), false, \"string\");\n      return state.tokenize(stream, state);\n    }\n    // Handle regex literals\n    if (stream.match(regexPrefixes)) {\n      if (stream.current() != \"/\" || stream.match(/^.*\\//, false)) { // prevent highlight of division\n        state.tokenize = tokenFactory(stream.current(), true, \"string-2\");\n        return state.tokenize(stream, state);\n      } else {\n        stream.backUp(1);\n      }\n    }\n\n\n\n    // Handle operators and delimiters\n    if (stream.match(operators) || stream.match(wordOperators)) {\n      return \"operator\";\n    }\n    if (stream.match(delimiters)) {\n      return \"punctuation\";\n    }\n\n    if (stream.match(constants)) {\n      return \"atom\";\n    }\n\n    if (stream.match(atProp) || state.prop && stream.match(identifiers)) {\n      return \"property\";\n    }\n\n    if (stream.match(keywords)) {\n      return \"keyword\";\n    }\n\n    if (stream.match(identifiers)) {\n      return \"variable\";\n    }\n\n    // Handle non-detected items\n    stream.next();\n    return ERRORCLASS;\n  }\n\n  function tokenFactory(delimiter, singleline, outclass) {\n    return function(stream, state) {\n      while (!stream.eol()) {\n        stream.eatWhile(/[^'\"\\/\\\\]/);\n        if (stream.eat(\"\\\\\")) {\n          stream.next();\n          if (singleline && stream.eol()) {\n            return outclass;\n          }\n        } else if (stream.match(delimiter)) {\n          state.tokenize = tokenBase;\n          return outclass;\n        } else {\n          stream.eat(/['\"\\/]/);\n        }\n      }\n      if (singleline) {\n        if (parserConf.singleLineStringErrors) {\n          outclass = ERRORCLASS;\n        } else {\n          state.tokenize = tokenBase;\n        }\n      }\n      return outclass;\n    };\n  }\n\n  function longComment(stream, state) {\n    while (!stream.eol()) {\n      stream.eatWhile(/[^#]/);\n      if (stream.match(\"###\")) {\n        state.tokenize = tokenBase;\n        break;\n      }\n      stream.eatWhile(\"#\");\n    }\n    return \"comment\";\n  }\n\n  function indent(stream, state, type) {\n    type = type || \"coffee\";\n    var offset = 0, align = false, alignOffset = null;\n    for (var scope = state.scope; scope; scope = scope.prev) {\n      if (scope.type === \"coffee\" || scope.type == \"}\") {\n        offset = scope.offset + conf.indentUnit;\n        break;\n      }\n    }\n    if (type !== \"coffee\") {\n      align = null;\n      alignOffset = stream.column() + stream.current().length;\n    } else if (state.scope.align) {\n      state.scope.align = false;\n    }\n    state.scope = {\n      offset: offset,\n      type: type,\n      prev: state.scope,\n      align: align,\n      alignOffset: alignOffset\n    };\n  }\n\n  function dedent(stream, state) {\n    if (!state.scope.prev) return;\n    if (state.scope.type === \"coffee\") {\n      var _indent = stream.indentation();\n      var matched = false;\n      for (var scope = state.scope; scope; scope = scope.prev) {\n        if (_indent === scope.offset) {\n          matched = true;\n          break;\n        }\n      }\n      if (!matched) {\n        return true;\n      }\n      while (state.scope.prev && state.scope.offset !== _indent) {\n        state.scope = state.scope.prev;\n      }\n      return false;\n    } else {\n      state.scope = state.scope.prev;\n      return false;\n    }\n  }\n\n  function tokenLexer(stream, state) {\n    var style = state.tokenize(stream, state);\n    var current = stream.current();\n\n    // Handle scope changes.\n    if (current === \"return\") {\n      state.dedent = true;\n    }\n    if (((current === \"->\" || current === \"=>\") && stream.eol())\n        || style === \"indent\") {\n      indent(stream, state);\n    }\n    var delimiter_index = \"[({\".indexOf(current);\n    if (delimiter_index !== -1) {\n      indent(stream, state, \"])}\".slice(delimiter_index, delimiter_index+1));\n    }\n    if (indentKeywords.exec(current)){\n      indent(stream, state);\n    }\n    if (current == \"then\"){\n      dedent(stream, state);\n    }\n\n\n    if (style === \"dedent\") {\n      if (dedent(stream, state)) {\n        return ERRORCLASS;\n      }\n    }\n    delimiter_index = \"])}\".indexOf(current);\n    if (delimiter_index !== -1) {\n      while (state.scope.type == \"coffee\" && state.scope.prev)\n        state.scope = state.scope.prev;\n      if (state.scope.type == current)\n        state.scope = state.scope.prev;\n    }\n    if (state.dedent && stream.eol()) {\n      if (state.scope.type == \"coffee\" && state.scope.prev)\n        state.scope = state.scope.prev;\n      state.dedent = false;\n    }\n\n    return style;\n  }\n\n  var external = {\n    startState: function(basecolumn) {\n      return {\n        tokenize: tokenBase,\n        scope: {offset:basecolumn || 0, type:\"coffee\", prev: null, align: false},\n        prop: false,\n        dedent: 0\n      };\n    },\n\n    token: function(stream, state) {\n      var fillAlign = state.scope.align === null && state.scope;\n      if (fillAlign && stream.sol()) fillAlign.align = false;\n\n      var style = tokenLexer(stream, state);\n      if (style && style != \"comment\") {\n        if (fillAlign) fillAlign.align = true;\n        state.prop = style == \"punctuation\" && stream.current() == \".\"\n      }\n\n      return style;\n    },\n\n    indent: function(state, text) {\n      if (state.tokenize != tokenBase) return 0;\n      var scope = state.scope;\n      var closer = text && \"])}\".indexOf(text.charAt(0)) > -1;\n      if (closer) while (scope.type == \"coffee\" && scope.prev) scope = scope.prev;\n      var closes = closer && scope.type === text.charAt(0);\n      if (scope.align)\n        return scope.alignOffset - (closes ? 1 : 0);\n      else\n        return (closes ? scope.prev : scope).offset;\n    },\n\n    lineComment: \"#\",\n    fold: \"indent\"\n  };\n  return external;\n});\n\n// IANA registered media type\n// https://www.iana.org/assignments/media-types/\nCodeMirror.defineMIME(\"application/vnd.coffeescript\", \"coffeescript\");\n\nCodeMirror.defineMIME(\"text/x-coffeescript\", \"coffeescript\");\nCodeMirror.defineMIME(\"text/coffeescript\", \"coffeescript\");\n\n});\n","//-- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2020 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2017 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See docs/COPYRIGHT.rdoc for more details.\n//++\n\n/**************************************\n  TASK\n***************************************/\n\nRB.Task = (function ($) {\n  return RB.Object.create(RB.WorkPackage, {\n\n    initialize: function (el) {\n      this.$ = $(el);\n      this.el = el;\n\n      // If node is based on #task_template, it doesn't have the story class yet\n      this.$.addClass(\"task\");\n\n      // Associate this object with the element for later retrieval\n      this.$.data('this', this);\n      this.$.on('mouseup', '.editable', this.handleClick);\n      this.defaultColor =  $('#rb .task').css('background-color');\n    },\n\n    beforeSave: function name() {\n      if (this.el && $(this.el).hasClass('dragging')){\n        return;\n      }\n      var c = this.$.find('select.assigned_to_id').children(':selected').attr('color') || this.defaultColor;\n      this.$.css('background-color', c);\n      this.$.colorcontrast();\n    },\n\n    editorDisplayed: function (dialog) {\n      dialog.parents('.ui-dialog').css('background-color', this.$.css('background-color'));\n      dialog.parents('.ui-dialog').colorcontrast();\n    },\n\n    getType: function () {\n      return \"Task\";\n    },\n\n    markIfClosed: function () {\n      if (this.$.parent('td').first().hasClass('closed')) {\n        this.$.addClass('closed');\n      } else {\n        this.$.removeClass('closed');\n      }\n    },\n\n    saveDirectives: function () {\n      var prev, cellId, data, url;\n\n      prev = this.$.prev();\n      cellId = this.$.parent('td').first().attr('id').split(\"_\");\n\n      data = this.$.find('.editor').serialize() +\n                 \"&parent_id=\" + cellId[0] +\n                 \"&status_id=\" + cellId[1] +\n                 \"&prev=\" + (prev.length === 1 ? prev.data('this').getID() : '') +\n                 (this.isNew() ? \"\" : \"&id=\" + this.$.children('.id').text());\n\n      if (this.isNew()) {\n        url = RB.urlFor('create_task', {sprint_id: RB.constants.sprint_id});\n      }\n      else {\n        url = RB.urlFor('update_task', {id: this.getID(), sprint_id: RB.constants.sprint_id});\n        data += \"&_method=put\";\n      }\n\n      return {\n        url: url,\n        data: data\n      };\n    },\n\n    beforeSaveDragResult: function () {\n      if (this.$.parent('td').first().hasClass('closed')) {\n        // This is only for the purpose of making the Remaining Hours reset\n        // instantaneously after dragging to a closed status. The server should\n        // still make sure to reset the value.\n        this.$.children('.remaining_hours.editor').val('');\n        this.$.children('.remaining_hours.editable').text('');\n      }\n    },\n\n    refreshed : function () {\n      var remainingHours = this.$.children('.remaining_hours.editable');\n\n      remainingHours.toggleClass('empty', remainingHours.is(':empty'));\n    }\n  });\n}(jQuery));\n","//-- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2020 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2017 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See docs/COPYRIGHT.rdoc for more details.\n//++\n\n/***************************************\n  MODEL\n  Common methods for sprint, work_package,\n  story, task, and impediment\n***************************************/\n\nRB.Model = (function ($) {\n  return RB.Object.create({\n\n    initialize: function (el) {\n      this.$ = $(el);\n      this.el = el;\n    },\n\n    afterCreate: function (data, textStatus, xhr) {\n      // Do nothing. Child objects may optionally override this\n    },\n\n    afterSave: function (data, textStatus, xhr) {\n      var isNew, result;\n\n      isNew = this.isNew();\n      result = RB.Factory.initialize(RB.Model, data);\n\n      this.unmarkSaving();\n      this.refresh(result);\n\n      if (isNew) {\n        this.$.attr('id', result.$.attr('id'));\n        this.afterCreate(data, textStatus, xhr);\n      }\n      else {\n        this.afterUpdate(data, textStatus, xhr);\n      }\n    },\n\n    afterUpdate: function (data, textStatus, xhr) {\n      // Do nothing. Child objects may optionally override this\n    },\n\n    beforeSave: function () {\n      // Do nothing. Child objects may or may not override this method\n    },\n\n    cancelEdit: function () {\n      this.endEdit();\n      if (this.isNew()) {\n        this.$.hide('blind');\n      }\n    },\n\n    close: function () {\n      this.$.addClass('closed');\n    },\n\n    copyFromDialog: function () {\n      var editors;\n\n      if (this.$.find(\".editors\").length === 0) {\n        editors = $(\"<div class='editors'></div>\").appendTo(this.$);\n      }\n      else {\n        editors = this.$.find(\".editors\").first();\n      }\n      editors.html(\"\");\n      editors.append($(\"#\" + this.getType().toLowerCase() + \"_editor\").children(\".editor\"));\n      this.saveEdits();\n    },\n\n    displayEditor: function (editor) {\n      var self = this,\n          baseClasses;\n\n      baseClasses = 'ui-button ui-widget ui-state-default ui-corner-all';\n\n      editor.dialog({\n        buttons: [\n        {\n          text: 'OK',\n          class: 'button -highlight',\n          click: function () {\n            self.copyFromDialog();\n            $(this).dialog(\"close\");\n          }\n        },\n        {\n          text: 'Cancel',\n          class: 'button',\n          click: function () {\n            self.cancelEdit();\n            $(this).dialog(\"close\");\n          }\n        },\n        ],\n        close: function (e, ui) {\n          if (e.which === 1 || e.which === 27) {\n            self.cancelEdit();\n          }\n        },\n        dialogClass: this.getType().toLowerCase() + '_editor_dialog',\n        modal:       true,\n        position:    { my: 'center', at: 'center', of: window },\n        resizable:   false,\n        title:       (this.isNew() ? this.newDialogTitle() : this.editDialogTitle())\n      });\n      editor.find(\".editor\").first().focus();\n      $('.button').removeClass(baseClasses);\n      $('.ui-icon-closethick').prop('title', 'close');\n    },\n\n    edit: function () {\n      var editor = this.getEditor(),\n          self = this,\n          maxTabIndex = 0;\n\n      $('.stories .editors .editor').each(function (index) {\n        var value;\n\n        value = parseInt($(this).attr('tabindex'), 10);\n\n        if (maxTabIndex < value) {\n          maxTabIndex = value;\n        }\n      });\n\n      if (!editor.hasClass('permanent')) {\n        this.$.find('.editable').each(function (index) {\n          let field, fieldId, fieldType, fieldLabel, fieldName, fieldOrder, input, newInput,\n            typeId, statusId;\n\n          field = $(this);\n          fieldId = field.attr('field_id');\n          fieldName = field.attr('fieldname');\n          fieldLabel = field.attr('fieldlabel');\n          fieldOrder = parseInt(field.attr('fieldorder'), 10);\n          fieldType = field.attr('fieldtype') || 'input';\n\n          if (!fieldLabel) {\n            fieldLabel = fieldName.replace(/_/ig, \" \").replace(/ id$/ig, \"\");\n          }\n\n          if (fieldType === 'select') {\n            // Special handling for status_id => they are dependent of type_id\n            if (fieldName === 'status_id') {\n              typeId = $.trim(self.$.find('.type_id .v').html());\n              // when creating stories we need to query the select directly\n              if (typeId === '') {\n                typeId = $('#type_id_options').val();\n              }\n              statusId = $.trim(self.$.find('.status_id .v').html());\n              input = self.findFactory(typeId, statusId, fieldName);\n            } else if (fieldName === 'type_id') {\n              input = $('#' + fieldName + '_options').clone(true);\n              // if the type changes the status dropdown has to be modified\n              input.change(function () {\n                typeId = $(this).val();\n                statusId = $.trim(self.$.find('.status_id .v').html());\n                newInput = self.findFactory(typeId, statusId, 'status_id');\n                newInput = self.prepareInputFromFactory(newInput, fieldId, 'status_id', fieldOrder, maxTabIndex);\n                newInput = self.replaceStatusForNewType(input, newInput, $(this).parent().find('.status_id').val(), editor);\n              });\n            } else {\n              input = $('#' + fieldName + '_options').clone(true);\n            }\n          } else {\n            input = $(document.createElement(fieldType));\n          }\n\n          input = self.prepareInputFromFactory(input, fieldId, fieldName, fieldOrder, maxTabIndex);\n\n          // Copy the value in the field to the input element\n          input.val(fieldType === 'select' ? field.children('.v').first().text() : field.text());\n\n          // Record in the model's root element which input field had the last focus. We will\n          // use this information inside RB.Model.refresh() to determine where to return the\n          // focus after the element has been refreshed with info from the server.\n          input.focus(function () {\n            self.$.data('focus', $(this).attr('name'));\n          });\n\n          input.blur(function () {\n            self.$.data('focus', '');\n          });\n\n          $(\"<label />\").attr({\n            for: input.attr('id'),\n          }).text(fieldLabel).appendTo(editor);\n          input.appendTo(editor);\n        });\n      }\n\n      this.displayEditor(editor);\n      this.editorDisplayed(editor);\n      return editor;\n    },\n\n    findFactory: function (typeId, statusId, fieldName){\n      // Find a factory\n      newInput = $('#' + fieldName + '_options_' + typeId + '_' + statusId);\n      if (newInput.length === 0) {\n        // when no list found, only offer the default status\n        // no list = combination is not valid / user has no rights -> workflow\n        newInput = $('#status_id_options_default_' + statusId);\n      }\n      newInput = newInput.clone(true);\n      return newInput;\n    },\n\n    prepareInputFromFactory: function (input,fieldId,fieldName,fieldOrder, maxTabIndex) {\n      input.attr('id', fieldName + '_' + fieldId);\n      input.attr('name', fieldName);\n      input.attr('tabindex', fieldOrder + maxTabIndex);\n      input.addClass(fieldName);\n      input.addClass('editor');\n      input.removeClass('template');\n      input.removeClass('helper');\n      return input;\n    },\n\n    replaceStatusForNewType: function (input,newInput, statusId, editor) {\n      // Append an empty field and select it in case the old status is not available\n      newInput.val(statusId); // try to set the status\n      if (newInput.val() !== statusId){\n          newInput.append(new Option('',''));\n          newInput.val('');\n      }\n      newInput.focus(function () {\n        self.$.data('focus', $(this).attr('name'));\n      });\n\n      newInput.blur(function () {\n        self.$.data('focus', '');\n      });\n      // Find the old status dropdown and replace it with the new one\n      input.parent().find('.status_id').replaceWith(newInput);\n    },\n\n    // Override this method to change the dialog title\n    editDialogTitle: function () {\n      return \"Edit \" + this.getType();\n    },\n\n    editorDisplayed: function (editor) {\n      // Do nothing. Child objects may override this.\n    },\n\n    endEdit: function () {\n      this.$.removeClass('editing');\n    },\n\n    error: function (xhr, textStatus, error) {\n      this.markError();\n      RB.Dialog.msg($(xhr.responseText).find('.errors').html());\n      this.processError(xhr, textStatus, error);\n    },\n\n    getEditor: function () {\n      var editorId, editor;\n      // Create the model editor if it does not yet exist\n      editorId = this.getType().toLowerCase() + \"_editor\";\n\n      editor = $(\"#\" + editorId).html(\"\");\n\n      if (editor.length === 0) {\n        editor = $(\"<div id='\" + editorId + \"'></div>\").appendTo(\"body\");\n      }\n      return editor;\n    },\n\n    getID: function () {\n      return this.$.children('.id').children('.v').text();\n    },\n\n    getType: function () {\n      throw \"Child objects must override getType()\";\n    },\n\n    handleClick: function (e) {\n      var field, model, j, editor;\n\n      field = $(this);\n      model = field.parents('.model').first().data('this');\n      j = model.$;\n\n      if (!j.hasClass('editing') && !j.hasClass('dragging') && !j.hasClass('prevent_edit') && !$(e.target).hasClass('prevent_edit')) {\n        editor = model.edit();\n        var input = editor.find('.' + $(e.currentTarget).attr('fieldname') + '.editor');\n\n        input.focus();\n        input.click();\n      }\n    },\n\n    handleSelect: function (e) {\n      var j = $(this),\n          self = j.data('this');\n\n      if (!$(e.target).hasClass('editable') &&\n          !$(e.target).hasClass('checkbox') &&\n          !j.hasClass('editing') &&\n          e.target.tagName !== 'A' &&\n          !j.hasClass('dragging')) {\n\n        self.setSelection(!self.isSelected());\n      }\n    },\n\n    isClosed: function () {\n      return this.$.hasClass('closed');\n    },\n\n    isNew: function () {\n      return this.getID() === \"\";\n    },\n\n    markError: function () {\n      this.$.addClass('error icon icon-bug');\n    },\n\n    markIfClosed: function () {\n      throw \"Child objects must override markIfClosed()\";\n    },\n\n    markSaving: function () {\n      this.$.addClass('ajax-indicator');\n    },\n\n    // Override this method to change the dialog title\n    newDialogTitle: function () {\n      return \"New \" + this.getType();\n    },\n\n    open: function () {\n      this.$.removeClass('closed');\n    },\n\n    processError: function (x, t, e) {\n      // Override as needed\n    },\n\n    refresh: function (obj) {\n      this.$.html(obj.$.html());\n\n      if (obj.$.length > 1) {\n        // execute script tags, that were attached to the sources\n        obj.$.filter('script').each(function () {\n          try {\n            $.globalEval($(this).html());\n          }\n          catch (e) {\n          }\n        });\n      }\n\n      if (obj.isClosed()) {\n        this.close();\n      } else {\n        this.open();\n      }\n      this.refreshed();\n    },\n\n    refreshed: function () {\n      // Override as needed\n    },\n\n    saveDirectives: function () {\n      throw \"Child object must implement saveDirectives()\";\n    },\n\n    saveEdits: function () {\n      var j = this.$,\n          self = this,\n          editors = j.find('.editor'),\n          saveDir;\n\n      // Copy the values from the fields to the proper html elements\n      editors.each(function (index) {\n        var editor, fieldName;\n\n        editor = $(this);\n        fieldName = editor.attr('name');\n        if (this.type.match(/select/)) {\n          // if the user changes the type and that type does not offer the status\n          // of the current story, the status field is set to blank\n          // if the user saves this edit we will receive a validation error\n          // the following 3 lines will prevent the override of the status id\n          // otherwise we would loose the status id of the current ticket\n          if (!(editor.val() === '' && fieldName === 'status_id')){\n            j.children('div.' + fieldName).children('.v').text(editor.val());\n          }\n\n          j.children('div.' + fieldName).children('.t').text(editor.children(':selected').text());\n\n        } else {\n          j.children('div.' + fieldName).text(editor.val());\n        }\n      });\n\n      // Mark the work_package as closed if so\n      self.markIfClosed();\n\n      // Get the save directives.\n      saveDir = self.saveDirectives();\n\n      self.beforeSave();\n\n      self.unmarkError();\n      self.markSaving();\n      RB.ajax({\n        type: \"POST\",\n        url: saveDir.url,\n        data: saveDir.data,\n        success   : function (d, t, x) {\n          self.afterSave(d, t, x);\n        },\n        error     : function (x, t, e) {\n          self.error(x, t, e);\n        }\n      });\n      self.endEdit();\n    },\n\n    unmarkError: function () {\n      this.$.removeClass('error icon icon-bug');\n    },\n\n    unmarkSaving: function () {\n      this.$.removeClass('ajax-indicator');\n    }\n  });\n}(jQuery));\n","//-- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2020 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2017 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See docs/COPYRIGHT.rdoc for more details.\n//++\n\nRB.EditableInplace = (function ($) {\n  return RB.Object.create(RB.Model, {\n\n    displayEditor: function (editor) {\n      this.$.addClass(\"editing\");\n      editor.find(\".editor\").bind('keydown', this.handleKeydown);\n    },\n\n    getEditor: function () {\n      // Create the model editor container if it does not yet exist\n      var editor = this.$.children(\".editors\");\n\n      if (editor.length === 0) {\n        editor = $(\"<div class='editors'></div>\").appendTo(this.$);\n      } else if (!editor.hasClass('permanent')) {\n        editor.first().html('');\n      }\n      return editor;\n    },\n\n    // For detecting Enter and ESC\n    handleKeydown: function (e) {\n      var j, that;\n\n      j = $(this).parents('.model').first();\n      that = j.data('this');\n\n      // 13 is the key code of Enter, 27 of ESC.\n      if (e.which === 13) {\n        that.saveEdits();\n      } else if (e.which === 27) {\n        that.cancelEdit();\n      } else {\n        return true;\n      }\n    }\n  });\n}(jQuery));\n","//-- copyright\n// OpenProject is an open source project management software.\n// Copyright (C) 2012-2020 the OpenProject GmbH\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License version 3.\n//\n// OpenProject is a fork of ChiliProject, which is a fork of Redmine. The copyright follows:\n// Copyright (C) 2006-2017 Jean-Philippe Lang\n// Copyright (C) 2010-2013 the ChiliProject Team\n//\n// This program is free software; you can redistribute it and/or\n// modify it under the terms of the GNU General Public License\n// as published by the Free Software Foundation; either version 2\n// of the License, or (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with this program; if not, write to the Free Software\n// Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n//\n// See docs/COPYRIGHT.rdoc for more details.\n//++\n\n// Initialize everything after DOM is loaded\njQuery(function ($) {\n  var defaultDialogColor; // this var is used as cache for some computation in\n                          // the inner function. -> Do not move to where it\n                          // actually belongs!\n\n  RB.Factory.initialize(RB.Taskboard, $('#taskboard'));\n\n  $('#assigned_to_id_options').change(function () {\n    var selected = $(this).children(':selected');\n    if (!defaultDialogColor) {\n      // fetch the color from the task rendered as a prototype/template for new tasks\n      defaultDialogColor = $('#work_package_').css('background-color');\n    }\n    $(this).parents('.ui-dialog').css('background-color', selected.attr('color') || defaultDialogColor);\n    $(this).parents('.ui-dialog').colorcontrast();\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nCodeMirror.defineMode(\"yaml\", function() {\n\n  var cons = ['true', 'false', 'on', 'off', 'yes', 'no'];\n  var keywordRegex = new RegExp(\"\\\\b((\"+cons.join(\")|(\")+\"))$\", 'i');\n\n  return {\n    token: function(stream, state) {\n      var ch = stream.peek();\n      var esc = state.escaped;\n      state.escaped = false;\n      /* comments */\n      if (ch == \"#\" && (stream.pos == 0 || /\\s/.test(stream.string.charAt(stream.pos - 1)))) {\n        stream.skipToEnd();\n        return \"comment\";\n      }\n\n      if (stream.match(/^('([^']|\\\\.)*'?|\"([^\"]|\\\\.)*\"?)/))\n        return \"string\";\n\n      if (state.literal && stream.indentation() > state.keyCol) {\n        stream.skipToEnd(); return \"string\";\n      } else if (state.literal) { state.literal = false; }\n      if (stream.sol()) {\n        state.keyCol = 0;\n        state.pair = false;\n        state.pairStart = false;\n        /* document start */\n        if(stream.match(/---/)) { return \"def\"; }\n        /* document end */\n        if (stream.match(/\\.\\.\\./)) { return \"def\"; }\n        /* array list item */\n        if (stream.match(/\\s*-\\s+/)) { return 'meta'; }\n      }\n      /* inline pairs/lists */\n      if (stream.match(/^(\\{|\\}|\\[|\\])/)) {\n        if (ch == '{')\n          state.inlinePairs++;\n        else if (ch == '}')\n          state.inlinePairs--;\n        else if (ch == '[')\n          state.inlineList++;\n        else\n          state.inlineList--;\n        return 'meta';\n      }\n\n      /* list seperator */\n      if (state.inlineList > 0 && !esc && ch == ',') {\n        stream.next();\n        return 'meta';\n      }\n      /* pairs seperator */\n      if (state.inlinePairs > 0 && !esc && ch == ',') {\n        state.keyCol = 0;\n        state.pair = false;\n        state.pairStart = false;\n        stream.next();\n        return 'meta';\n      }\n\n      /* start of value of a pair */\n      if (state.pairStart) {\n        /* block literals */\n        if (stream.match(/^\\s*(\\||\\>)\\s*/)) { state.literal = true; return 'meta'; };\n        /* references */\n        if (stream.match(/^\\s*(\\&|\\*)[a-z0-9\\._-]+\\b/i)) { return 'variable-2'; }\n        /* numbers */\n        if (state.inlinePairs == 0 && stream.match(/^\\s*-?[0-9\\.\\,]+\\s?$/)) { return 'number'; }\n        if (state.inlinePairs > 0 && stream.match(/^\\s*-?[0-9\\.\\,]+\\s?(?=(,|}))/)) { return 'number'; }\n        /* keywords */\n        if (stream.match(keywordRegex)) { return 'keyword'; }\n      }\n\n      /* pairs (associative arrays) -> key */\n      if (!state.pair && stream.match(/^\\s*(?:[,\\[\\]{}&*!|>'\"%@`][^\\s'\":]|[^,\\[\\]{}#&*!|>'\"%@`])[^#]*?(?=\\s*:($|\\s))/)) {\n        state.pair = true;\n        state.keyCol = stream.indentation();\n        return \"atom\";\n      }\n      if (state.pair && stream.match(/^:\\s*/)) { state.pairStart = true; return 'meta'; }\n\n      /* nothing found, continue */\n      state.pairStart = false;\n      state.escaped = (ch == '\\\\');\n      stream.next();\n      return null;\n    },\n    startState: function() {\n      return {\n        pair: false,\n        pairStart: false,\n        keyCol: 0,\n        inlinePairs: 0,\n        inlineList: 0,\n        literal: false,\n        escaped: false\n      };\n    },\n    lineComment: \"#\",\n    fold: \"indent\"\n  };\n});\n\nCodeMirror.defineMIME(\"text/x-yaml\", \"yaml\");\nCodeMirror.defineMIME(\"text/yaml\", \"yaml\");\n\n});\n"],"sourceRoot":"webpack:///"}